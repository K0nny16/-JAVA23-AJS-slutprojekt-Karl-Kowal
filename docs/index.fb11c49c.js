let e,t,n,r,i,s,a,o,l,u,c,h,d,f;function p(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var m,g,v,_,y,b,w,k,C,S,E,I,T,P,x,N,R,O,D,L,A=globalThis,M={},F={},U=A.parcelRequiref8ee;null==U&&((U=function(e){if(e in M)return M[e].exports;if(e in F){var t=F[e];delete F[e];var n={id:e,exports:{}};return M[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){F[e]=t},A.parcelRequiref8ee=U);var z=U.register;z("1b2ls",function(e,t){p(e.exports,"Fragment",()=>n,e=>n=e),p(e.exports,"jsx",()=>r,e=>r=e),p(e.exports,"jsxs",()=>i,e=>i=e);var n,r,i,s=U("acw62"),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function h(e,t,n){var r,i={},s=null,o=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)l.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:s,ref:o,props:i,_owner:u.current}}n=o,r=h,i=h}),z("acw62",function(e,t){e.exports=U("2pUnB")}),z("2pUnB",function(e,t){p(e.exports,"Children",()=>n,e=>n=e),p(e.exports,"Component",()=>r,e=>r=e),p(e.exports,"Fragment",()=>i,e=>i=e),p(e.exports,"Profiler",()=>s,e=>s=e),p(e.exports,"PureComponent",()=>a,e=>a=e),p(e.exports,"StrictMode",()=>o,e=>o=e),p(e.exports,"Suspense",()=>l,e=>l=e),p(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>u,e=>u=e),p(e.exports,"act",()=>c,e=>c=e),p(e.exports,"cloneElement",()=>h,e=>h=e),p(e.exports,"createContext",()=>d,e=>d=e),p(e.exports,"createElement",()=>f,e=>f=e),p(e.exports,"createFactory",()=>m,e=>m=e),p(e.exports,"createRef",()=>g,e=>g=e),p(e.exports,"forwardRef",()=>v,e=>v=e),p(e.exports,"isValidElement",()=>_,e=>_=e),p(e.exports,"lazy",()=>y,e=>y=e),p(e.exports,"memo",()=>b,e=>b=e),p(e.exports,"startTransition",()=>w,e=>w=e),p(e.exports,"unstable_act",()=>k,e=>k=e),p(e.exports,"useCallback",()=>C,e=>C=e),p(e.exports,"useContext",()=>S,e=>S=e),p(e.exports,"useDebugValue",()=>E,e=>E=e),p(e.exports,"useDeferredValue",()=>I,e=>I=e),p(e.exports,"useEffect",()=>T,e=>T=e),p(e.exports,"useId",()=>P,e=>P=e),p(e.exports,"useImperativeHandle",()=>x,e=>x=e),p(e.exports,"useInsertionEffect",()=>N,e=>N=e),p(e.exports,"useLayoutEffect",()=>R,e=>R=e),p(e.exports,"useMemo",()=>O,e=>O=e),p(e.exports,"useReducer",()=>D,e=>D=e),p(e.exports,"useRef",()=>L,e=>L=e),p(e.exports,"useState",()=>A,e=>A=e),p(e.exports,"useSyncExternalStore",()=>M,e=>M=e),p(e.exports,"useTransition",()=>F,e=>F=e),p(e.exports,"version",()=>U,e=>U=e);var n,r,i,s,a,o,l,u,c,h,d,f,m,g,v,_,y,b,w,k,C,S,E,I,T,P,x,N,R,O,D,L,A,M,F,U,z=Symbol.for("react.element"),j=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),V=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),B=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),K=Symbol.for("react.suspense"),Q=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),Y=Symbol.iterator,J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,Z={};function ee(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||J}function et(){}function en(e,t,n){this.props=e,this.context=t,this.refs=Z,this.updater=n||J}ee.prototype.isReactComponent={},ee.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ee.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},et.prototype=ee.prototype;var er=en.prototype=new et;er.constructor=en,X(er,ee.prototype),er.isPureReactComponent=!0;var ei=Array.isArray,es=Object.prototype.hasOwnProperty,ea={current:null},eo={key:!0,ref:!0,__self:!0,__source:!0};function el(e,t,n){var r,i={},s=null,a=null;if(null!=t)for(r in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)es.call(t,r)&&!eo.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:z,type:e,key:s,ref:a,props:i,_owner:ea.current}}function eu(e){return"object"==typeof e&&null!==e&&e.$$typeof===z}var ec=/\/+/g;function eh(e,t){var n,r;return"object"==typeof e&&null!==e&&null!=e.key?(n=""+e.key,r={"=":"=0",":":"=2"},"$"+n.replace(/[=:]/g,function(e){return r[e]})):t.toString(36)}function ed(e,t,n){if(null==e)return e;var r=[],i=0;return function e(t,n,r,i,s){var a,o,l,u=typeof t;("undefined"===u||"boolean"===u)&&(t=null);var c=!1;if(null===t)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case z:case j:c=!0}}if(c)return s=s(c=t),t=""===i?"."+eh(c,0):i,ei(s)?(r="",null!=t&&(r=t.replace(ec,"$&/")+"/"),e(s,n,r,"",function(e){return e})):null!=s&&(eu(s)&&(a=s,o=r+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(ec,"$&/")+"/")+t,s={$$typeof:z,type:a.type,key:o,ref:a.ref,props:a.props,_owner:a._owner}),n.push(s)),1;if(c=0,i=""===i?".":i+":",ei(t))for(var h=0;h<t.length;h++){var d=i+eh(u=t[h],h);c+=e(u,n,r,d,s)}else if("function"==typeof(d=null===(l=t)||"object"!=typeof l?null:"function"==typeof(l=Y&&l[Y]||l["@@iterator"])?l:null))for(t=d.call(t),h=0;!(u=t.next()).done;)d=i+eh(u=u.value,h++),c+=e(u,n,r,d,s);else if("object"===u)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(n=String(t))?"object with keys {"+Object.keys(t).join(", ")+"}":n)+"). If you meant to render a collection of children, use an array instead.");return c}(e,r,"","",function(e){return t.call(n,e,i++)}),r}function ef(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)},function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var ep={current:null},em={transition:null};function eg(){throw Error("act(...) is not supported in production builds of React.")}n={map:ed,forEach:function(e,t,n){ed(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ed(e,function(){t++}),t},toArray:function(e){return ed(e,function(e){return e})||[]},only:function(e){if(!eu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},r=ee,i=W,s=q,a=en,o=V,l=K,u={ReactCurrentDispatcher:ep,ReactCurrentBatchConfig:em,ReactCurrentOwner:ea},c=eg,h=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=X({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=ea.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)es.call(t,l)&&!eo.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==o?o[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:z,type:e.type,key:i,ref:s,props:r,_owner:a}},d=function(e){return(e={$$typeof:B,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:H,_context:e},e.Consumer=e},f=el,m=function(e){var t=el.bind(null,e);return t.type=e,t},g=function(){return{current:null}},v=function(e){return{$$typeof:$,render:e}},_=eu,y=function(e){return{$$typeof:G,_payload:{_status:-1,_result:e},_init:ef}},b=function(e,t){return{$$typeof:Q,type:e,compare:void 0===t?null:t}},w=function(e){var t=em.transition;em.transition={};try{e()}finally{em.transition=t}},k=eg,C=function(e,t){return ep.current.useCallback(e,t)},S=function(e){return ep.current.useContext(e)},E=function(){},I=function(e){return ep.current.useDeferredValue(e)},T=function(e,t){return ep.current.useEffect(e,t)},P=function(){return ep.current.useId()},x=function(e,t,n){return ep.current.useImperativeHandle(e,t,n)},N=function(e,t){return ep.current.useInsertionEffect(e,t)},R=function(e,t){return ep.current.useLayoutEffect(e,t)},O=function(e,t){return ep.current.useMemo(e,t)},D=function(e,t,n){return ep.current.useReducer(e,t,n)},L=function(e){return ep.current.useRef(e)},A=function(e){return ep.current.useState(e)},M=function(e,t,n){return ep.current.useSyncExternalStore(e,t,n)},F=function(){return ep.current.useTransition()},U="18.3.1"}),z("Xw6Mv",function(e,t){p(e.exports,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",()=>q,e=>q=e),p(e.exports,"createPortal",()=>H,e=>H=e),p(e.exports,"createRoot",()=>B,e=>B=e),p(e.exports,"findDOMNode",()=>$,e=>$=e),p(e.exports,"flushSync",()=>K,e=>K=e),p(e.exports,"hydrate",()=>Q,e=>Q=e),p(e.exports,"hydrateRoot",()=>G,e=>G=e),p(e.exports,"render",()=>Y,e=>Y=e),p(e.exports,"unmountComponentAtNode",()=>J,e=>J=e),p(e.exports,"unstable_batchedUpdates",()=>X,e=>X=e),p(e.exports,"unstable_renderSubtreeIntoContainer",()=>Z,e=>Z=e),p(e.exports,"version",()=>ee,e=>ee=e);var n,r,i,s,a,o,l=U("acw62"),u=U("fO90s");function c(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=new Set,d={};function f(e,t){m(e,t),m(e+"Capture",t)}function m(e,t){for(d[e]=t,e=0;e<t.length;e++)h.add(t[e])}var g=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),v=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},b={};function w(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){k[e]=new w(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];k[t]=new w(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){k[e]=new w(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){k[e]=new w(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){k[e]=new w(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){k[e]=new w(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){k[e]=new w(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){k[e]=new w(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){k[e]=new w(e,5,!1,e.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function S(e){return e[1].toUpperCase()}function E(e,t,n,r){var i,s=k.hasOwnProperty(t)?k[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":if(r)return!1;if(null!==n)return!n.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?(i=t,(!!v.call(b,i)||!v.call(y,i)&&(_.test(i)?b[i]=!0:(y[i]=!0,!1)))&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n))):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(C,S);k[t]=new w(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(C,S);k[t]=new w(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(C,S);k[t]=new w(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){k[e]=new w(e,1,!1,e.toLowerCase(),null,!1,!1)}),k.xlinkHref=new w("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){k[e]=new w(e,1,!1,e.toLowerCase(),null,!0,!0)});var I=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,T=Symbol.for("react.element"),P=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),z=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var j=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var W=Symbol.iterator;function V(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=W&&e[W]||e["@@iterator"])?e:null}var q,H,B,$,K,Q,G,Y,J,X,Z,ee,et,en=Object.assign;function er(e){if(void 0===et)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);et=t&&t[1]||""}return"\n"+et+e}var ei=!1;function es(e,t){if(!e||ei)return"";ei=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t){if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o)break}}}finally{ei=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?er(e):""}function ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function eo(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function el(e){e._valueTracker||(e._valueTracker=function(e){var t=eo(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function eu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=eo(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ec(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function eh(e,t){var n=t.checked;return en({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ed(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=ea(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function ef(e,t){null!=(t=t.checked)&&E(e,"checked",t,!1)}function ep(e,t){ef(e,t);var n=ea(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r){e.removeAttribute("value");return}t.hasOwnProperty("value")?eg(e,t.type,n):t.hasOwnProperty("defaultValue")&&eg(e,t.type,ea(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function em(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function eg(e,t,n){("number"!==t||ec(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ev=Array.isArray;function e_(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(i=0,n=""+ea(n),t=null;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ey(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(c(91));return en({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eb(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(c(92));if(ev(n)){if(1<n.length)throw Error(c(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ea(n)}}function ew(e,t){var n=ea(t.value),r=ea(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ek(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function eC(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eS(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?eC(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var eE,eI,eT=(eE=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((eI=eI||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=eI.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return eE(e,t,n,r)})}:eE);function eP(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType){n.nodeValue=t;return}}e.textContent=t}var ex={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eN=["Webkit","ms","Moz","O"];function eR(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ex.hasOwnProperty(e)&&ex[e]?(""+t).trim():t+"px"}function eO(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=eR(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ex).forEach(function(e){eN.forEach(function(t){ex[t=t+e.charAt(0).toUpperCase()+e.substring(1)]=ex[e]})});var eD=en({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eL(e,t){if(t){if(eD[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(c(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(c(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(c(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(c(62))}}function eA(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=null;function eF(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var eU=null,ez=null,ej=null;function eW(e){if(e=rG(e)){if("function"!=typeof eU)throw Error(c(280));var t=e.stateNode;t&&(t=rJ(t),eU(e.stateNode,e.type,t))}}function eV(e){ez?ej?ej.push(e):ej=[e]:ez=e}function eq(){if(ez){var e=ez,t=ej;if(ej=ez=null,eW(e),t)for(e=0;e<t.length;e++)eW(t[e])}}function eH(e,t){return e(t)}function eB(){}var e$=!1;function eK(e,t,n){if(e$)return e(t,n);e$=!0;try{return eH(e,t,n)}finally{e$=!1,(null!==ez||null!==ej)&&(eB(),eq())}}function eQ(e,t){var n=e.stateNode;if(null===n)return null;var r=rJ(n);if(null===r)return null;switch(n=r[t],t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(c(231,t,typeof n));return n}var eG=!1;if(g)try{var eY={};Object.defineProperty(eY,"passive",{get:function(){eG=!0}}),window.addEventListener("test",eY,eY),window.removeEventListener("test",eY,eY)}catch(e){eG=!1}function eJ(e,t,n,r,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var eX=!1,eZ=null,e0=!1,e1=null,e2={onError:function(e){eX=!0,eZ=e}};function e3(e,t,n,r,i,s,a,o,l){eX=!1,eZ=null,eJ.apply(e2,arguments)}function e4(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do 0!=(4098&(t=e).flags)&&(n=t.return),e=t.return;while(e)}return 3===t.tag?n:null}function e6(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function e5(e){if(e4(e)!==e)throw Error(c(188))}function e8(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=e4(e)))throw Error(c(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return e5(i),e;if(s===r)return e5(i),t;s=s.sibling}throw Error(c(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(c(189))}}if(n.alternate!==r)throw Error(c(190))}if(3!==n.tag)throw Error(c(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var e9=u.unstable_scheduleCallback,e7=u.unstable_cancelCallback,te=u.unstable_shouldYield,tt=u.unstable_requestPaint,tn=u.unstable_now,tr=u.unstable_getCurrentPriorityLevel,ti=u.unstable_ImmediatePriority,ts=u.unstable_UserBlockingPriority,ta=u.unstable_NormalPriority,to=u.unstable_LowPriority,tl=u.unstable_IdlePriority,tu=null,tc=null,th=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(td(e)/tf|0)|0},td=Math.log,tf=Math.LN2,tp=64,tm=4194304;function tg(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function tv(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=tg(o):0!=(s&=a)&&(r=tg(s))}else 0!=(a=n&~i)?r=tg(a):0!==s&&(r=tg(s));if(0===r)return 0;if(0!==t&&t!==r&&0==(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(0!=(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-th(t)),r|=e[n],t&=~i;return r}function t_(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ty(){var e=tp;return 0==(4194240&(tp<<=1))&&(tp=64),e}function tb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function tw(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-th(t)]=n}function tk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-th(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var tC=0;function tS(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var tE,tI,tT,tP,tx,tN=!1,tR=[],tO=null,tD=null,tL=null,tA=new Map,tM=new Map,tF=[],tU="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tz(e,t){switch(e){case"focusin":case"focusout":tO=null;break;case"dragenter":case"dragleave":tD=null;break;case"mouseover":case"mouseout":tL=null;break;case"pointerover":case"pointerout":tA.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":tM.delete(t.pointerId)}}function tj(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&null!==(t=rG(t))&&tI(t)):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i)),e}function tW(e){var t=rQ(e.target);if(null!==t){var n=e4(t);if(null!==n){if(13===(t=n.tag)){if(null!==(t=e6(n))){e.blockedOn=t,tx(e.priority,function(){tT(n)});return}}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===n.tag?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function tV(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tZ(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=rG(n))&&tI(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);eM=r,n.target.dispatchEvent(r),eM=null,t.shift()}return!0}function tq(e,t,n){tV(e)&&n.delete(t)}function tH(){tN=!1,null!==tO&&tV(tO)&&(tO=null),null!==tD&&tV(tD)&&(tD=null),null!==tL&&tV(tL)&&(tL=null),tA.forEach(tq),tM.forEach(tq)}function tB(e,t){e.blockedOn===t&&(e.blockedOn=null,tN||(tN=!0,u.unstable_scheduleCallback(u.unstable_NormalPriority,tH)))}function t$(e){function t(t){return tB(t,e)}if(0<tR.length){tB(tR[0],e);for(var n=1;n<tR.length;n++){var r=tR[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==tO&&tB(tO,e),null!==tD&&tB(tD,e),null!==tL&&tB(tL,e),tA.forEach(t),tM.forEach(t),n=0;n<tF.length;n++)(r=tF[n]).blockedOn===e&&(r.blockedOn=null);for(;0<tF.length&&null===(n=tF[0]).blockedOn;)tW(n),null===n.blockedOn&&tF.shift()}var tK=I.ReactCurrentBatchConfig,tQ=!0;function tG(e,t,n,r){var i=tC,s=tK.transition;tK.transition=null;try{tC=1,tJ(e,t,n,r)}finally{tC=i,tK.transition=s}}function tY(e,t,n,r){var i=tC,s=tK.transition;tK.transition=null;try{tC=4,tJ(e,t,n,r)}finally{tC=i,tK.transition=s}}function tJ(e,t,n,r){if(tQ){var i=tZ(e,t,n,r);if(null===i)rb(e,t,r,tX,n),tz(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return tO=tj(tO,e,t,n,r,i),!0;case"dragenter":return tD=tj(tD,e,t,n,r,i),!0;case"mouseover":return tL=tj(tL,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return tA.set(s,tj(tA.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tM.set(s,tj(tM.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(tz(e,r),4&t&&-1<tU.indexOf(e)){for(;null!==i;){var s=rG(i);if(null!==s&&tE(s),null===(s=tZ(e,t,n,r))&&rb(e,t,r,tX,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else rb(e,t,r,null,n)}}var tX=null;function tZ(e,t,n,r){if(tX=null,null!==(e=rQ(e=eF(r)))){if(null===(t=e4(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=e6(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}return tX=e,null}function t0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tr()){case ti:return 1;case ts:return 4;case ta:case to:return 16;case tl:return 536870912;default:return 16}default:return 16}}var t1=null,t2=null,t3=null;function t4(){if(t3)return t3;var e,t,n=t2,r=n.length,i="value"in t1?t1.value:t1.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return t3=i.slice(e,1<t?1-t:void 0)}function t6(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function t5(){return!0}function t8(){return!1}function t9(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?t5:t8,this.isPropagationStopped=t8,this}return en(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=t5)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=t5)},persist:function(){},isPersistent:t5}),t}var t7,ne,nt,nn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nr=t9(nn),ni=en({},nn,{view:0,detail:0}),ns=t9(ni),na=en({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nv,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nt&&(nt&&"mousemove"===e.type?(t7=e.screenX-nt.screenX,ne=e.screenY-nt.screenY):ne=t7=0,nt=e),t7)},movementY:function(e){return"movementY"in e?e.movementY:ne}}),no=t9(na),nl=t9(en({},na,{dataTransfer:0})),nu=t9(en({},ni,{relatedTarget:0})),nc=t9(en({},nn,{animationName:0,elapsedTime:0,pseudoElement:0})),nh=t9(en({},nn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),nd=t9(en({},nn,{data:0})),nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},np={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ng(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=nm[e])&&!!t[e]}function nv(){return ng}var n_=t9(en({},ni,{key:function(e){if(e.key){var t=nf[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=t6(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?np[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nv,charCode:function(e){return"keypress"===e.type?t6(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?t6(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),ny=t9(en({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),nb=t9(en({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nv})),nw=t9(en({},nn,{propertyName:0,elapsedTime:0,pseudoElement:0})),nk=t9(en({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),nC=[9,13,27,32],nS=g&&"CompositionEvent"in window,nE=null;g&&"documentMode"in document&&(nE=document.documentMode);var nI=g&&"TextEvent"in window&&!nE,nT=g&&(!nS||nE&&8<nE&&11>=nE),nP=!1;function nx(e,t){switch(e){case"keyup":return -1!==nC.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nN(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var nR=!1,nO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nD(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!nO[e.type]:"textarea"===t}function nL(e,t,n,r){eV(r),0<(t=rk(t,"onChange")).length&&(n=new nr("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var nA=null,nM=null;function nF(e){rp(e,0)}function nU(e){if(eu(rY(e)))return e}function nz(e,t){if("change"===e)return t}var nj=!1;if(g){if(g){var nW="oninput"in document;if(!nW){var nV=document.createElement("div");nV.setAttribute("oninput","return;"),nW="function"==typeof nV.oninput}n=nW}else n=!1;nj=n&&(!document.documentMode||9<document.documentMode)}function nq(){nA&&(nA.detachEvent("onpropertychange",nH),nM=nA=null)}function nH(e){if("value"===e.propertyName&&nU(nM)){var t=[];nL(t,nM,e,eF(e)),eK(nF,t)}}function nB(e,t,n){"focusin"===e?(nq(),nA=t,nM=n,nA.attachEvent("onpropertychange",nH)):"focusout"===e&&nq()}function n$(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return nU(nM)}function nK(e,t){if("click"===e)return nU(t)}function nQ(e,t){if("input"===e||"change"===e)return nU(t)}var nG="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t};function nY(e,t){if(nG(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!v.call(t,i)||!nG(e[i],t[i]))return!1}return!0}function nJ(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nX(e,t){var n,r=nJ(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nJ(r)}}function nZ(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function n0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var n1=g&&"documentMode"in document&&11>=document.documentMode,n2=null,n3=null,n4=null,n6=!1;function n5(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;n6||null==n2||n2!==ec(r)||(r="selectionStart"in(r=n2)&&n0(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},n4&&nY(n4,r)||(n4=r,0<(r=rk(n3,"onSelect")).length&&(t=new nr("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=n2)))}function n8(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var n9={animationend:n8("Animation","AnimationEnd"),animationiteration:n8("Animation","AnimationIteration"),animationstart:n8("Animation","AnimationStart"),transitionend:n8("Transition","TransitionEnd")},n7={},re={};function rt(e){if(n7[e])return n7[e];if(!n9[e])return e;var t,n=n9[e];for(t in n)if(n.hasOwnProperty(t)&&t in re)return n7[e]=n[t];return e}g&&(re=document.createElement("div").style,"AnimationEvent"in window||(delete n9.animationend.animation,delete n9.animationiteration.animation,delete n9.animationstart.animation),"TransitionEvent"in window||delete n9.transitionend.transition);var rn=rt("animationend"),rr=rt("animationiteration"),ri=rt("animationstart"),rs=rt("transitionend"),ra=new Map,ro="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rl(e,t){ra.set(e,t),f(t,[e])}for(var ru=0;ru<ro.length;ru++){var rc=ro[ru];rl(rc.toLowerCase(),"on"+(rc[0].toUpperCase()+rc.slice(1)))}rl(rn,"onAnimationEnd"),rl(rr,"onAnimationIteration"),rl(ri,"onAnimationStart"),rl("dblclick","onDoubleClick"),rl("focusin","onFocus"),rl("focusout","onBlur"),rl(rs,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),f("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),f("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),f("onBeforeInput",["compositionend","keypress","textInput","paste"]),f("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),f("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rd=new Set("cancel close invalid load scroll toggle".split(" ").concat(rh));function rf(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,o,l){if(e3.apply(this,arguments),eX){if(eX){var u=eZ;eX=!1,eZ=null}else throw Error(c(198));e0||(e0=!0,e1=u)}}(r,t,void 0,e),e.currentTarget=null}function rp(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;rf(i,o,u),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;rf(i,o,u),s=l}}}if(e0)throw e=e1,e0=!1,e1=null,e}function rm(e,t){var n=t[rB];void 0===n&&(n=t[rB]=new Set);var r=e+"__bubble";n.has(r)||(ry(t,e,2,!1),n.add(r))}function rg(e,t,n){var r=0;t&&(r|=4),ry(n,e,r,t)}var rv="_reactListening"+Math.random().toString(36).slice(2);function r_(e){if(!e[rv]){e[rv]=!0,h.forEach(function(t){"selectionchange"!==t&&(rd.has(t)||rg(t,!1,e),rg(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[rv]||(t[rv]=!0,rg("selectionchange",!1,t))}}function ry(e,t,n,r){switch(t0(t)){case 1:var i=tG;break;case 4:i=tY;break;default:i=tJ}n=i.bind(null,t,n,e),i=void 0,eG&&("touchstart"===t||"touchmove"===t||"wheel"===t)&&(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function rb(e,t,n,r,i){var s=r;if(0==(1&t)&&0==(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=rQ(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}eK(function(){var r=s,i=eF(n),a=[];e:{var o=ra.get(e);if(void 0!==o){var l=nr,u=e;switch(e){case"keypress":if(0===t6(n))break e;case"keydown":case"keyup":l=n_;break;case"focusin":u="focus",l=nu;break;case"focusout":u="blur",l=nu;break;case"beforeblur":case"afterblur":l=nu;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=nl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=nb;break;case rn:case rr:case ri:l=nc;break;case rs:l=nw;break;case"scroll":l=ns;break;case"wheel":l=nk;break;case"copy":case"cut":case"paste":l=nh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=ny}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==o?o+"Capture":null:o;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&null!=(m=eQ(p,d))&&c.push(rw(p,m,f))),h)break;p=p.return}0<c.length&&(o=new l(o,u,null,n,i),a.push({event:o,listeners:c}))}}if(0==(7&t)){if(o="mouseover"===e||"pointerover"===e,l="mouseout"===e||"pointerout"===e,!(o&&n!==eM&&(u=n.relatedTarget||n.fromElement)&&(rQ(u)||u[rH]))&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,null!==(u=u?rQ(u):null)&&(h=e4(u),u!==h||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=no,m="onMouseLeave",d="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=ny,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?o:rY(l),f=null==u?o:rY(u),(o=new c(m,p+"leave",l,n,i)).target=h,o.relatedTarget=f,m=null,rQ(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(c=l,d=u,p=0,f=c;f;f=rC(f))p++;for(f=0,m=d;m;m=rC(m))f++;for(;0<p-f;)c=rC(c),p--;for(;0<f-p;)d=rC(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break t;c=rC(c),d=rC(d)}c=null}else c=null;null!==l&&rS(a,o,l,c,!1),null!==u&&null!==h&&rS(a,h,u,c,!0)}e:{if("select"===(l=(o=r?rY(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g,v=nz;else if(nD(o)){if(nj)v=nQ;else{v=n$;var _=nB}}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(v=nK);if(v&&(v=v(e,r))){nL(a,v,n,i);break e}_&&_(e,o,r),"focusout"===e&&(_=o._wrapperState)&&_.controlled&&"number"===o.type&&eg(o,"number",o.value)}switch(_=r?rY(r):window,e){case"focusin":(nD(_)||"true"===_.contentEditable)&&(n2=_,n3=r,n4=null);break;case"focusout":n4=n3=n2=null;break;case"mousedown":n6=!0;break;case"contextmenu":case"mouseup":case"dragend":n6=!1,n5(a,n,i);break;case"selectionchange":if(n1)break;case"keydown":case"keyup":n5(a,n,i)}if(nS)t:{switch(e){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else nR?nx(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(nT&&"ko"!==n.locale&&(nR||"onCompositionStart"!==y?"onCompositionEnd"===y&&nR&&(g=t4()):(t2="value"in(t1=i)?t1.value:t1.textContent,nR=!0)),0<(_=rk(r,y)).length&&(y=new nd(y,e,null,n,i),a.push({event:y,listeners:_}),g?y.data=g:null!==(g=nN(n))&&(y.data=g))),(g=nI?function(e,t){switch(e){case"compositionend":return nN(t);case"keypress":if(32!==t.which)return null;return nP=!0," ";case"textInput":return" "===(e=t.data)&&nP?null:e;default:return null}}(e,n):function(e,t){if(nR)return"compositionend"===e||!nS&&nx(e,t)?(e=t4(),t3=t2=t1=null,nR=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return nT&&"ko"!==t.locale?null:t.data}}(e,n))&&0<(r=rk(r,"onBeforeInput")).length&&(i=new nd("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=g)}rp(a,t)})}function rw(e,t,n){return{instance:e,listener:t,currentTarget:n}}function rk(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=eQ(e,n))&&r.unshift(rw(e,s,i)),null!=(s=eQ(e,t))&&r.push(rw(e,s,i))),e=e.return}return r}function rC(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag)return e||null}function rS(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==u&&(o=u,i?null!=(l=eQ(n,s))&&a.unshift(rw(n,l,o)):i||null!=(l=eQ(n,s))&&a.push(rw(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var rE=/\r\n?/g,rI=/\u0000|\uFFFD/g;function rT(e){return("string"==typeof e?e:""+e).replace(rE,"\n").replace(rI,"")}function rP(e,t,n){if(t=rT(t),rT(e)!==t&&n)throw Error(c(425))}function rx(){}var rN=null,rR=null;function rO(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rD="function"==typeof setTimeout?setTimeout:void 0,rL="function"==typeof clearTimeout?clearTimeout:void 0,rA="function"==typeof Promise?Promise:void 0,rM="function"==typeof queueMicrotask?queueMicrotask:void 0!==rA?function(e){return rA.resolve(null).then(e).catch(rF)}:rD;function rF(e){setTimeout(function(){throw e})}function rU(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType){if("/$"===(n=i.data)){if(0===r){e.removeChild(i),t$(t);return}r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++}n=i}while(n)t$(t)}function rz(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function rj(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var rW=Math.random().toString(36).slice(2),rV="__reactFiber$"+rW,rq="__reactProps$"+rW,rH="__reactContainer$"+rW,rB="__reactEvents$"+rW,r$="__reactListeners$"+rW,rK="__reactHandles$"+rW;function rQ(e){var t=e[rV];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rH]||n[rV]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=rj(e);null!==e;){if(n=e[rV])return n;e=rj(e)}return t}n=(e=n).parentNode}return null}function rG(e){return(e=e[rV]||e[rH])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function rY(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(c(33))}function rJ(e){return e[rq]||null}var rX=[],rZ=-1;function r0(e){return{current:e}}function r1(e){0>rZ||(e.current=rX[rZ],rX[rZ]=null,rZ--)}function r2(e,t){rX[++rZ]=e.current,e.current=t}var r3={},r4=r0(r3),r6=r0(!1),r5=r3;function r8(e,t){var n=e.type.contextTypes;if(!n)return r3;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function r9(e){return null!=(e=e.childContextTypes)}function r7(){r1(r6),r1(r4)}function ie(e,t,n){if(r4.current!==r3)throw Error(c(168));r2(r4,t),r2(r6,n)}function it(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(c(108,function(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case x:return"Fragment";case P:return"Portal";case R:return"Profiler";case N:return"StrictMode";case A:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case D:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case L:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case F:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case z:n=t._payload,t=t._init;try{return e(t(n))}catch(e){}}return null}(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}(e)||"Unknown",i));return en({},n,r)}function ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||r3,r5=r4.current,r2(r4,e),r2(r6,r6.current),!0}function ii(e,t,n){var r=e.stateNode;if(!r)throw Error(c(169));n?(e=it(e,t,r5),r.__reactInternalMemoizedMergedChildContext=e,r1(r6),r1(r4),r2(r4,e)):r1(r6),r2(r6,n)}var is=null,ia=!1,io=!1;function il(e){null===is?is=[e]:is.push(e)}function iu(){if(!io&&null!==is){io=!0;var e=0,t=tC;try{var n=is;for(tC=1;e<n.length;e++){var r=n[e];do r=r(!0);while(null!==r)}is=null,ia=!1}catch(t){throw null!==is&&(is=is.slice(e+1)),e9(ti,iu),t}finally{tC=t,io=!1}}return null}var ic=[],ih=0,id=null,ip=0,im=[],ig=0,iv=null,i_=1,iy="";function ib(e,t){ic[ih++]=ip,ic[ih++]=id,id=e,ip=t}function iw(e,t,n){im[ig++]=i_,im[ig++]=iy,im[ig++]=iv,iv=e;var r=i_;e=iy;var i=32-th(r)-1;r&=~(1<<i),n+=1;var s=32-th(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,i_=1<<32-th(t)+i|n<<i|r,iy=s+e}else i_=1<<s|n<<i|r,iy=e}function ik(e){null!==e.return&&(ib(e,1),iw(e,1,0))}function iC(e){for(;e===id;)id=ic[--ih],ic[ih]=null,ip=ic[--ih],ic[ih]=null;for(;e===iv;)iv=im[--ig],im[ig]=null,iy=im[--ig],im[ig]=null,i_=im[--ig],im[ig]=null}var iS=null,iE=null,iI=!1,iT=null;function iP(e,t){var n=o8(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ix(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,iS=e,iE=rz(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,iS=e,iE=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==iv?{id:i_,overflow:iy}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=o8(18,null,null,0)).stateNode=t,n.return=e,e.child=n,iS=e,iE=null,!0);default:return!1}}function iN(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function iR(e){if(iI){var t=iE;if(t){var n=t;if(!ix(e,t)){if(iN(e))throw Error(c(418));t=rz(n.nextSibling);var r=iS;t&&ix(e,t)?iP(r,n):(e.flags=-4097&e.flags|2,iI=!1,iS=e)}}else{if(iN(e))throw Error(c(418));e.flags=-4097&e.flags|2,iI=!1,iS=e}}}function iO(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;iS=e}function iD(e){if(e!==iS)return!1;if(!iI)return iO(e),iI=!0,!1;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!rO(e.type,e.memoizedProps)),t&&(t=iE)){if(iN(e))throw iL(),Error(c(418));for(;t;)iP(e,t),t=rz(t.nextSibling)}if(iO(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(c(317));e:{for(t=0,e=e.nextSibling;e;){if(8===e.nodeType){var t,n=e.data;if("/$"===n){if(0===t){iE=rz(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}iE=null}}else iE=iS?rz(e.stateNode.nextSibling):null;return!0}function iL(){for(var e=iE;e;)e=rz(e.nextSibling)}function iA(){iE=iS=null,iI=!1}function iM(e){null===iT?iT=[e]:iT.push(e)}var iF=I.ReactCurrentBatchConfig;function iU(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(c(309));var r=n.stateNode}if(!r)throw Error(c(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(c(284));if(!n._owner)throw Error(c(290,e))}return e}function iz(e,t){throw Error(c(31,"[object Object]"===(e=Object.prototype.toString.call(t))?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ij(e){return(0,e._init)(e._payload)}function iW(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=o7(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return(t.index=r,e)?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?(t=lr(n,e.mode,r)).return=e:(t=i(t,n)).return=e,t}function l(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):(null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===z&&ij(s)===t.type)?(r=i(t,n.props)).ref=iU(e,t,n):(r=le(n.type,n.key,n.props,null,e.mode,r)).ref=iU(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=li(n,e.mode,r)).return=e:(t=i(t,n.children||[])).return=e,t}function h(e,t,n,r,s){return null===t||7!==t.tag?(t=lt(n,e.mode,r,s)).return=e:(t=i(t,n)).return=e,t}function d(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=lr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case T:return(n=le(t.type,t.key,t.props,null,e.mode,n)).ref=iU(e,null,t),n.return=e,n;case P:return(t=li(t,e.mode,n)).return=e,t;case z:return d(e,(0,t._init)(t._payload),n)}if(ev(t)||V(t))return(t=lt(t,e.mode,n,null)).return=e,t;iz(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:o(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case T:return n.key===i?l(e,t,n,r):null;case P:return n.key===i?u(e,t,n,r):null;case z:return f(e,t,(i=n._init)(n._payload),r)}if(ev(n)||V(n))return null!==i?null:h(e,t,n,r,null);iz(e,n)}return null}function p(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return o(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case T:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case z:return p(e,t,n,(0,r._init)(r._payload),i)}if(ev(r)||V(r))return h(t,e=e.get(n)||null,r,i,null);iz(t,r)}return null}return function o(l,u,h,m){if("object"==typeof h&&null!==h&&h.type===x&&null===h.key&&(h=h.props.children),"object"==typeof h&&null!==h){switch(h.$$typeof){case T:e:{for(var g=h.key,v=u;null!==v;){if(v.key===g){if((g=h.type)===x){if(7===v.tag){n(l,v.sibling),(u=i(v,h.props.children)).return=l,l=u;break e}}else if(v.elementType===g||"object"==typeof g&&null!==g&&g.$$typeof===z&&ij(g)===v.type){n(l,v.sibling),(u=i(v,h.props)).ref=iU(l,v,h),u.return=l,l=u;break e}n(l,v);break}t(l,v),v=v.sibling}h.type===x?((u=lt(h.props.children,l.mode,m,h.key)).return=l,l=u):((m=le(h.type,h.key,h.props,null,l.mode,m)).ref=iU(l,u,h),m.return=l,l=m)}return a(l);case P:e:{for(v=h.key;null!==u;){if(u.key===v){if(4===u.tag&&u.stateNode.containerInfo===h.containerInfo&&u.stateNode.implementation===h.implementation){n(l,u.sibling),(u=i(u,h.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=li(h,l.mode,m)).return=l,l=u}return a(l);case z:return o(l,u,(v=h._init)(h._payload),m)}if(ev(h))return function(i,a,o,l){for(var u=null,c=null,h=a,m=a=0,g=null;null!==h&&m<o.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,o[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),a=s(v,a,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===o.length)return n(i,h),iI&&ib(i,m),u;if(null===h){for(;m<o.length;m++)null!==(h=d(i,o[m],l))&&(a=s(h,a,m),null===c?u=h:c.sibling=h,c=h);return iI&&ib(i,m),u}for(h=r(i,h);m<o.length;m++)null!==(g=p(h,i,m,o[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),a=s(g,a,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),iI&&ib(i,m),u}(l,u,h,m);if(V(h))return function(i,a,o,l){var u=V(o);if("function"!=typeof u)throw Error(c(150));if(null==(o=u.call(o)))throw Error(c(151));for(var h=u=null,m=a,g=a=0,v=null,_=o.next();null!==m&&!_.done;g++,_=o.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(i,m,_.value,l);if(null===y){null===m&&(m=v);break}e&&m&&null===y.alternate&&t(i,m),a=s(y,a,g),null===h?u=y:h.sibling=y,h=y,m=v}if(_.done)return n(i,m),iI&&ib(i,g),u;if(null===m){for(;!_.done;g++,_=o.next())null!==(_=d(i,_.value,l))&&(a=s(_,a,g),null===h?u=_:h.sibling=_,h=_);return iI&&ib(i,g),u}for(m=r(i,m);!_.done;g++,_=o.next())null!==(_=p(m,i,g,_.value,l))&&(e&&null!==_.alternate&&m.delete(null===_.key?g:_.key),a=s(_,a,g),null===h?u=_:h.sibling=_,h=_);return e&&m.forEach(function(e){return t(i,e)}),iI&&ib(i,g),u}(l,u,h,m);iz(l,h)}return"string"==typeof h&&""!==h||"number"==typeof h?(h=""+h,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,h)).return=l):(n(l,u),(u=lr(h,l.mode,m)).return=l),a(l=u)):n(l,u)}}var iV=iW(!0),iq=iW(!1),iH=r0(null),iB=null,i$=null,iK=null;function iQ(){iK=i$=iB=null}function iG(e){var t=iH.current;r1(iH),e._currentValue=t}function iY(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function iJ(e,t){iB=e,iK=i$=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(ab=!0),e.firstContext=null)}function iX(e){var t=e._currentValue;if(iK!==e){if(e={context:e,memoizedValue:t,next:null},null===i$){if(null===iB)throw Error(c(308));i$=e,iB.dependencies={lanes:0,firstContext:e}}else i$=i$.next=e}return t}var iZ=null;function i0(e){null===iZ?iZ=[e]:iZ.push(e)}function i1(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,i0(t)):(n.next=i.next,i.next=n),t.interleaved=n,i2(e,r)}function i2(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var i3=!1;function i4(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function i6(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function i5(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function i8(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!=(2&oo)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,i2(e,n)}return null===(i=r.interleaved)?(t.next=t,i0(r)):(t.next=i.next,i.next=t),r.interleaved=t,i2(e,n)}function i9(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tk(e,n)}}function i7(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n)null===s?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function se(e,t,n,r){var i=e.updateQueue;i3=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,u=l.next;l.next=null,null===a?s=u:a.next=u,a=l;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===o?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l)}if(null!==s){var h=i.baseState;for(a=0,c=u=l=null,o=s;;){var d=o.lane,f=o.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,m=o;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=en({},h,d);break e;case 2:i3=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else f={eventTime:f,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do a|=i.lane,i=i.next;while(i!==t)}else null===s&&(i.shared.lanes=0);om|=a,e.lanes=a,e.memoizedState=h}}function st(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(c(191,i));i.call(r)}}}var sn={},sr=r0(sn),si=r0(sn),ss=r0(sn);function sa(e){if(e===sn)throw Error(c(174));return e}function so(e,t){switch(r2(ss,t),r2(si,e),r2(sr,sn),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:eS(null,"");break;default:t=eS(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}r1(sr),r2(sr,t)}function sl(){r1(sr),r1(si),r1(ss)}function su(e){sa(ss.current);var t=sa(sr.current),n=eS(t,e.type);t!==n&&(r2(si,e),r2(sr,n))}function sc(e){si.current===e&&(r1(sr),r1(si))}var sh=r0(0);function sd(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sf=[];function sp(){for(var e=0;e<sf.length;e++)sf[e]._workInProgressVersionPrimary=null;sf.length=0}var sm=I.ReactCurrentDispatcher,sg=I.ReactCurrentBatchConfig,sv=0,s_=null,sy=null,sb=null,sw=!1,sk=!1,sC=0,sS=0;function sE(){throw Error(c(321))}function sI(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!nG(e[n],t[n]))return!1;return!0}function sT(e,t,n,r,i,s){if(sv=s,s_=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,sm.current=null===e||null===e.memoizedState?ae:at,e=n(r,i),sk){s=0;do{if(sk=!1,sC=0,25<=s)throw Error(c(301));s+=1,sb=sy=null,t.updateQueue=null,sm.current=an,e=n(r,i)}while(sk)}if(sm.current=s7,t=null!==sy&&null!==sy.next,sv=0,sb=sy=s_=null,sw=!1,t)throw Error(c(300));return e}function sP(){var e=0!==sC;return sC=0,e}function sx(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sb?s_.memoizedState=sb=e:sb=sb.next=e,sb}function sN(){if(null===sy){var e=s_.alternate;e=null!==e?e.memoizedState:null}else e=sy.next;var t=null===sb?s_.memoizedState:sb.next;if(null!==t)sb=t,sy=e;else{if(null===e)throw Error(c(310));e={memoizedState:(sy=e).memoizedState,baseState:sy.baseState,baseQueue:sy.baseQueue,queue:sy.queue,next:null},null===sb?s_.memoizedState=sb=e:sb=sb.next=e}return sb}function sR(e,t){return"function"==typeof t?t(e):t}function sO(e){var t=sN(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=sy,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var o=a=null,l=null,u=s;do{var h=u.lane;if((sv&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(o=l=d,a=r):l=l.next=d,s_.lanes|=h,om|=h}u=u.next}while(null!==u&&u!==s)null===l?a=r:l.next=o,nG(r,t.memoizedState)||(ab=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do s=i.lane,s_.lanes|=s,om|=s,i=i.next;while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function sD(e){var t=sN(),n=t.queue;if(null===n)throw Error(c(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i)nG(s,t.memoizedState)||(ab=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sL(){}function sA(e,t){var n=s_,r=sN(),i=t(),s=!nG(r.memoizedState,i);if(s&&(r.memoizedState=i,ab=!0),r=r.queue,sK(sU.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==sb&&1&sb.memoizedState.tag){if(n.flags|=2048,sV(9,sF.bind(null,n,r,i,t),void 0,null),null===ol)throw Error(c(349));0!=(30&sv)||sM(n,t,i)}return i}function sM(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=s_.updateQueue)?(t={lastEffect:null,stores:null},s_.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function sF(e,t,n,r){t.value=n,t.getSnapshot=r,sz(t)&&sj(e)}function sU(e,t,n){return n(function(){sz(t)&&sj(e)})}function sz(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!nG(e,n)}catch(e){return!0}}function sj(e){var t=i2(e,1);null!==t&&oA(t,e,1,-1)}function sW(e){var t=sx();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sR,lastRenderedState:e},t.queue=e,e=e.dispatch=s6.bind(null,s_,e),[t.memoizedState,e]}function sV(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=s_.updateQueue)?(t={lastEffect:null,stores:null},s_.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function sq(){return sN().memoizedState}function sH(e,t,n,r){var i=sx();s_.flags|=e,i.memoizedState=sV(1|t,n,void 0,void 0===r?null:r)}function sB(e,t,n,r){var i=sN();r=void 0===r?null:r;var s=void 0;if(null!==sy){var a=sy.memoizedState;if(s=a.destroy,null!==r&&sI(r,a.deps)){i.memoizedState=sV(t,n,s,r);return}}s_.flags|=e,i.memoizedState=sV(1|t,n,s,r)}function s$(e,t){return sH(8390656,8,e,t)}function sK(e,t){return sB(2048,8,e,t)}function sQ(e,t){return sB(4,2,e,t)}function sG(e,t){return sB(4,4,e,t)}function sY(e,t){return"function"==typeof t?(t(e=e()),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function sJ(e,t,n){return n=null!=n?n.concat([e]):null,sB(4,4,sY.bind(null,t,e),n)}function sX(){}function sZ(e,t){var n=sN();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sI(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function s0(e,t){var n=sN();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&sI(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function s1(e,t,n){return 0==(21&sv)?(e.baseState&&(e.baseState=!1,ab=!0),e.memoizedState=n):(nG(n,t)||(n=ty(),s_.lanes|=n,om|=n,e.baseState=!0),t)}function s2(e,t){var n=tC;tC=0!==n&&4>n?n:4,e(!0);var r=sg.transition;sg.transition={};try{e(!1),t()}finally{tC=n,sg.transition=r}}function s3(){return sN().memoizedState}function s4(e,t,n){var r=oL(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},s5(e)?s8(t,n):null!==(n=i1(e,t,n,r))&&(oA(n,e,r,oD()),s9(n,t,r))}function s6(e,t,n){var r=oL(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(s5(e))s8(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,nG(o,a)){var l=t.interleaved;null===l?(i.next=i,i0(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(e){}finally{}null!==(n=i1(e,t,i,r))&&(oA(n,e,r,i=oD()),s9(n,t,r))}}function s5(e){var t=e.alternate;return e===s_||null!==t&&t===s_}function s8(e,t){sk=sw=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function s9(e,t,n){if(0!=(4194240&n)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,tk(e,n)}}var s7={readContext:iX,useCallback:sE,useContext:sE,useEffect:sE,useImperativeHandle:sE,useInsertionEffect:sE,useLayoutEffect:sE,useMemo:sE,useReducer:sE,useRef:sE,useState:sE,useDebugValue:sE,useDeferredValue:sE,useTransition:sE,useMutableSource:sE,useSyncExternalStore:sE,useId:sE,unstable_isNewReconciler:!1},ae={readContext:iX,useCallback:function(e,t){return sx().memoizedState=[e,void 0===t?null:t],e},useContext:iX,useEffect:s$,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,sH(4194308,4,sY.bind(null,t,e),n)},useLayoutEffect:function(e,t){return sH(4194308,4,e,t)},useInsertionEffect:function(e,t){return sH(4,2,e,t)},useMemo:function(e,t){var n=sx();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=sx();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=s4.bind(null,s_,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},sx().memoizedState=e},useState:sW,useDebugValue:sX,useDeferredValue:function(e){return sx().memoizedState=e},useTransition:function(){var e=sW(!1),t=e[0];return e=s2.bind(null,e[1]),sx().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=s_,i=sx();if(iI){if(void 0===n)throw Error(c(407));n=n()}else{if(n=t(),null===ol)throw Error(c(349));0!=(30&sv)||sM(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,s$(sU.bind(null,r,s,e),[e]),r.flags|=2048,sV(9,sF.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=sx(),t=ol.identifierPrefix;if(iI){var n=iy,r=i_;t=":"+t+"R"+(n=(r&~(1<<32-th(r)-1)).toString(32)+n),0<(n=sC++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=sS++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},at={readContext:iX,useCallback:sZ,useContext:iX,useEffect:sK,useImperativeHandle:sJ,useInsertionEffect:sQ,useLayoutEffect:sG,useMemo:s0,useReducer:sO,useRef:sq,useState:function(){return sO(sR)},useDebugValue:sX,useDeferredValue:function(e){return s1(sN(),sy.memoizedState,e)},useTransition:function(){return[sO(sR)[0],sN().memoizedState]},useMutableSource:sL,useSyncExternalStore:sA,useId:s3,unstable_isNewReconciler:!1},an={readContext:iX,useCallback:sZ,useContext:iX,useEffect:sK,useImperativeHandle:sJ,useInsertionEffect:sQ,useLayoutEffect:sG,useMemo:s0,useReducer:sD,useRef:sq,useState:function(){return sD(sR)},useDebugValue:sX,useDeferredValue:function(e){var t=sN();return null===sy?t.memoizedState=e:s1(t,sy.memoizedState,e)},useTransition:function(){return[sD(sR)[0],sN().memoizedState]},useMutableSource:sL,useSyncExternalStore:sA,useId:s3,unstable_isNewReconciler:!1};function ar(e,t){if(e&&e.defaultProps)for(var n in t=en({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}function ai(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:en({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var as={isMounted:function(e){return!!(e=e._reactInternals)&&e4(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=oD(),i=oL(e),s=i5(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=i8(e,s,i))&&(oA(t,e,i,r),i9(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=oD(),i=oL(e),s=i5(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=i8(e,s,i))&&(oA(t,e,i,r),i9(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=oD(),r=oL(e),i=i5(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=i8(e,i,r))&&(oA(t,e,r,n),i9(t,e,r))}};function aa(e,t,n,r,i,s,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||!nY(n,r)||!nY(i,s)}function ao(e,t,n){var r=!1,i=r3,s=t.contextType;return"object"==typeof s&&null!==s?s=iX(s):(i=r9(t)?r5:r4.current,s=(r=null!=(r=t.contextTypes))?r8(e,i):r3),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=as,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function al(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&as.enqueueReplaceState(t,t.state,null)}function au(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},i4(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=iX(s):(s=r9(t)?r5:r4.current,i.context=r8(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(ai(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&as.enqueueReplaceState(i,i.state,null),se(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function ac(e,t){try{var n="",r=t;do n+=function(e){switch(e.tag){case 5:return er(e.type);case 16:return er("Lazy");case 13:return er("Suspense");case 19:return er("SuspenseList");case 0:case 2:case 15:return e=es(e.type,!1);case 11:return e=es(e.type.render,!1);case 1:return e=es(e.type,!0);default:return""}}(r),r=r.return;while(r)var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function ah(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ad(e,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var af="function"==typeof WeakMap?WeakMap:Map;function ap(e,t,n){(n=i5(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){oC||(oC=!0,oS=r),ad(e,t)},n}function am(e,t,n){(n=i5(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ad(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){ad(e,t),"function"!=typeof r&&(null===oE?oE=new Set([this]):oE.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function ag(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new af;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=o2.bind(null,e,t,n),t.then(e,e))}function av(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e)return null}function a_(e,t,n,r,i){return 0==(1&e.mode)?e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=i5(-1,1)).tag=2,i8(n,t,1))),n.lanes|=1):(e.flags|=65536,e.lanes=i),e}var ay=I.ReactCurrentOwner,ab=!1;function aw(e,t,n,r){t.child=null===e?iq(t,null,n,r):iV(t,e.child,n,r)}function ak(e,t,n,r,i){n=n.render;var s=t.ref;return(iJ(t,i),r=sT(e,t,n,r,s,i),n=sP(),null===e||ab)?(iI&&n&&ik(t),t.flags|=1,aw(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aW(e,t,i))}function aC(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||o9(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=le(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,aS(e,t,s,r,i))}if(s=e.child,0==(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:nY)(a,r)&&e.ref===t.ref)return aW(e,t,i)}return t.flags|=1,(e=o7(s,r)).ref=t.ref,e.return=t,t.child=e}function aS(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(nY(s,r)&&e.ref===t.ref){if(ab=!1,t.pendingProps=r=s,0==(e.lanes&i))return t.lanes=e.lanes,aW(e,t,i);0!=(131072&e.flags)&&(ab=!0)}}return aT(e,t,n,r,i)}function aE(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0==(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r2(od,oh),oh|=n;else{if(0==(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,r2(od,oh),oh|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,r2(od,oh),oh|=r}}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,r2(od,oh),oh|=r;return aw(e,t,i,n),t.child}function aI(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function aT(e,t,n,r,i){var s=r9(n)?r5:r4.current;return(s=r8(t,s),iJ(t,i),n=sT(e,t,n,r,s,i),r=sP(),null===e||ab)?(iI&&r&&ik(t),t.flags|=1,aw(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,aW(e,t,i))}function aP(e,t,n,r,i){if(r9(n)){var s=!0;ir(t)}else s=!1;if(iJ(t,i),null===t.stateNode)aj(e,t),ao(t,n,r),au(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;u="object"==typeof u&&null!==u?iX(u):r8(t,u=r9(n)?r5:r4.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof a.getSnapshotBeforeUpdate;h||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==r||l!==u)&&al(t,a,r,u),i3=!1;var d=t.memoizedState;a.state=d,se(t,r,a,i),l=t.memoizedState,o!==r||d!==l||r6.current||i3?("function"==typeof c&&(ai(t,n,c,r),l=t.memoizedState),(o=i3||aa(t,n,o,r,d,l,u))?(h||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.flags|=4194308)):("function"==typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):("function"==typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,i6(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:ar(t.type,o),a.props=u,h=t.pendingProps,d=a.context,l="object"==typeof(l=n.contextType)&&null!==l?iX(l):r8(t,l=r9(n)?r5:r4.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(o!==h||d!==l)&&al(t,a,r,l),i3=!1,d=t.memoizedState,a.state=d,se(t,r,a,i);var p=t.memoizedState;o!==h||d!==p||r6.current||i3?("function"==typeof f&&(ai(t,n,f,r),p=t.memoizedState),(u=i3||aa(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof a.componentDidUpdate&&(t.flags|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!=typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ax(e,t,n,r,s,i)}function ax(e,t,n,r,i,s){aI(e,t);var a=0!=(128&t.flags);if(!r&&!a)return i&&ii(t,n,!1),aW(e,t,s);r=t.stateNode,ay.current=t;var o=a&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=iV(t,e.child,null,s),t.child=iV(t,null,o,s)):aw(e,t,o,s),t.memoizedState=r.state,i&&ii(t,n,!0),t.child}function aN(e){var t=e.stateNode;t.pendingContext?ie(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ie(e,t.context,!1),so(e,t.containerInfo)}function aR(e,t,n,r,i){return iA(),iM(i),t.flags|=256,aw(e,t,n,r),t.child}var aO={dehydrated:null,treeContext:null,retryLane:0};function aD(e){return{baseLanes:e,cachePool:null,transitions:null}}function aL(e,t,n){var r,i=t.pendingProps,s=sh.current,a=!1,o=0!=(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(a=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(s|=1),r2(sh,1&s),null===e)return(iR(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,a?(i=t.mode,a=t.child,o={mode:"hidden",children:o},0==(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=o):a=ln(o,i,0,null),e=lt(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=aD(n),t.memoizedState=aO,e):aA(t,o));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,aM(e,t,a,r=ah(Error(c(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=ln({mode:"visible",children:r.children},i,0,null),s=lt(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!=(1&t.mode)&&iV(t,e.child,null,a),t.child.memoizedState=aD(a),t.memoizedState=aO,s);if(0==(1&t.mode))return aM(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var o=r.dgst;return r=o,aM(e,t,a,r=ah(s=Error(c(419)),r,void 0))}if(o=0!=(a&e.childLanes),ab||o){if(null!==(r=ol)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,i2(e,i),oA(r,e,i,-1))}return oQ(),aM(e,t,a,r=ah(Error(c(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=o4.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,iE=rz(i.nextSibling),iS=t,iI=!0,iT=null,null!==e&&(im[ig++]=i_,im[ig++]=iy,im[ig++]=iv,i_=e.id,iy=e.overflow,iv=t),t=aA(t,r.children),t.flags|=4096,t)}(e,t,o,i,r,s,n);if(a){a=i.fallback,o=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0==(1&o)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=o7(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=o7(r,a):(a=lt(a,o,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,o=null===(o=e.child.memoizedState)?aD(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=aO,i}return e=(a=e.child).sibling,i=o7(a,{mode:"visible",children:i.children}),0==(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function aA(e,t){return(t=ln({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function aM(e,t,n,r){return null!==r&&iM(r),iV(t,e.child,null,n),e=aA(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function aF(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),iY(e.return,t,n)}function aU(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function az(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(aw(e,t,r.children,n),0!=(2&(r=sh.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&aF(e,n,t);else if(19===e.tag)aF(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(r2(sh,r),0==(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(i=null,n=t.child;null!==n;)null!==(e=n.alternate)&&null===sd(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),aU(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===sd(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}aU(t,!0,n,null,s);break;case"together":aU(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function aj(e,t){0==(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function aW(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),om|=t.lanes,0==(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(c(153));if(null!==t.child){for(n=o7(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=o7(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function aV(e,t){if(!iI)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function aq(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}r=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},i=function(){},s=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,sa(sr.current);var s,a=null;switch(n){case"input":i=eh(e,i),r=eh(e,r),a=[];break;case"select":i=en({},i,{value:void 0}),r=en({},r,{value:void 0}),a=[];break;case"textarea":i=ey(e,i),r=ey(e,r),a=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=rx)}for(u in eL(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u]){if("style"===u){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null))}for(u in r){var l=r[u];if(o=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(null!=l||null!=o)){if("style"===u){if(o){for(s in o)!o.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&o[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(a||(a=[]),a.push(u,n)),n=l}else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,o=o?o.__html:void 0,null!=l&&o!==l&&(a=a||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(a=a||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(d.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&rm("scroll",e),a||o===l||(a=[])):(a=a||[]).push(u,l))}}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},a=function(e,t,n,r){n!==r&&(t.flags|=4)};var aH=!1,aB=!1,a$="function"==typeof WeakSet?WeakSet:Set,aK=null;function aQ(e,t){var n=e.ref;if(null!==n){if("function"==typeof n)try{n(null)}catch(n){o1(e,t,n)}else n.current=null}}function aG(e,t,n){try{n()}catch(n){o1(e,t,n)}}var aY=!1;function aJ(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&aG(t,n,s)}i=i.next}while(i!==r)}}function aX(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function aZ(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"==typeof t?t(e):t.current=e}}function a0(e){return 5===e.tag||3===e.tag||4===e.tag}function a1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||a0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var a2=null,a3=!1;function a4(e,t,n){for(n=n.child;null!==n;)a6(e,t,n),n=n.sibling}function a6(e,t,n){if(tc&&"function"==typeof tc.onCommitFiberUnmount)try{tc.onCommitFiberUnmount(tu,n)}catch(e){}switch(n.tag){case 5:aB||aQ(n,t);case 6:var r=a2,i=a3;a2=null,a4(e,t,n),a2=r,a3=i,null!==a2&&(a3?(e=a2,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):a2.removeChild(n.stateNode));break;case 18:null!==a2&&(a3?(e=a2,n=n.stateNode,8===e.nodeType?rU(e.parentNode,n):1===e.nodeType&&rU(e,n),t$(e)):rU(a2,n.stateNode));break;case 4:r=a2,i=a3,a2=n.stateNode.containerInfo,a3=!0,a4(e,t,n),a2=r,a3=i;break;case 0:case 11:case 14:case 15:if(!aB&&null!==(r=n.updateQueue)&&null!==(r=r.lastEffect)){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!=(2&s)?aG(n,t,a):0!=(4&s)&&aG(n,t,a)),i=i.next}while(i!==r)}a4(e,t,n);break;case 1:if(!aB&&(aQ(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){o1(n,t,e)}a4(e,t,n);break;case 21:default:a4(e,t,n);break;case 22:1&n.mode?(aB=(r=aB)||null!==n.memoizedState,a4(e,t,n),aB=r):a4(e,t,n)}}function a5(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new a$),t.forEach(function(t){var r=o6.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function a8(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=s;e:for(;null!==a;){switch(a.tag){case 5:a2=a.stateNode,a3=!1;break e;case 3:case 4:a2=a.stateNode.containerInfo,a3=!0;break e}a=a.return}if(null===a2)throw Error(c(160));a6(e,s,i),a2=null,a3=!1;var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){o1(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)a9(t,e),t=t.sibling}function a9(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(a8(t,e),a7(e),4&r){try{aJ(3,e,e.return),aX(3,e)}catch(t){o1(e,e.return,t)}try{aJ(5,e,e.return)}catch(t){o1(e,e.return,t)}}break;case 1:a8(t,e),a7(e),512&r&&null!==n&&aQ(n,n.return);break;case 5:if(a8(t,e),a7(e),512&r&&null!==n&&aQ(n,n.return),32&e.flags){var i=e.stateNode;try{eP(i,"")}catch(t){o1(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,o=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===o&&"radio"===s.type&&null!=s.name&&ef(i,s),eA(o,a);var u=eA(o,s);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?eO(i,d):"dangerouslySetInnerHTML"===h?eT(i,d):"children"===h?eP(i,d):E(i,h,d,u)}switch(o){case"input":ep(i,s);break;case"textarea":ew(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?e_(i,!!s.multiple,p,!1):!!s.multiple!==f&&(null!=s.defaultValue?e_(i,!!s.multiple,s.defaultValue,!0):e_(i,!!s.multiple,s.multiple?[]:"",!1))}i[rq]=s}catch(t){o1(e,e.return,t)}}break;case 6:if(a8(t,e),a7(e),4&r){if(null===e.stateNode)throw Error(c(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){o1(e,e.return,t)}}break;case 3:if(a8(t,e),a7(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{t$(t.containerInfo)}catch(t){o1(e,e.return,t)}break;case 4:default:a8(t,e),a7(e);break;case 13:a8(t,e),a7(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,s&&(null===i.alternate||null===i.alternate.memoizedState)&&(ob=tn())),4&r&&a5(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(aB=(u=aB)||h,a8(t,e),aB=u):a8(t,e),a7(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!=(1&e.mode))for(aK=e,h=e.child;null!==h;){for(d=aK=h;null!==aK;){switch(p=(f=aK).child,f.tag){case 0:case 11:case 14:case 15:aJ(4,f,f.return);break;case 1:aQ(f,f.return);var m=f.stateNode;if("function"==typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(e){o1(r,n,e)}}break;case 5:aQ(f,f.return);break;case 22:if(null!==f.memoizedState){ot(d);continue}}null!==p?(p.return=f,aK=p):ot(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?(s=i.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,a=null!=(l=d.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,o.style.display=eR("display",a))}catch(t){o1(e,e.return,t)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(t){o1(e,e.return,t)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:a8(t,e),a7(e),4&r&&a5(e);case 21:}}function a7(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(a0(n)){var r=n;break e}n=n.return}throw Error(c(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(eP(i,""),r.flags&=-33);var s=a1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=a1(e);!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!=(r=r._reactRootContainer)||null!==n.onclick||(n.onclick=rx));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,o,a);break;default:throw Error(c(161))}}catch(t){o1(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function oe(e){for(;null!==aK;){var t=aK;if(0!=(8772&t.flags)){var n=t.alternate;try{if(0!=(8772&t.flags))switch(t.tag){case 0:case 11:case 15:aB||aX(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!aB){if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ar(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}}var s=t.updateQueue;null!==s&&st(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}st(t,a,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&t$(d)}}}break;default:throw Error(c(163))}aB||512&t.flags&&aZ(t)}catch(e){o1(t,t.return,e)}}if(t===e){aK=null;break}if(null!==(n=t.sibling)){n.return=t.return,aK=n;break}aK=t.return}}function ot(e){for(;null!==aK;){var t=aK;if(t===e){aK=null;break}var n=t.sibling;if(null!==n){n.return=t.return,aK=n;break}aK=t.return}}function on(e){for(;null!==aK;){var t=aK;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{aX(4,t)}catch(e){o1(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){o1(t,i,e)}}var s=t.return;try{aZ(t)}catch(e){o1(t,s,e)}break;case 5:var a=t.return;try{aZ(t)}catch(e){o1(t,a,e)}}}catch(e){o1(t,t.return,e)}if(t===e){aK=null;break}var o=t.sibling;if(null!==o){o.return=t.return,aK=o;break}aK=t.return}}var or=Math.ceil,oi=I.ReactCurrentDispatcher,os=I.ReactCurrentOwner,oa=I.ReactCurrentBatchConfig,oo=0,ol=null,ou=null,oc=0,oh=0,od=r0(0),of=0,op=null,om=0,og=0,ov=0,o_=null,oy=null,ob=0,ow=1/0,ok=null,oC=!1,oS=null,oE=null,oI=!1,oT=null,oP=0,ox=0,oN=null,oR=-1,oO=0;function oD(){return 0!=(6&oo)?tn():-1!==oR?oR:oR=tn()}function oL(e){return 0==(1&e.mode)?1:0!=(2&oo)&&0!==oc?oc&-oc:null!==iF.transition?(0===oO&&(oO=ty()),oO):0!==(e=tC)?e:e=void 0===(e=window.event)?16:t0(e.type)}function oA(e,t,n,r){if(50<ox)throw ox=0,oN=null,Error(c(185));tw(e,n,r),(0==(2&oo)||e!==ol)&&(e===ol&&(0==(2&oo)&&(og|=n),4===of&&oj(e,oc)),oM(e,r),1===n&&0===oo&&0==(1&t.mode)&&(ow=tn()+500,ia&&iu()))}function oM(e,t){var n,r=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-th(s),o=1<<a,l=i[a];-1===l?(0==(o&n)||0!=(o&r))&&(i[a]=function(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return -1}}(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var i=tv(e,e===ol?oc:0);if(0===i)null!==r&&e7(r),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=r&&e7(r),1===t)0===e.tag?(n=oW.bind(null,e),ia=!0,il(n)):il(oW.bind(null,e)),rM(function(){0==(6&oo)&&iu()}),r=null;else{switch(tS(i)){case 1:r=ti;break;case 4:r=ts;break;case 16:default:r=ta;break;case 536870912:r=tl}r=e9(r,oF.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function oF(e,t){if(oR=-1,oO=0,0!=(6&oo))throw Error(c(327));var n=e.callbackNode;if(oZ()&&e.callbackNode!==n)return null;var r=tv(e,e===ol?oc:0);if(0===r)return null;if(0!=(30&r)||0!=(r&e.expiredLanes)||t)t=oG(e,r);else{t=r;var i=oo;oo|=2;var s=oK();for((ol!==e||oc!==t)&&(ok=null,ow=tn()+500,oB(e,t));;)try{(function(){for(;null!==ou&&!te();)oY(ou)})();break}catch(t){o$(e,t)}iQ(),oi.current=s,oo=i,null!==ou?t=0:(ol=null,oc=0,t=of)}if(0!==t){if(2===t&&0!==(i=t_(e))&&(r=i,t=oU(e,i)),1===t)throw n=op,oB(e,0),oj(e,r),oM(e,tn()),n;if(6===t)oj(e,r);else{if(i=e.current.alternate,0==(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!nG(s(),i))return!1}catch(e){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=oG(e,r))&&0!==(s=t_(e))&&(r=s,t=oU(e,s)),1===t))throw n=op,oB(e,0),oj(e,r),oM(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(c(345));case 2:case 5:oX(e,oy,ok);break;case 3:if(oj(e,r),(130023424&r)===r&&10<(t=ob+500-tn())){if(0!==tv(e,0))break;if(((i=e.suspendedLanes)&r)!==r){oD(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=rD(oX.bind(null,e,oy,ok),t);break}oX(e,oy,ok);break;case 4:if(oj(e,r),(4194240&r)===r)break;for(i=-1,t=e.eventTimes;0<r;){var a=31-th(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=tn()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*or(r/1960))-r)){e.timeoutHandle=rD(oX.bind(null,e,oy,ok),r);break}oX(e,oy,ok);break;default:throw Error(c(329))}}}return oM(e,tn()),e.callbackNode===n?oF.bind(null,e):null}function oU(e,t){var n=o_;return e.current.memoizedState.isDehydrated&&(oB(e,t).flags|=256),2!==(e=oG(e,t))&&(t=oy,oy=n,null!==t&&oz(t)),e}function oz(e){null===oy?oy=e:oy.push.apply(oy,e)}function oj(e,t){for(t&=~ov,t&=~og,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-th(t),r=1<<n;e[n]=-1,t&=~r}}function oW(e){if(0!=(6&oo))throw Error(c(327));oZ();var t=tv(e,0);if(0==(1&t))return oM(e,tn()),null;var n=oG(e,t);if(0!==e.tag&&2===n){var r=t_(e);0!==r&&(t=r,n=oU(e,r))}if(1===n)throw n=op,oB(e,0),oj(e,t),oM(e,tn()),n;if(6===n)throw Error(c(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,oX(e,oy,ok),oM(e,tn()),null}function oV(e,t){var n=oo;oo|=1;try{return e(t)}finally{0===(oo=n)&&(ow=tn()+500,ia&&iu())}}function oq(e){null!==oT&&0===oT.tag&&0==(6&oo)&&oZ();var t=oo;oo|=1;var n=oa.transition,r=tC;try{if(oa.transition=null,tC=1,e)return e()}finally{tC=r,oa.transition=n,0==(6&(oo=t))&&iu()}}function oH(){oh=od.current,r1(od)}function oB(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rL(n)),null!==ou)for(n=ou.return;null!==n;){var r=n;switch(iC(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&r7();break;case 3:sl(),r1(r6),r1(r4),sp();break;case 5:sc(r);break;case 4:sl();break;case 13:case 19:r1(sh);break;case 10:iG(r.type._context);break;case 22:case 23:oH()}n=n.return}if(ol=e,ou=e=o7(e.current,null),oc=oh=t,of=0,op=null,ov=og=om=0,oy=o_=null,null!==iZ){for(t=0;t<iZ.length;t++)if(null!==(r=(n=iZ[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}iZ=null}return e}function o$(e,t){for(;;){var n=ou;try{if(iQ(),sm.current=s7,sw){for(var r=s_.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}sw=!1}if(sv=0,sb=sy=s_=null,sk=!1,sC=0,os.current=null,null===n||null===n.return){of=1,op=t,ou=null;break}e:{var s=e,a=n.return,o=n,l=t;if(t=oc,o.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,h=o,d=h.tag;if(0==(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=av(a);if(null!==p){p.flags&=-257,a_(p,a,o,s,t),1&p.mode&&ag(s,u,t),t=p,l=u;var m=t.updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0==(1&t)){ag(s,u,t),oQ();break e}l=Error(c(426))}else if(iI&&1&o.mode){var v=av(a);if(null!==v){0==(65536&v.flags)&&(v.flags|=256),a_(v,a,o,s,t),iM(ac(l,o));break e}}s=l=ac(l,o),4!==of&&(of=2),null===o_?o_=[s]:o_.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=ap(s,l,t);i7(s,_);break e;case 1:o=l;var y=s.type,b=s.stateNode;if(0==(128&s.flags)&&("function"==typeof y.getDerivedStateFromError||null!==b&&"function"==typeof b.componentDidCatch&&(null===oE||!oE.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=am(s,o,t);i7(s,w);break e}}s=s.return}while(null!==s)}oJ(n)}catch(e){t=e,ou===n&&null!==n&&(ou=n=n.return);continue}break}}function oK(){var e=oi.current;return oi.current=s7,null===e?s7:e}function oQ(){(0===of||3===of||2===of)&&(of=4),null===ol||0==(268435455&om)&&0==(268435455&og)||oj(ol,oc)}function oG(e,t){var n=oo;oo|=2;var r=oK();for((ol!==e||oc!==t)&&(ok=null,oB(e,t));;)try{(function(){for(;null!==ou;)oY(ou)})();break}catch(t){o$(e,t)}if(iQ(),oo=n,oi.current=r,null!==ou)throw Error(c(261));return ol=null,oc=0,of}function oY(e){var t=o(e.alternate,e,oh);e.memoizedProps=e.pendingProps,null===t?oJ(e):ou=t,os.current=null}function oJ(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(32768&t.flags)){if(null!==(n=function(e,t,n){var o=t.pendingProps;switch(iC(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return aq(t),null;case 1:case 17:return r9(t.type)&&r7(),aq(t),null;case 3:return o=t.stateNode,sl(),r1(r6),r1(r4),sp(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(null===e||null===e.child)&&(iD(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&t.flags)||(t.flags|=1024,null!==iT&&(oz(iT),iT=null))),i(e,t),aq(t),null;case 5:sc(t);var l=sa(ss.current);if(n=t.type,null!==e&&null!=t.stateNode)s(e,t,n,o,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!o){if(null===t.stateNode)throw Error(c(166));return aq(t),null}if(e=sa(sr.current),iD(t)){o=t.stateNode,n=t.type;var u=t.memoizedProps;switch(o[rV]=t,o[rq]=u,e=0!=(1&t.mode),n){case"dialog":rm("cancel",o),rm("close",o);break;case"iframe":case"object":case"embed":rm("load",o);break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],o);break;case"source":rm("error",o);break;case"img":case"image":case"link":rm("error",o),rm("load",o);break;case"details":rm("toggle",o);break;case"input":ed(o,u),rm("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!u.multiple},rm("invalid",o);break;case"textarea":eb(o,u),rm("invalid",o)}for(var h in eL(n,u),l=null,u)if(u.hasOwnProperty(h)){var f=u[h];"children"===h?"string"==typeof f?o.textContent!==f&&(!0!==u.suppressHydrationWarning&&rP(o.textContent,f,e),l=["children",f]):"number"==typeof f&&o.textContent!==""+f&&(!0!==u.suppressHydrationWarning&&rP(o.textContent,f,e),l=["children",""+f]):d.hasOwnProperty(h)&&null!=f&&"onScroll"===h&&rm("scroll",o)}switch(n){case"input":el(o),em(o,u,!0);break;case"textarea":el(o),ek(o);break;case"select":case"option":break;default:"function"==typeof u.onClick&&(o.onclick=rx)}o=l,t.updateQueue=o,null!==o&&(t.flags|=4)}else{h=9===l.nodeType?l:l.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=eC(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=h.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof o.is?e=h.createElement(n,{is:o.is}):(e=h.createElement(n),"select"===n&&(h=e,o.multiple?h.multiple=!0:o.size&&(h.size=o.size))):e=h.createElementNS(e,n),e[rV]=t,e[rq]=o,r(e,t,!1,!1),t.stateNode=e;e:{switch(h=eA(n,o),n){case"dialog":rm("cancel",e),rm("close",e),l=o;break;case"iframe":case"object":case"embed":rm("load",e),l=o;break;case"video":case"audio":for(l=0;l<rh.length;l++)rm(rh[l],e);l=o;break;case"source":rm("error",e),l=o;break;case"img":case"image":case"link":rm("error",e),rm("load",e),l=o;break;case"details":rm("toggle",e),l=o;break;case"input":ed(e,o),l=eh(e,o),rm("invalid",e);break;case"option":default:l=o;break;case"select":e._wrapperState={wasMultiple:!!o.multiple},l=en({},o,{value:void 0}),rm("invalid",e);break;case"textarea":eb(e,o),l=ey(e,o),rm("invalid",e)}for(u in eL(n,l),f=l)if(f.hasOwnProperty(u)){var p=f[u];"style"===u?eO(e,p):"dangerouslySetInnerHTML"===u?null!=(p=p?p.__html:void 0)&&eT(e,p):"children"===u?"string"==typeof p?("textarea"!==n||""!==p)&&eP(e,p):"number"==typeof p&&eP(e,""+p):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(d.hasOwnProperty(u)?null!=p&&"onScroll"===u&&rm("scroll",e):null!=p&&E(e,u,p,h))}switch(n){case"input":el(e),em(e,o,!1);break;case"textarea":el(e),ek(e);break;case"option":null!=o.value&&e.setAttribute("value",""+ea(o.value));break;case"select":e.multiple=!!o.multiple,null!=(u=o.value)?e_(e,!!o.multiple,u,!1):null!=o.defaultValue&&e_(e,!!o.multiple,o.defaultValue,!0);break;default:"function"==typeof l.onClick&&(e.onclick=rx)}switch(n){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return aq(t),null;case 6:if(e&&null!=t.stateNode)a(e,t,e.memoizedProps,o);else{if("string"!=typeof o&&null===t.stateNode)throw Error(c(166));if(n=sa(ss.current),sa(sr.current),iD(t)){if(o=t.stateNode,n=t.memoizedProps,o[rV]=t,(u=o.nodeValue!==n)&&null!==(e=iS))switch(e.tag){case 3:rP(o.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&rP(o.nodeValue,n,0!=(1&e.mode))}u&&(t.flags|=4)}else(o=(9===n.nodeType?n:n.ownerDocument).createTextNode(o))[rV]=t,t.stateNode=o}return aq(t),null;case 13:if(r1(sh),o=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iI&&null!==iE&&0!=(1&t.mode)&&0==(128&t.flags))iL(),iA(),t.flags|=98560,u=!1;else if(u=iD(t),null!==o&&null!==o.dehydrated){if(null===e){if(!u)throw Error(c(318));if(!(u=null!==(u=t.memoizedState)?u.dehydrated:null))throw Error(c(317));u[rV]=t}else iA(),0==(128&t.flags)&&(t.memoizedState=null),t.flags|=4;aq(t),u=!1}else null!==iT&&(oz(iT),iT=null),u=!0;if(!u)return 65536&t.flags?t:null}if(0!=(128&t.flags))return t.lanes=n,t;return(o=null!==o)!=(null!==e&&null!==e.memoizedState)&&o&&(t.child.flags|=8192,0!=(1&t.mode)&&(null===e||0!=(1&sh.current)?0===of&&(of=3):oQ())),null!==t.updateQueue&&(t.flags|=4),aq(t),null;case 4:return sl(),i(e,t),null===e&&r_(t.stateNode.containerInfo),aq(t),null;case 10:return iG(t.type._context),aq(t),null;case 19:if(r1(sh),null===(u=t.memoizedState))return aq(t),null;if(o=0!=(128&t.flags),null===(h=u.rendering)){if(o)aV(u,!1);else{if(0!==of||null!==e&&0!=(128&e.flags))for(e=t.child;null!==e;){if(null!==(h=sd(e))){for(t.flags|=128,aV(u,!1),null!==(o=h.updateQueue)&&(t.updateQueue=o,t.flags|=4),t.subtreeFlags=0,o=n,n=t.child;null!==n;)u=n,e=o,u.flags&=14680066,null===(h=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=h.childLanes,u.lanes=h.lanes,u.child=h.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=h.memoizedProps,u.memoizedState=h.memoizedState,u.updateQueue=h.updateQueue,u.type=h.type,e=h.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return r2(sh,1&sh.current|2),t.child}e=e.sibling}null!==u.tail&&tn()>ow&&(t.flags|=128,o=!0,aV(u,!1),t.lanes=4194304)}}else{if(!o){if(null!==(e=sd(h))){if(t.flags|=128,o=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),aV(u,!0),null===u.tail&&"hidden"===u.tailMode&&!h.alternate&&!iI)return aq(t),null}else 2*tn()-u.renderingStartTime>ow&&1073741824!==n&&(t.flags|=128,o=!0,aV(u,!1),t.lanes=4194304)}u.isBackwards?(h.sibling=t.child,t.child=h):(null!==(n=u.last)?n.sibling=h:t.child=h,u.last=h)}if(null!==u.tail)return t=u.tail,u.rendering=t,u.tail=t.sibling,u.renderingStartTime=tn(),t.sibling=null,n=sh.current,r2(sh,o?1&n|2:1&n),t;return aq(t),null;case 22:case 23:return oH(),o=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==o&&(t.flags|=8192),o&&0!=(1&t.mode)?0!=(1073741824&oh)&&(aq(t),6&t.subtreeFlags&&(t.flags|=8192)):aq(t),null;case 24:case 25:return null}throw Error(c(156,t.tag))}(n,t,oh))){ou=n;return}}else{if(null!==(n=function(e,t){switch(iC(t),t.tag){case 1:return r9(t.type)&&r7(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return sl(),r1(r6),r1(r4),sp(),0!=(65536&(e=t.flags))&&0==(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sc(t),null;case 13:if(r1(sh),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(c(340));iA()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return r1(sh),null;case 4:return sl(),null;case 10:return iG(t.type._context),null;case 22:case 23:return oH(),null;default:return null}}(n,t))){n.flags&=32767,ou=n;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{of=6,ou=null;return}}if(null!==(t=t.sibling)){ou=t;return}ou=t=e}while(null!==t)0===of&&(of=5)}function oX(e,t,n){var r=tC,i=oa.transition;try{oa.transition=null,tC=1,function(e,t,n,r){do oZ();while(null!==oT)if(0!=(6&oo))throw Error(c(327));n=e.finishedWork;var i=e.finishedLanes;if(null!==n){if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(c(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-th(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,s),e===ol&&(ou=ol=null,oc=0),0==(2064&n.subtreeFlags)&&0==(2064&n.flags)||oI||(oI=!0,a=ta,o=function(){return oZ(),null},e9(a,o)),s=0!=(15990&n.flags),0!=(15990&n.subtreeFlags)||s){s=oa.transition,oa.transition=null;var a,o,l,u,h,d=tC;tC=1;var f=oo;oo|=4,os.current=null,function(e,t){if(rN=tQ,n0(e=nZ())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i,s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(e){n=null;break e}var o=0,l=-1,u=-1,h=0,d=0,f=e,p=null;t:for(;;){for(;f!==n||0!==s&&3!==f.nodeType||(l=o+s),f!==a||0!==r&&3!==f.nodeType||(u=o+r),3===f.nodeType&&(o+=f.nodeValue.length),null!==(i=f.firstChild);)p=f,f=i;for(;;){if(f===e)break t;if(p===n&&++h===s&&(l=o),p===a&&++d===r&&(u=o),null!==(i=f.nextSibling))break;p=(f=p).parentNode}f=i}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rR={focusedElem:e,selectionRange:n},tQ=!1,aK=t;null!==aK;)if(e=(t=aK).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,aK=e;else for(;null!==aK;){t=aK;try{var m=t.alternate;if(0!=(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,_=t.stateNode,y=_.getSnapshotBeforeUpdate(t.elementType===t.type?g:ar(t.type,g),v);_.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(c(163))}}catch(e){o1(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,aK=e;break}aK=t.return}m=aY,aY=!1}(e,n),a9(n,e),function(e){var t=nZ(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!!t&&!!n&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&n0(n)){if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=nX(n,s);var a=nX(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(rR),tQ=!!rN,rR=rN=null,e.current=n,l=n,u=e,h=i,aK=l,function e(t,n,r){for(var i=0!=(1&t.mode);null!==aK;){var s=aK,a=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||aH;if(!o){var l=s.alternate,u=null!==l&&null!==l.memoizedState||aB;l=aH;var c=aB;if(aH=o,(aB=u)&&!c)for(aK=s;null!==aK;)u=(o=aK).child,22===o.tag&&null!==o.memoizedState?on(s):null!==u?(u.return=o,aK=u):on(s);for(;null!==a;)aK=a,e(a,n,r),a=a.sibling;aK=s,aH=l,aB=c}oe(t,n,r)}else 0!=(8772&s.subtreeFlags)&&null!==a?(a.return=s,aK=a):oe(t,n,r)}}(l,u,h),tt(),oo=f,tC=d,oa.transition=s}else e.current=n;if(oI&&(oI=!1,oT=e,oP=i),0===(s=e.pendingLanes)&&(oE=null),function(e){if(tc&&"function"==typeof tc.onCommitFiberRoot)try{tc.onCommitFiberRoot(tu,e,void 0,128==(128&e.current.flags))}catch(e){}}(n.stateNode,r),oM(e,tn()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(oC)throw oC=!1,e=oS,oS=null,e;0!=(1&oP)&&0!==e.tag&&oZ(),0!=(1&(s=e.pendingLanes))?e===oN?ox++:(ox=0,oN=e):ox=0,iu()}}(e,t,n,r)}finally{oa.transition=i,tC=r}return null}function oZ(){if(null!==oT){var e=tS(oP),t=oa.transition,n=tC;try{if(oa.transition=null,tC=16>e?16:e,null===oT)var r=!1;else{if(e=oT,oT=null,oP=0,0!=(6&oo))throw Error(c(331));var i=oo;for(oo|=4,aK=e.current;null!==aK;){var s=aK,a=s.child;if(0!=(16&aK.flags)){var o=s.deletions;if(null!==o){for(var l=0;l<o.length;l++){var u=o[l];for(aK=u;null!==aK;){var h=aK;switch(h.tag){case 0:case 11:case 15:aJ(8,h,s)}var d=h.child;if(null!==d)d.return=h,aK=d;else for(;null!==aK;){var f=(h=aK).sibling,p=h.return;if(function e(t){var n=t.alternate;null!==n&&(t.alternate=null,e(n)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&null!==(n=t.stateNode)&&(delete n[rV],delete n[rq],delete n[rB],delete n[r$],delete n[rK]),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}(h),h===u){aK=null;break}if(null!==f){f.return=p,aK=f;break}aK=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}aK=s}}if(0!=(2064&s.subtreeFlags)&&null!==a)a.return=s,aK=a;else for(;null!==aK;){if(s=aK,0!=(2048&s.flags))switch(s.tag){case 0:case 11:case 15:aJ(9,s,s.return)}var _=s.sibling;if(null!==_){_.return=s.return,aK=_;break}aK=s.return}}var y=e.current;for(aK=y;null!==aK;){var b=(a=aK).child;if(0!=(2064&a.subtreeFlags)&&null!==b)b.return=a,aK=b;else for(a=y;null!==aK;){if(o=aK,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:aX(9,o)}}catch(e){o1(o,o.return,e)}if(o===a){aK=null;break}var w=o.sibling;if(null!==w){w.return=o.return,aK=w;break}aK=o.return}}if(oo=i,iu(),tc&&"function"==typeof tc.onPostCommitFiberRoot)try{tc.onPostCommitFiberRoot(tu,e)}catch(e){}r=!0}return r}finally{tC=n,oa.transition=t}}return!1}function o0(e,t,n){t=ap(e,t=ac(n,t),1),e=i8(e,t,1),t=oD(),null!==e&&(tw(e,1,t),oM(e,t))}function o1(e,t,n){if(3===e.tag)o0(e,e,n);else for(;null!==t;){if(3===t.tag){o0(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===oE||!oE.has(r))){e=am(t,e=ac(n,e),1),t=i8(t,e,1),e=oD(),null!==t&&(tw(t,1,e),oM(t,e));break}}t=t.return}}function o2(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=oD(),e.pingedLanes|=e.suspendedLanes&n,ol===e&&(oc&n)===n&&(4===of||3===of&&(130023424&oc)===oc&&500>tn()-ob?oB(e,0):ov|=n),oM(e,t)}function o3(e,t){0===t&&(0==(1&e.mode)?t=1:(t=tm,0==(130023424&(tm<<=1))&&(tm=4194304)));var n=oD();null!==(e=i2(e,t))&&(tw(e,t,n),oM(e,n))}function o4(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),o3(e,n)}function o6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(c(314))}null!==r&&r.delete(t),o3(e,n)}function o5(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function o8(e,t,n,r){return new o5(e,t,n,r)}function o9(e){return!(!(e=e.prototype)||!e.isReactComponent)}function o7(e,t){var n=e.alternate;return null===n?((n=o8(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function le(e,t,n,r,i,s){var a=2;if(r=e,"function"==typeof e)o9(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case x:return lt(n.children,i,s,t);case N:a=8,i|=8;break;case R:return(e=o8(12,n,t,2|i)).elementType=R,e.lanes=s,e;case A:return(e=o8(13,n,t,i)).elementType=A,e.lanes=s,e;case M:return(e=o8(19,n,t,i)).elementType=M,e.lanes=s,e;case j:return ln(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:a=10;break e;case D:a=9;break e;case L:a=11;break e;case F:a=14;break e;case z:a=16,r=null;break e}throw Error(c(130,null==e?e:typeof e,""))}return(t=o8(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function lt(e,t,n,r){return(e=o8(7,e,r,t)).lanes=n,e}function ln(e,t,n,r){return(e=o8(22,e,r,t)).elementType=j,e.lanes=n,e.stateNode={isHidden:!1},e}function lr(e,t,n){return(e=o8(6,e,null,t)).lanes=n,e}function li(e,t,n){return(t=o8(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ls(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tb(0),this.expirationTimes=tb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function la(e,t,n,r,i,s,a,o,l){return e=new ls(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=o8(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},i4(s),e}function lo(e){if(!e)return r3;e=e._reactInternals;e:{if(e4(e)!==e||1!==e.tag)throw Error(c(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(r9(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t)throw Error(c(171))}if(1===e.tag){var n=e.type;if(r9(n))return it(e,n,t)}return t}function ll(e,t,n,r,i,s,a,o,l){return(e=la(n,r,!0,e,i,s,a,o,l)).context=lo(null),n=e.current,(s=i5(r=oD(),i=oL(n))).callback=null!=t?t:null,i8(n,s,i),e.current.lanes=i,tw(e,i,r),oM(e,r),e}function lu(e,t,n,r){var i=t.current,s=oD(),a=oL(i);return n=lo(n),null===t.context?t.context=n:t.pendingContext=n,(t=i5(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=i8(i,t,a))&&(oA(e,i,a,s),i9(e,i,a)),a}function lc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function lh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ld(e,t){lh(e,t),(e=e.alternate)&&lh(e,t)}o=function(e,t,n){if(null!==e){if(e.memoizedProps!==t.pendingProps||r6.current)ab=!0;else{if(0==(e.lanes&n)&&0==(128&t.flags))return ab=!1,function(e,t,n){switch(t.tag){case 3:aN(t),iA();break;case 5:su(t);break;case 1:r9(t.type)&&ir(t);break;case 4:so(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;r2(iH,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState)){if(null!==r.dehydrated)return r2(sh,1&sh.current),t.flags|=128,null;if(0!=(n&t.child.childLanes))return aL(e,t,n);return r2(sh,1&sh.current),null!==(e=aW(e,t,n))?e.sibling:null}r2(sh,1&sh.current);break;case 19:if(r=0!=(n&t.childLanes),0!=(128&e.flags)){if(r)return az(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),r2(sh,sh.current),!r)return null;break;case 22:case 23:return t.lanes=0,aE(e,t,n)}return aW(e,t,n)}(e,t,n);ab=0!=(131072&e.flags)}}else ab=!1,iI&&0!=(1048576&t.flags)&&iw(t,ip,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;aj(e,t),e=t.pendingProps;var i=r8(t,r4.current);iJ(t,n),i=sT(null,t,r,e,i,n);var s=sP();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,r9(r)?(s=!0,ir(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,i4(t),i.updater=as,t.stateNode=i,i._reactInternals=t,au(t,r,e,n),t=ax(null,t,r,!0,s,n)):(t.tag=0,iI&&s&&ik(t),aw(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(aj(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"==typeof e)return o9(e)?1:0;if(null!=e){if((e=e.$$typeof)===L)return 11;if(e===F)return 14}return 2}(r),e=ar(r,e),i){case 0:t=aT(null,t,r,e,n);break e;case 1:t=aP(null,t,r,e,n);break e;case 11:t=ak(null,t,r,e,n);break e;case 14:t=aC(null,t,r,ar(r.type,e),n);break e}throw Error(c(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aP(e,t,r,i,n);case 3:e:{if(aN(t),null===e)throw Error(c(387));r=t.pendingProps,i=(s=t.memoizedState).element,i6(e,t),se(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){i=ac(Error(c(423)),t),t=aR(e,t,r,n,i);break e}if(r!==i){i=ac(Error(c(424)),t),t=aR(e,t,r,n,i);break e}for(iE=rz(t.stateNode.containerInfo.firstChild),iS=t,iI=!0,iT=null,n=iq(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(iA(),r===i){t=aW(e,t,n);break e}aw(e,t,r,n)}t=t.child}return t;case 5:return su(t),null===e&&iR(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,rO(r,i)?a=null:null!==s&&rO(r,s)&&(t.flags|=32),aI(e,t),aw(e,t,a,n),t.child;case 6:return null===e&&iR(t),null;case 13:return aL(e,t,n);case 4:return so(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=iV(t,null,r,n):aw(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),ak(e,t,r,i,n);case 7:return aw(e,t,t.pendingProps,n),t.child;case 8:case 12:return aw(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,r2(iH,r._currentValue),r._currentValue=a,null!==s){if(nG(s.value,a)){if(s.children===i.children&&!r6.current){t=aW(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){a=s.child;for(var l=o.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=i5(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),iY(s.return,n,t),o.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(c(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),iY(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}}aw(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,iJ(t,n),r=r(i=iX(i)),t.flags|=1,aw(e,t,r,n),t.child;case 14:return i=ar(r=t.type,t.pendingProps),i=ar(r.type,i),aC(e,t,r,i,n);case 15:return aS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ar(r,i),aj(e,t),t.tag=1,r9(r)?(e=!0,ir(t)):e=!1,iJ(t,n),ao(t,r,i),au(t,r,i,n),ax(null,t,r,!0,e,n);case 19:return az(e,t,n);case 22:return aE(e,t,n)}throw Error(c(156,t.tag))};var lf="function"==typeof reportError?reportError:function(e){console.error(e)};function lp(e){this._internalRoot=e}function lm(e){this._internalRoot=e}function lg(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function lv(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function l_(){}function ly(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"==typeof i){var o=i;i=function(){var e=lc(a);o.call(e)}}lu(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=lc(a);s.call(e)}}var a=ll(t,r,e,0,null,!1,!1,"",l_);return e._reactRootContainer=a,e[rH]=a.current,r_(8===e.nodeType?e.parentNode:e),oq(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var o=r;r=function(){var e=lc(l);o.call(e)}}var l=la(e,0,!1,null,null,!1,!1,"",l_);return e._reactRootContainer=l,e[rH]=l.current,r_(8===e.nodeType?e.parentNode:e),oq(function(){lu(t,l,n,r)}),l}(n,t,e,i,r);return lc(a)}lm.prototype.render=lp.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(c(409));lu(e,t,null,null)},lm.prototype.unmount=lp.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;oq(function(){lu(null,e,null,null)}),t[rH]=null}},lm.prototype.unstable_scheduleHydration=function(e){if(e){var t=tP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tF.length&&0!==t&&t<tF[n].priority;n++);tF.splice(n,0,e),0===n&&tW(e)}},tE=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=tg(t.pendingLanes);0!==n&&(tk(t,1|n),oM(t,tn()),0==(6&oo)&&(ow=tn()+500,iu()))}break;case 13:oq(function(){var t=i2(e,1);null!==t&&oA(t,e,1,oD())}),ld(e,1)}},tI=function(e){if(13===e.tag){var t=i2(e,134217728);null!==t&&oA(t,e,134217728,oD()),ld(e,134217728)}},tT=function(e){if(13===e.tag){var t=oL(e),n=i2(e,t);null!==n&&oA(n,e,t,oD()),ld(e,t)}},tP=function(){return tC},tx=function(e,t){var n=tC;try{return tC=e,t()}finally{tC=n}},eU=function(e,t,n){switch(t){case"input":if(ep(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=rJ(r);if(!i)throw Error(c(90));eu(r),ep(r,i)}}}break;case"textarea":ew(e,n);break;case"select":null!=(t=n.value)&&e_(e,!!n.multiple,t,!1)}},eH=oV,eB=oq;var lb={findFiberByHostInstance:rQ,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lw={bundleType:lb.bundleType,version:lb.version,rendererPackageName:lb.rendererPackageName,rendererConfig:lb.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e8(e))?null:e.stateNode},findFiberByHostInstance:lb.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lk=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lk.isDisabled&&lk.supportsFiber)try{tu=lk.inject(lw),tc=lk}catch(e){}}q={usingClientEntryPoint:!1,Events:[rG,rY,rJ,eV,eq,oV]},H=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!lg(t))throw Error(c(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},B=function(e,t){if(!lg(e))throw Error(c(299));var n=!1,r="",i=lf;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=la(e,1,!1,null,null,n,!1,r,i),e[rH]=t.current,r_(8===e.nodeType?e.parentNode:e),new lp(t)},$=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(c(188));throw Error(c(268,e=Object.keys(e).join(",")))}return e=null===(e=e8(t))?null:e.stateNode},K=function(e){return oq(e)},Q=function(e,t,n){if(!lv(t))throw Error(c(200));return ly(null,e,t,!0,n)},G=function(e,t,n){if(!lg(e))throw Error(c(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=lf;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ll(t,null,e,1,null!=n?n:null,i,!1,s,a),e[rH]=t.current,r_(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new lm(t)},Y=function(e,t,n){if(!lv(t))throw Error(c(200));return ly(null,e,t,!1,n)},J=function(e){if(!lv(e))throw Error(c(40));return!!e._reactRootContainer&&(oq(function(){ly(null,null,e,!1,function(){e._reactRootContainer=null,e[rH]=null})}),!0)},X=oV,Z=function(e,t,n,r){if(!lv(n))throw Error(c(200));if(null==e||void 0===e._reactInternals)throw Error(c(38));return ly(e,t,n,!1,r)},ee="18.3.1-next-f1338f8080-20240426"}),z("fO90s",function(e,t){e.exports=U("gcnCG")}),z("gcnCG",function(e,t){function n(e,t){var n=e.length;for(e.push(t);0<n;){var r=n-1>>>1,i=e[r];if(0<s(i,t))e[r]=t,e[n]=i,n=r;else break}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],u=o+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[o]=n,r=o);else if(u<i&&0>s(c,n))e[r]=c,e[u]=n,r=u;else break}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(p(e.exports,"unstable_now",()=>a,e=>a=e),p(e.exports,"unstable_IdlePriority",()=>o,e=>o=e),p(e.exports,"unstable_ImmediatePriority",()=>l,e=>l=e),p(e.exports,"unstable_LowPriority",()=>u,e=>u=e),p(e.exports,"unstable_NormalPriority",()=>c,e=>c=e),p(e.exports,"unstable_Profiling",()=>h,e=>h=e),p(e.exports,"unstable_UserBlockingPriority",()=>d,e=>d=e),p(e.exports,"unstable_cancelCallback",()=>f,e=>f=e),p(e.exports,"unstable_continueExecution",()=>m,e=>m=e),p(e.exports,"unstable_forceFrameRate",()=>g,e=>g=e),p(e.exports,"unstable_getCurrentPriorityLevel",()=>v,e=>v=e),p(e.exports,"unstable_getFirstCallbackNode",()=>_,e=>_=e),p(e.exports,"unstable_next",()=>y,e=>y=e),p(e.exports,"unstable_pauseExecution",()=>b,e=>b=e),p(e.exports,"unstable_requestPaint",()=>w,e=>w=e),p(e.exports,"unstable_runWithPriority",()=>k,e=>k=e),p(e.exports,"unstable_scheduleCallback",()=>C,e=>C=e),p(e.exports,"unstable_shouldYield",()=>S,e=>S=e),p(e.exports,"unstable_wrapCallback",()=>E,e=>E=e),"object"==typeof performance&&"function"==typeof performance.now){var a,o,l,u,c,h,d,f,m,g,v,_,y,b,w,k,C,S,E,I,T=performance;a=function(){return T.now()}}else{var P=Date,x=P.now();a=function(){return P.now()-x}}var N=[],R=[],O=1,D=null,L=3,A=!1,M=!1,F=!1,U="function"==typeof setTimeout?setTimeout:null,z="function"==typeof clearTimeout?clearTimeout:null,j="undefined"!=typeof setImmediate?setImmediate:null;function W(e){for(var t=r(R);null!==t;){if(null===t.callback)i(R);else if(t.startTime<=e)i(R),t.sortIndex=t.expirationTime,n(N,t);else break;t=r(R)}}function V(e){if(F=!1,W(e),!M){if(null!==r(N))M=!0,Z(q);else{var t=r(R);null!==t&&ee(V,t.startTime-e)}}}function q(e,t){M=!1,F&&(F=!1,z($),$=-1),A=!0;var n=L;try{for(W(t),D=r(N);null!==D&&(!(D.expirationTime>t)||e&&!G());){var s=D.callback;if("function"==typeof s){D.callback=null,L=D.priorityLevel;var o=s(D.expirationTime<=t);t=a(),"function"==typeof o?D.callback=o:D===r(N)&&i(N),W(t)}else i(N);D=r(N)}if(null!==D)var l=!0;else{var u=r(R);null!==u&&ee(V,u.startTime-t),l=!1}return l}finally{D=null,L=n,A=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var H=!1,B=null,$=-1,K=5,Q=-1;function G(){return!(a()-Q<K)}function Y(){if(null!==B){var e=a();Q=e;var t=!0;try{t=B(!0,e)}finally{t?I():(H=!1,B=null)}}else H=!1}if("function"==typeof j)I=function(){j(Y)};else if("undefined"!=typeof MessageChannel){var J=new MessageChannel,X=J.port2;J.port1.onmessage=Y,I=function(){X.postMessage(null)}}else I=function(){U(Y,0)};function Z(e){B=e,H||(H=!0,I())}function ee(e,t){$=U(function(){e(a())},t)}o=5,l=1,u=4,c=3,h=null,d=2,f=function(e){e.callback=null},m=function(){M||A||(M=!0,Z(q))},g=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<e?Math.floor(1e3/e):5},v=function(){return L},_=function(){return r(N)},y=function(e){switch(L){case 1:case 2:case 3:var t=3;break;default:t=L}var n=L;L=t;try{return e()}finally{L=n}},b=function(){},w=function(){},k=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=L;L=e;try{return t()}finally{L=n}},C=function(e,t,i){var s=a();switch(i="object"==typeof i&&null!==i&&"number"==typeof(i=i.delay)&&0<i?s+i:s,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=i+o,e={id:O++,callback:t,priorityLevel:e,startTime:i,expirationTime:o,sortIndex:-1},i>s?(e.sortIndex=i,n(R,e),null===r(N)&&e===r(R)&&(F?(z($),$=-1):F=!0,ee(V,i-s))):(e.sortIndex=o,n(N,e),M||A||(M=!0,Z(q))),e},S=G,E=function(e){var t=L;return function(){var n=L;L=t;try{return e.apply(this,arguments)}finally{L=n}}}});var j={};j=U("1b2ls");var W={};!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),E=(W=U("Xw6Mv")).createRoot,W.hydrateRoot;/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V=U("acw62");/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function q(){return(q=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}(m=I||(I={})).Pop="POP",m.Push="PUSH",m.Replace="REPLACE";const H="popstate";function B(e,t){if(!1===e||null==e)throw Error(t)}function $(e,t){if(!e){"undefined"!=typeof console&&console.warn(t);try{throw Error(t)}catch(e){}}}function K(e,t){return{usr:e.state,key:e.key,idx:t}}function Q(e,t,n,r){return void 0===n&&(n=null),q({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Y(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function G(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Y(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}(g=T||(T={})).data="data",g.deferred="deferred",g.redirect="redirect",g.error="error";const J=/^:[\w-]+$/,X=e=>"*"===e;function Z(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ee(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t)+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function et(e,t){let n=e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0);return t?n.map((t,n)=>n===e.length-1?t.pathname:t.pathnameBase):n.map(e=>e.pathnameBase)}function en(e,t,n,r){let i,s;void 0===r&&(r=!1),"string"==typeof e?i=Y(e):(B(!(i=q({},e)).pathname||!i.pathname.includes("?"),ee("?","pathname","search",i)),B(!i.pathname||!i.pathname.includes("#"),ee("#","pathname","hash",i)),B(!i.search||!i.search.includes("#"),ee("#","search","hash",i)));let a=""===e||""===i.pathname,o=a?"/":i.pathname;if(null==o)s=n;else{let e=t.length-1;if(!r&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){let n;void 0===t&&(t="/");let{pathname:r,search:i="",hash:s=""}="string"==typeof e?Y(e):e;return{pathname:r?r.startsWith("/")?r:(n=t.replace(/\/+$/,"").split("/"),r.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"):t,search:es(i),hash:ea(s)}}(i,s),u=o&&"/"!==o&&o.endsWith("/"),c=(a||"."===o)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const er=e=>e.join("/").replace(/\/\/+/g,"/"),ei=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),es=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",ea=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Symbol("deferred");/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var V=U("acw62");function eo(){return(eo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}const el=V.createContext(null),eu=V.createContext(null),ec=V.createContext(null),eh=V.createContext(null),ed=V.createContext({outlet:null,matches:[],isDataRoute:!1}),ef=V.createContext(null);function ep(){return null!=V.useContext(eh)}function em(){return ep()||B(!1),V.useContext(eh).location}function eg(e){V.useContext(ec).static||V.useLayoutEffect(e)}function ev(){let{isDataRoute:e}=V.useContext(ed);return e?function(){let e;let{router:t}=(ek.UseNavigateStable,(e=V.useContext(el))||B(!1),e),n=eS(eC.UseNavigateStable),r=V.useRef(!1);return eg(()=>{r.current=!0}),V.useCallback(function(e,i){void 0===i&&(i={}),r.current&&("number"==typeof e?t.navigate(e):t.navigate(e,eo({fromRouteId:n},i)))},[t,n])}():function(){ep()||B(!1);let e=V.useContext(el),{basename:t,future:n,navigator:r}=V.useContext(ec),{matches:i}=V.useContext(ed),{pathname:s}=em(),a=JSON.stringify(et(i,n.v7_relativeSplatPath)),o=V.useRef(!1);return eg(()=>{o.current=!0}),V.useCallback(function(n,i){if(void 0===i&&(i={}),!o.current)return;if("number"==typeof n){r.go(n);return}let l=en(n,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:er([t,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)},[t,r,a,s,e])}()}function e_(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=V.useContext(ec),{matches:i}=V.useContext(ed),{pathname:s}=em(),a=JSON.stringify(et(i,r.v7_relativeSplatPath));return V.useMemo(()=>en(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}const ey=V.createElement(function(){var e;let t,n,r,i;let s=(n=V.useContext(ef),eC.UseRouteError,(t=V.useContext(eu))||B(!1),r=t,i=eS(eC.UseRouteError),void 0!==n?n:null==(e=r.errors)?void 0:e[i]),a=null!=s&&"number"==typeof s.status&&"string"==typeof s.statusText&&"boolean"==typeof s.internal&&"data"in s?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),o=s instanceof Error?s.stack:null;return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},a),o?V.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},o):null,null)},null);class eb extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?V.createElement(ed.Provider,{value:this.props.routeContext},V.createElement(ef.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ew(e){let{routeContext:t,match:n,children:r}=e,i=V.useContext(el);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(ed.Provider,{value:t},r)}var ek=((v=ek||{}).UseBlocker="useBlocker",v.UseRevalidator="useRevalidator",v.UseNavigateStable="useNavigate",v),eC=((_=eC||{}).UseBlocker="useBlocker",_.UseLoaderData="useLoaderData",_.UseActionData="useActionData",_.UseRouteError="useRouteError",_.UseNavigation="useNavigation",_.UseRouteLoaderData="useRouteLoaderData",_.UseMatches="useMatches",_.UseRevalidator="useRevalidator",_.UseNavigateStable="useNavigate",_.UseRouteId="useRouteId",_);function eS(e){let t;let n=((t=V.useContext(ed))||B(!1),t),r=n.matches[n.matches.length-1];return r.route.id||B(!1),r.route.id}const eE={};function eI(e){let{to:t,replace:n,state:r,relative:i}=e;ep()||B(!1);let{future:s,static:a}=V.useContext(ec),{matches:o}=V.useContext(ed),{pathname:l}=em(),u=ev(),c=JSON.stringify(en(t,et(o,s.v7_relativeSplatPath),l,"path"===i));return V.useEffect(()=>u(JSON.parse(c),{replace:n,state:r,relative:i}),[u,c,i,n,r]),null}function eT(e){B(!1)}function eP(e){let{basename:t="/",children:n=null,location:r,navigationType:i=I.Pop,navigator:s,static:a=!1,future:o}=e;ep()&&B(!1);let l=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:s,static:a,future:eo({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);"string"==typeof r&&(r=Y(r));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=r,m=V.useMemo(()=>{let e=Z(c,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:i}},[l,c,h,d,f,p,i]);return null==m?null:V.createElement(ec.Provider,{value:u},V.createElement(eh.Provider,{children:n,value:m}))}function ex(e){let{children:t,location:n}=e;return function(e,t,n,r){let i;ep()||B(!1);let{navigator:s}=V.useContext(ec),{matches:a}=V.useContext(ed),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=em();if(t){var h;let e="string"==typeof t?Y(t):t;"/"===u||(null==(h=e.pathname)?void 0:h.startsWith(u))||B(!1),i=e}else i=c;let d=i.pathname||"/",f=d;if("/"!==u){let e=u.replace(/^\//,"").split("/");f="/"+d.replace(/^\//,"").split("/").slice(e.length).join("/")}let p=function(e,t,n){void 0===n&&(n="/");let r=Z(("string"==typeof t?Y(t):t).pathname||"/",n);if(null==r)return null;let i=function e(t,n,r,i){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i="");let s=(t,s,a)=>{var o;let l,u,c={relativePath:void 0===a?t.path||"":a,caseSensitive:!0===t.caseSensitive,childrenIndex:s,route:t};c.relativePath.startsWith("/")&&(B(c.relativePath.startsWith(i),'Absolute route path "'+c.relativePath+'" nested under path "'+i+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),c.relativePath=c.relativePath.slice(i.length));let h=er([i,c.relativePath]),d=r.concat(c);t.children&&t.children.length>0&&(B(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+h+'".'),e(t.children,n,d,h)),(null!=t.path||t.index)&&n.push({path:h,score:(o=t.index,u=(l=h.split("/")).length,l.some(X)&&(u+=-2),o&&(u+=2),l.filter(e=>!X(e)).reduce((e,t)=>e+(J.test(t)?3:""===t?1:10),u)),routesMeta:d})};return t.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of function e(t){let n=t.split("/");if(0===n.length)return[];let[r,...i]=n,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(0===i.length)return s?[a,""]:[a];let o=e(i.join("/")),l=[];return l.push(...o.map(e=>""===e?a:[a,e].join("/"))),s&&l.push(...o),l.map(e=>t.startsWith("/")&&""===e?"/":e)}(e.path))s(e,t,n);else s(e,t)}),n}(e);!function(e){e.sort((e,t)=>{var n,r;return e.score!==t.score?t.score-e.score:(n=e.routesMeta.map(e=>e.childrenIndex),r=t.routesMeta.map(e=>e.childrenIndex),n.length===r.length&&n.slice(0,-1).every((e,t)=>e===r[t])?n[n.length-1]-r[r.length-1]:0)})}(i);let s=null;for(let e=0;null==s&&e<i.length;++e){let t=function(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return $(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}(r);s=function(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let e=0;e<n.length;++e){let a=n[e],o=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=function(e,t){var n,r,i;let s,a;"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[o,l]=(n=e.path,r=e.caseSensitive,i=e.end,void 0===r&&(r=!1),void 0===i&&(i=!0),$("*"===n||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were "'+n.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+n.replace(/\*$/,"/*")+'".'),s=[],a="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(s.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")),n.endsWith("*")?(s.push({paramName:"*"}),a+="*"===n||"/*"===n?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?a+="\\/*$":""!==n&&"/"!==n&&(a+="(?:(?=\\/|$))"),[new RegExp(a,r?void 0:"i"),s]),u=t.match(o);if(!u)return null;let c=u[0],h=c.replace(/(.)\/+$/,"$1"),d=u.slice(1);return{params:l.reduce((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=d[n]||"";h=c.slice(0,c.length-e.length).replace(/(.)\/+$/,"$1")}let s=d[n];return i&&!s?e[r]=void 0:e[r]=(s||"").replace(/%2F/g,"/"),e},{}),pathname:c,pathnameBase:h,pattern:e}}({path:a.relativePath,caseSensitive:a.caseSensitive,end:o},l);if(!u)return null;Object.assign(r,u.params);let c=a.route;s.push({params:r,pathname:er([i,u.pathname]),pathnameBase:ei(er([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=er([i,u.pathnameBase]))}return s}(i[e],t)}return s}(e,{pathname:f}),m=function(e,t,n,r){var i,s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){if(null==(s=n)||!s.errors)return null;e=n.matches}let a=e,o=null==(i=n)?void 0:i.errors;if(null!=o){let e=a.findIndex(e=>e.route.id&&(null==o?void 0:o[e.route.id])!==void 0);e>=0||B(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(u=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&void 0===e[t.route.id]&&(!r||void 0===r[t.route.id]);if(t.route.lazy||i){l=!0,a=u>=0?a.slice(0,u+1):[a[0]];break}}}return a.reduceRight((e,r,i)=>{var s;let c;let h=!1,d=null,f=null;n&&(c=o&&r.route.id?o[r.route.id]:void 0,d=r.route.errorElement||ey,l&&(u<0&&0===i?(eE[s="route-fallback"]||(eE[s]=!0),h=!0,f=null):u===i&&(h=!0,f=r.route.hydrateFallbackElement||null)));let p=t.concat(a.slice(0,i+1)),m=()=>{let t;return t=c?d:h?f:r.route.Component?V.createElement(r.route.Component,null):r.route.element?r.route.element:e,V.createElement(ew,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===i)?V.createElement(eb,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()},null)}(p&&p.map(e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:er([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:er([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),a,void 0,void 0);return t&&m?V.createElement(eh.Provider,{value:{location:eo({pathname:"/",search:"",hash:"",state:null,key:"default"},i),navigationType:I.Pop}},m):m}(function e(t,n){void 0===n&&(n=[]);let r=[];return V.Children.forEach(t,(t,i)=>{if(!V.isValidElement(t))return;let s=[...n,i];if(t.type===V.Fragment){r.push.apply(r,e(t.props.children,s));return}t.type!==eT&&B(!1),t.props.index&&t.props.children&&B(!1);let a={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(a.children=e(t.props.children,s)),r.push(a)}),r}(t),n)}V.startTransition;var eN=((y=eN||{})[y.pending=0]="pending",y[y.success=1]="success",y[y.error=2]="error",y);function eR(){return(eR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}new Promise(()=>{});const eO=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(e){}const eD=V.startTransition;function eL(e){let{basename:t,children:n,future:r,window:i}=e,s=V.useRef();null==s.current&&(s.current=function(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=I.Pop,l=null,u=c();function c(){return(a.state||{idx:null}).idx}function h(){o=I.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:o,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:G(e);return B(t,"No window.location.(origin|href) available to create URL for href: "+(n=n.replace(/ $/,"%20"))),new URL(n,t)}null==u&&(u=0,a.replaceState(q({},a.state,{idx:u}),""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw Error("A history only accepts one active listener");return i.addEventListener(H,h),l=e,()=>{i.removeEventListener(H,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o=I.Push;let r=Q(f.location,e,t);n&&n(r,e);let h=K(r,u=c()+1),d=f.createHref(r);try{a.pushState(h,"",d)}catch(e){if(e instanceof DOMException&&"DataCloneError"===e.name)throw e;i.location.assign(d)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o=I.Replace;let r=Q(f.location,e,t);n&&n(r,e);let i=K(r,u=c()),h=f.createHref(r);a.replaceState(i,"",h),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}(function(e,t){let{pathname:n="/",search:r="",hash:i=""}=Y(e.location.hash.substr(1));return n.startsWith("/")||n.startsWith(".")||(n="/"+n),Q("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){let n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){let t=e.location.href,n=t.indexOf("#");r=-1===n?t:t.slice(0,n)}return r+"#"+("string"==typeof t?t:G(t))},function(e,t){$("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")},{window:i,v5Compat:!0}));let a=s.current,[o,l]=V.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=V.useCallback(e=>{u&&eD?eD(()=>l(e)):l(e)},[l,u]);return V.useLayoutEffect(()=>a.listen(c),[a,c]),V.createElement(eP,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}W.flushSync,V.useId;const eA="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,eM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eF=V.forwardRef(function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,unstable_viewTransition:h}=e,d=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,eO),{basename:f}=V.useContext(ec),p=!1;if("string"==typeof u&&eM.test(u)&&(n=u,eA))try{let e=new URL(window.location.href),t=new URL(u.startsWith("//")?e.protocol+u:u),n=Z(t.pathname,f);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:p=!0}catch(e){}let m=function(e,t){let{relative:n}=void 0===t?{}:t;ep()||B(!1);let{basename:r,navigator:i}=V.useContext(ec),{hash:s,pathname:a,search:o}=e_(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:er([r,a])),i.createHref({pathname:l,search:o,hash:s})}(u,{relative:i}),g=function(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}=void 0===t?{}:t,l=ev(),u=em(),c=e_(e,{relative:a});return V.useCallback(t=>{0!==t.button||n&&"_self"!==n||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||(t.preventDefault(),l(e,{replace:void 0!==r?r:G(u)===G(c),state:i,preventScrollReset:s,relative:a,unstable_viewTransition:o}))},[u,l,c,r,i,n,e,s,a,o])}(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:h});return V.createElement("a",eR({},d,{href:n||m,onClick:p||s?r:function(e){r&&r(e),e.defaultPrevented||g(e)},ref:t,target:l}))});(b=P||(P={})).UseScrollRestoration="useScrollRestoration",b.UseSubmit="useSubmit",b.UseSubmitFetcher="useSubmitFetcher",b.UseFetcher="useFetcher",b.useViewTransitionState="useViewTransitionState",(w=x||(x={})).UseFetcher="useFetcher",w.UseFetchers="useFetchers",w.UseScrollRestoration="useScrollRestoration";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var eU={},ez=eU={};function ej(){throw Error("setTimeout has not been defined")}function eW(){throw Error("clearTimeout has not been defined")}function eV(e){if(N===setTimeout)return setTimeout(e,0);if((N===ej||!N)&&setTimeout)return N=setTimeout,setTimeout(e,0);try{return N(e,0)}catch(t){try{return N.call(null,e,0)}catch(t){return N.call(this,e,0)}}}!function(){try{N="function"==typeof setTimeout?setTimeout:ej}catch(e){N=ej}try{R="function"==typeof clearTimeout?clearTimeout:eW}catch(e){R=eW}}();var eq=[],eH=!1,eB=-1;function e$(){eH&&O&&(eH=!1,O.length?eq=O.concat(eq):eB=-1,eq.length&&eK())}function eK(){if(!eH){var e=eV(e$);eH=!0;for(var t=eq.length;t;){for(O=eq,eq=[];++eB<t;)O&&O[eB].run();eB=-1,t=eq.length}O=null,eH=!1,function(e){if(R===clearTimeout)return clearTimeout(e);if((R===eW||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(e);try{R(e)}catch(t){try{return R.call(null,e)}catch(t){return R.call(this,e)}}}(e)}}function eQ(e,t){this.fun=e,this.array=t}function eG(){}ez.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];eq.push(new eQ(e,t)),1!==eq.length||eH||eV(eK)},eQ.prototype.run=function(){this.fun.apply(null,this.array)},ez.title="browser",ez.browser=!0,ez.env={},ez.argv=[],ez.version="",ez.versions={},ez.on=eG,ez.addListener=eG,ez.once=eG,ez.off=eG,ez.removeListener=eG,ez.removeAllListeners=eG,ez.emit=eG,ez.prependListener=eG,ez.prependOnceListener=eG,ez.listeners=function(e){return[]},ez.binding=function(e){throw Error("process.binding is not supported")},ez.cwd=function(){return"/"},ez.chdir=function(e){throw Error("process.chdir is not supported")},ez.umask=function(){return 0};const eY={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},eJ=function(e,t){if(!e)throw eX(t)},eX=function(e){return Error("Firebase Database ("+eY.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},eZ=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:((64512&i)==55296&&r+1<e.length&&(64512&e.charCodeAt(r+1))==56320?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128):t[n++]=i>>12|224,t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},e0=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){let s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{let s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")},e1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],s=t+1<e.length,a=s?e[t+1]:0,o=t+2<e.length,l=o?e[t+2]:0,u=i>>2,c=(3&i)<<4|a>>4,h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(eZ(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):e0(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0,a=++t<e.length?n[e.charAt(t)]:64,o=++t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==a||null==o)throw new e2;let l=i<<2|s>>4;if(r.push(l),64!==a){let e=s<<4&240|a>>2;if(r.push(e),64!==o){let e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class e2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e3=function(e){let t=eZ(e);return e1.encodeByteArray(t,!0)},e4=function(e){return e3(e).replace(/\./g,"")},e6=function(e){try{return e1.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},e5=()=>/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==A)return A;throw Error("Unable to locate global object.")})().__FIREBASE_DEFAULTS__,e8=()=>{if(void 0===eU||void 0===eU.env)return;let e=void 0;if(e)return JSON.parse(e)},e9=()=>{let e;if("undefined"==typeof document)return;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}let t=e&&e6(e[1]);return t&&JSON.parse(t)},e7=()=>{try{return e5()||e8()||e9()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},te=e=>{var t,n;return null===(n=null===(t=e7())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},tt=e=>{let t=te(e);if(!t)return;let n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},tn=()=>{var e;return null===(e=e7())||void 0===e?void 0:e.config},tr=e=>{var t;return null===(t=e7())||void 0===t?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ta(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ts())}function to(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function tl(){return!0===eY.NODE_CLIENT||!0===eY.NODE_ADMIN}class tu extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,tu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?i.replace(th,(e,t)=>{let r=n[t];return null!=r?String(r):`<${t}?>`}):"Error",a=`${this.serviceName}: ${s} (${r}).`;return new tu(r,a,n)}}const th=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(e){return JSON.parse(e)}function tf(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp=function(e){let t={},n={},r={},i="";try{let s=e.split(".");t=td(e6(s[0])||""),n=td(e6(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}},tm=function(e){let t=tp(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},tg=function(e){let t=tp(e).claims;return"object"==typeof t&&!0===t.admin};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function t_(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function ty(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function tb(e,t,n){let r={};for(let i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function tw(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],s=t[i];if(tk(n)&&tk(s)){if(!tw(n,s))return!1}else if(n!==s)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function tk(e){return null!==e&&"object"==typeof e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function tS(e){let t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){let[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function tE(e){let t=e.indexOf("?");if(!t)return"";let n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){let n,r;t||(t=0);let i=this.W_;if("string"==typeof e)for(let n=0;n<16;n++)i[n]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let n=0;n<16;n++)i[n]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){let t=i[e-3]^i[e-8]^i[e-14]^i[e-16];i[e]=(t<<1|t>>>31)&4294967295}let s=this.chain_[0],a=this.chain_[1],o=this.chain_[2],l=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(n=l^a&(o^l),r=1518500249):(n=a^o^l,r=1859775393):e<60?(n=a&o|l&(a|o),r=2400959708):(n=a^o^l,r=3395469782);let t=(s<<5|s>>>27)+n+u+r+i[e]&4294967295;u=l,l=o,o=(a<<30|a>>>2)&4294967295,a=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+a&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);let n=t-this.blockSize,r=0,i=this.buf_,s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){let e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}}class tT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw Error("Missing Observer.");void 0===(r=!function(e,t){if("object"!=typeof e||null===e)return!1;for(let n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}(e,["next","error","complete"])?{next:e,error:t,complete:n}:e).next&&(r.next=tP),void 0===r.error&&(r.error=tP),void 0===r.complete&&(r.complete=tP);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tP(){}function tx(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){let t=i-55296;eJ(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:(i<2048?t[n++]=i>>6|192:(i<65536?t[n++]=i>>12|224:(t[n++]=i>>18|240,t[n++]=i>>12&63|128),t[n++]=i>>6&63|128),t[n++]=63&i|128)}return t},tR=function(e){let t=0;for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(e){return e&&e._delegate?e._delegate:e}class tD{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new ti;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(e){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if("EAGER"===e.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:tL})}catch(e){}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(e){}}}}clearInstance(e=tL){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=tL){return this.instances.has(e)}getOptions(e=tL){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){var n;let r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);let s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch(e){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:e===tL?void 0:e,options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(e){}return n||null}normalizeInstanceIdentifier(e=tL){return this.component?this.component.multipleInstances?e:tL:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new tA(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tF=[];(k=D||(D={}))[k.DEBUG=0]="DEBUG",k[k.VERBOSE=1]="VERBOSE",k[k.INFO=2]="INFO",k[k.WARN=3]="WARN",k[k.ERROR=4]="ERROR",k[k.SILENT=5]="SILENT";const tU={debug:D.DEBUG,verbose:D.VERBOSE,info:D.INFO,warn:D.WARN,error:D.ERROR,silent:D.SILENT},tz=D.INFO,tj={[D.DEBUG]:"log",[D.VERBOSE]:"log",[D.INFO]:"info",[D.WARN]:"warn",[D.ERROR]:"error"},tW=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=tj[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class tV{constructor(e){this.name=e,this._logLevel=tz,this._logHandler=tW,this._userLogHandler=null,tF.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in D))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?tU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,D.DEBUG,...e),this._logHandler(this,D.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,D.VERBOSE,...e),this._logHandler(this,D.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,D.INFO,...e),this._logHandler(this,D.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,D.WARN,...e),this._logHandler(this,D.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,D.ERROR,...e),this._logHandler(this,D.ERROR,...e)}}const tq=(e,t)=>t.some(t=>e instanceof t),tH=new WeakMap,tB=new WeakMap,t$=new WeakMap,tK=new WeakMap,tQ=new WeakMap;let tG={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return tB.get(e);if("objectStoreNames"===t)return e.objectStoreNames||t$.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return tY(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function tY(n){var r;if(n instanceof IDBRequest)return function(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(tY(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&tH.set(t,e)}).catch(()=>{}),tQ.set(t,e),t}(n);if(tK.has(n))return tK.get(n);let i="function"==typeof(r=n)?r!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(t||(t=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(r)?function(...e){return r.apply(tJ(this),e),tY(tH.get(this))}:function(...e){return tY(r.apply(tJ(this),e))}:function(e,...t){let n=r.call(tJ(this),e,...t);return t$.set(n,e.sort?e.sort():[e]),tY(n)}:(r instanceof IDBTransaction&&function(e){if(tB.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});tB.set(e,t)}(r),tq(r,e||(e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])))?new Proxy(r,tG):r;return i!==n&&(tK.set(n,i),tQ.set(i,n)),i}const tJ=e=>tQ.get(e),tX=["get","getKey","getAll","getAllKeys","count"],tZ=["put","add","delete","clear"],t0=new Map;function t1(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t))return;if(t0.get(t))return t0.get(t);let n=t.replace(/FromIndex$/,""),r=t!==n,i=tZ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||tX.includes(n)))return;let s=async function(e,...t){let s=this.transaction(e,i?"readwrite":"readonly"),a=s.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),i&&s.done]))[0]};return t0.set(t,s),s}tG={...f=tG,get:(e,t,n)=>t1(e,t)||f.get(e,t,n),has:(e,t)=>!!t1(e,t)||f.has(e,t)};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(!function(e){let t=e.getComponent();return(null==t?void 0:t.type)==="VERSION"}(e))return null;{let t=e.getImmediate();return`${t.library}/${t.version}`}}).filter(e=>e).join(" ")}}const t3="@firebase/app",t4="0.10.4",t6=new tV("@firebase/app"),t5="[DEFAULT]",t8={[t3]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},t9=new Map,t7=new Map,ne=new Map;function nt(e,t){try{e.container.addComponent(t)}catch(n){t6.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function nn(e){let t=e.name;if(ne.has(t))return t6.debug(`There were multiple attempts to register component ${t}.`),!1;for(let n of(ne.set(t,e),t9.values()))nt(n,e);for(let t of t7.values())nt(t,e);return!0}function nr(e,t){let n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ni(e){return void 0!==e.settings}const ns=new tc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new tD("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ns.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no="10.12.1";function nl(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});let r=Object.assign({name:t5,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw ns.create("bad-app-name",{appName:String(i)});if(n||(n=tn()),!n)throw ns.create("no-options");let s=t9.get(i);if(s){if(tw(n,s.options)&&tw(r,s.config))return s;throw ns.create("duplicate-app",{appName:i})}let a=new tM(i);for(let e of ne.values())a.addComponent(e);let o=new na(n,r,a);return t9.set(i,o),o}function nu(e=t5){let t=t9.get(e);if(!t&&e===t5&&tn())return nl();if(!t)throw ns.create("no-app",{appName:e});return t}function nc(e,t,n){var r;let i=null!==(r=t8[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);let s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){let e=[`Unable to register library "${i}" with version "${t}":`];s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),t6.warn(e.join(" "));return}nn(new tD(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const nh="firebase-heartbeat-store";let nd=null;function nf(){return nd||(nd=(function(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let a=indexedDB.open(e,1),o=tY(a);return r&&a.addEventListener("upgradeneeded",e=>{r(tY(a.result),e.oldVersion,e.newVersion,tY(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o})("firebase-heartbeat-database",0,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(nh)}catch(e){console.warn(e)}}}).catch(e=>{throw ns.create("idb-open",{originalErrorMessage:e.message})})),nd}async function np(e){try{let t=(await nf()).transaction(nh),n=await t.objectStore(nh).get(ng(e));return await t.done,n}catch(e){if(e instanceof tu)t6.warn(e.message);else{let t=ns.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});t6.warn(t.message)}}}async function nm(e,t){try{let n=(await nf()).transaction(nh,"readwrite"),r=n.objectStore(nh);await r.put(t,ng(e)),await n.done}catch(e){if(e instanceof tu)t6.warn(e.message);else{let t=ns.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});t6.warn(t.message)}}}function ng(e){return`${e.name}!${e.options.appId}`}class nv{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new ny(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;let n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=n_();return(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)==null)?void 0:this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r)?void 0:(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{let t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache))}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)==null||0===this._heartbeatsCache.heartbeats.length)return"";let t=n_(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),nb(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),nb(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=e4(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function n_(){return new Date().toISOString().substring(0,10)}class ny{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}).then(()=>!0).catch(()=>!1)}async read(){if(!await this._canUseIndexedDBPromise)return{heartbeats:[]};{let e=await np(this.app);return(null==e?void 0:e.heartbeats)?e:{heartbeats:[]}}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nm(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){let n=await this.read();return nm(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function nb(e){return e4(JSON.stringify({version:2,heartbeats:e})).length}nn(new tD("platform-logger",e=>new t2(e),"PRIVATE")),nn(new tD("heartbeat",e=>new nv(e),"PRIVATE")),nc(t3,t4,""),nc(t3,t4,"esm2017"),nc("fire-js","");const nw="@firebase/database",nk="1.0.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nC="";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tf(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:td(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return tv(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){let t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nS(t)}}catch(e){}return new nE},nT=nI("localStorage"),nP=nI("sessionStorage"),nx=new tV("@firebase/database"),nN=(d=1,function(){return d++}),nR=function(e){let t=tN(e),n=new tI;n.update(t);let r=n.digest();return e1.encodeByteArray(r)},nO=function(...e){let t="";for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=nO.apply(null,r):"object"==typeof r?t+=tf(r):t+=r,t+=" "}return t};let nD=null,nL=!0;const nA=function(e,t){eJ(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(nx.logLevel=D.VERBOSE,nD=nx.log.bind(nx),t&&nP.set("logging_enabled",!0)):"function"==typeof e?nD=e:(nD=null,nP.remove("logging_enabled"))},nM=function(...e){if(!0===nL&&(nL=!1,null===nD&&!0===nP.get("logging_enabled")&&nA(!0)),nD){let t=nO.apply(null,e);nD(t)}},nF=function(e){return function(...t){nM(e,...t)}},nU=function(...e){let t="FIREBASE INTERNAL ERROR: "+nO(...e);nx.error(t)},nz=function(...e){let t=`FIREBASE FATAL ERROR: ${nO(...e)}`;throw nx.error(t),Error(t)},nj=function(...e){let t="FIREBASE WARNING: "+nO(...e);nx.warn(t)},nW=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&nj("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nV=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},nq=function(e){if(tl()||"complete"===document.readyState)e();else{let t=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},nH="[MIN_NAME]",nB="[MAX_NAME]",n$=function(e,t){if(e===t)return 0;{if(e===nH||t===nB)return -1;if(t===nH||e===nB)return 1;let n=n0(e),r=n0(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},nK=function(e,t){return e===t?0:e<t?-1:1},nQ=function(e,t){if(t&&e in t)return t[e];throw Error("Missing required key ("+e+") in object: "+tf(t))},nG=function(e){if("object"!=typeof e||null===e)return tf(e);let t=[];for(let n in e)t.push(n);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=tf(t[r])+":"+nG(e[t[r]]);return n+"}"},nY=function(e,t){let n=e.length;if(n<=t)return[e];let r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function nJ(e,t){for(let n in e)e.hasOwnProperty(n)&&t(n,e[n])}const nX=function(e){let t,n,r,i,s;eJ(!nV(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=22250738585072014e-324?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-4503599627370496)):(n=0,r=Math.round(e/5e-324)));let a=[];for(s=52;s;s-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(s=11;s;s-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(t?1:0),a.reverse();let o=a.join(""),l="";for(s=0;s<64;s+=8){let e=parseInt(o.substr(s,8),2).toString(16);1===e.length&&(e="0"+e),l+=e}return l.toLowerCase()},nZ=RegExp("^-?(0*)\\d{1,10}$"),n0=function(e){if(nZ.test(e)){let t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},n1=function(e){try{e()}catch(e){setTimeout(()=>{throw nj("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},n2=function(e,t){let n=setTimeout(e,t);return"number"==typeof n&&"undefined"!=typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){nj(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(nM("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',nj(e)}}class n6{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}n6.OWNER="owner";const n5=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,n8="websocket",n9="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e,t,n,r,i=!1,s="",a=!1,o=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=o,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=nT.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&nT.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function re(e,t,n){let r;if(eJ("string"==typeof t,"typeof type must == string"),eJ("object"==typeof n,"typeof params must == object"),t===n8)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===n9)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw Error("Unknown connection type: "+t);(e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams)&&(n.ns=e.namespace);let i=[];return nJ(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(){this.counters_={}}incrementCounter(e,t=1){tv(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(let r in n)n.hasOwnProperty(r)&&"__proto__"!==r&&(t[r]=e(t[r],n[r]));return t}(void 0,this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rn={},rr={};function ri(e){let t=e.toString();return rn[t]||(rn[t]=new rt),rn[t]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&n1(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="start";class ro{constructor(e,t,n,r,i,s,a){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nF(e),this.stats_=ri(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),re(t,n9,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new rs(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),nq(()=>{if(this.isClosed_)return;this.scriptTagHolder=new rl((...e)=>{let[t,n,r,i,s]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder){if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,t===ra)this.id=n,this.password=r;else if("close"===t)n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_();else throw Error("Unrecognized command received: "+t)}},(...e)=>{let[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);let e={};e[ra]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&n5.test(location.hostname)&&(e.r="f");let t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ro.forceAllow_=!0}static forceDisallow(){ro.forceDisallow_=!0}static isAvailable(){return!tl()&&(!!ro.forceAllow_||!ro.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!("object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){!this.isClosed_&&(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=tf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=nY(e3(t),1840);for(let e=0;e<n.length;e++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,n.length,n[e]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(tl())return;this.myDisconnFrame=document.createElement("iframe");let n={};n.dframe="t",n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=tf(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class rl{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,tl())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=nN(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=rl.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(n='<script>document.domain="'+document.domain+'";</script>');let r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(e){nM("frame writing exception"),e.stack&&nM(e.stack),nM(e)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||nM("No IE domain setting required")}catch(n){let t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(!this.alive||!this.sendNewPolls||!(this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)))return!1;{this.currentSerial++;let e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;)if(this.pendingSegs[0].d.length+30+n.length<=1870){let e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}else break;return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){tl()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){let e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{nM("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(e){}},Math.floor(1))}}let ru=null;"undefined"!=typeof MozWebSocket?ru=MozWebSocket:"undefined"!=typeof WebSocket&&(ru=WebSocket);class rc{constructor(e,t,n,r,i,s,a){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nF(this.connId),this.stats_=ri(t),this.connURL=rc.connectionURL_(t,s,a,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){let s={};return s.v="5",!tl()&&"undefined"!=typeof location&&location.hostname&&n5.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s.ac=r),i&&(s.p=i),re(e,n8,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,nT.set("previous_websocket_failure",!0);try{let e;if(tl()){let t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/5/${nC}/${eU.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);let n={},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new ru(this.connURL,[],e)}catch(t){this.log_("Error instantiating WebSocket.");let e=t.message||t.data;e&&this.log_(e),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");let t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){rc.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){let t=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);t&&t.length>1&&4.4>parseFloat(t[1])&&(e=!0)}return!e&&null!==ru&&!rc.forceDisallow_}static previouslyFailed(){return nT.isInMemoryStorage||!0===nT.get("previous_websocket_failure")}markConnectionHealthy(){nT.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let e=this.frames.join("");this.frames=null;let t=td(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(eJ(null===this.frames,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{let e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();let t=tf(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let n=nY(t,16384);n.length>1&&this.sendString_(String(n.length));for(let e=0;e<n.length;e++)this.sendString_(n[e])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){!this.isClosed_&&(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}rc.responsesRequiredToBeHealthy=2,rc.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[ro,rc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){let t=rc&&rc.isAvailable(),n=t&&!rc.previouslyFailed();if(e.webSocketOnly&&(t||nj("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[rc];else{let e=this.transports_=[];for(let t of rh.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);rh.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}rh.globalTransportInitialized_=!1;class rd{constructor(e,t,n,r,i,s,a,o,l,u){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=o,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nF("c:"+this.id+":"),this.transportManager_=new rh(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=n2(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){let t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=nQ("t",e),n=nQ("d",e);if("c"===t)this.onSecondaryControl_(n);else if("d"===t)this.pendingDataMessages.push(n);else throw Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=nQ("t",e),n=nQ("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){!this.isHealthy_&&(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=nQ("t",e);if("d"in e){let n=e.d;if("h"===t){let e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?nU("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):nU("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&nj("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),n2(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):n2(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(nT.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e){this.allowedEvents_=e,this.listeners_={},eJ(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});let r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let e=0;e<r.length;e++)if(r[e].callback===t&&(!n||n===r[e].context)){r.splice(e,1);return}}validateEventType_(e){eJ(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm extends rp{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||ta()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new rm}getInitialEvent(e){return eJ("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class rg{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function rv(){return new rg("")}function r_(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ry(e){return e.pieces_.length-e.pieceNum_}function rb(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new rg(e.pieces_,t)}function rw(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function rk(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function rC(e){if(e.pieceNum_>=e.pieces_.length)return null;let t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new rg(t,0)}function rS(e,t){let n=[];for(let t=e.pieceNum_;t<e.pieces_.length;t++)n.push(e.pieces_[t]);if(t instanceof rg)for(let e=t.pieceNum_;e<t.pieces_.length;e++)n.push(t.pieces_[e]);else{let e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new rg(n,0)}function rE(e){return e.pieceNum_>=e.pieces_.length}function rI(e,t){let n=r_(e),r=r_(t);if(null===n)return t;if(n===r)return rI(rb(e),rb(t));throw Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function rT(e,t){let n=rk(e,0),r=rk(t,0);for(let e=0;e<n.length&&e<r.length;e++){let t=n$(n[e],r[e]);if(0!==t)return t}return n.length===r.length?0:n.length<r.length?-1:1}function rP(e,t){if(ry(e)!==ry(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function rx(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(ry(e)>ry(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class rN{constructor(e,t){this.errorPrefix_=t,this.parts_=rk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let e=0;e<this.parts_.length;e++)this.byteLength_+=tR(this.parts_[e]);rR(this)}}function rR(e){if(e.byteLength_>768)throw Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+rO(e))}function rO(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD extends rp{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new rD}getInitialEvent(e){return eJ("visible"===e,"Unknown event type: "+e),[this.visible_]}}class rL extends rf{constructor(e,t,n,r,i,s,a,o){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=o,this.id=rL.nextPersistentConnectionId_++,this.log_=nF("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=1e3,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,o&&!tl())throw Error("Auth override specified in options, but not supported on non Node.js platforms");rD.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&rm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){let r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(tf(i)),eJ(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();let t=new ti,n={p:e._path.toString(),q:e._queryObject};this.outstandingGets_.push({action:"g",request:n,onComplete:e=>{let n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}}),this.outstandingGetCount_++;let r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();let i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),eJ(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),eJ(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");let a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(e){let t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);let i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,i=>{let s=i.d,a=i.s;rL.warnOnListenWarnings_(s,t),(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==a&&this.removeListen_(n,r),e.onComplete&&e.onComplete(a,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&tv(e,"w")){let n=t_(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){let e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();nj(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||tg(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=tm(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{let n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){let n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),eJ(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);let i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){let i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();let s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;let a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{if("ok"!==e.s){let t=e.d;this.log_("reportStats","Error sending stats: "+t)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tf(e));let t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else if("error"in e)throw"A server-side error has occurred: "+e.error;else"a"in e&&this.onDataPush_(e.a,e.b)}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):nU("Unrecognized action received from server: "+tf(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){eJ(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){!e||this.visible_||this.reconnectDelay_!==this.maxReconnectDelay_||(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+rL.nextConnectionId_++,i=this.lastSessionId,s=!1,a=null,o=function(){a?a.close():(s=!0,n())};this.realtime_={close:o,sendRequest:function(e){eJ(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(e)}};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[o,u]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);s?nM("getToken() completed but was canceled"):(nM("getToken() completed. Creating connection."),this.authToken_=o&&o.accessToken,this.appCheckToken_=u&&u.token,a=new rd(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,e=>{nj(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")},i))}catch(e){this.log_("Failed to get token: "+e),s||(this.repoInfo_.nodeAdmin&&nj(e),o())}}}interrupt(e){nM("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){nM("Resuming connection for reason: "+e),delete this.interruptReasons_[e],ty(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>nG(e)).join("$"):"default";let r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){let n;let r=new rg(e).toString();if(this.listens.has(r)){let e=this.listens.get(r);n=e.get(t),e.delete(t),0===e.size&&this.listens.delete(r)}else n=void 0;return n}onAuthRevoked_(e,t){nM("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){nM("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){for(let e of(this.tryAuth(),this.tryAppCheck(),this.listens.values()))for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";tl()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+nC.replace(/\./g,"-")]=1,ta()?e["framework.cordova"]=1:to()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=rm.getInstance().currentlyOnline();return ty(this.interruptReasons_)&&e}}rL.nextPersistentConnectionId_=0,rL.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new rA(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let n=new rA(nH,e),r=new rA(nH,t);return 0!==this.compare(n,r)}minPost(){return rA.MIN}}class rF extends rM{static get __EMPTY_NODE(){return n}static set __EMPTY_NODE(e){n=e}compare(e,t){return n$(e.name,t.name)}isDefinedOn(e){throw eX("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return rA.MIN}maxPost(){return new rA(nB,n)}makePost(e,t){return eJ("string"==typeof e,"KeyIndex indexValue must always be a string."),new rA(e,n)}toString(){return".key"}}const rU=new rF;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else if(0===s){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}getNext(){let e;if(0===this.nodeStack_.length)return null;let t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class rj{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rj.RED,this.left=null!=r?r:rW.EMPTY_NODE,this.right=null!=i?i:rW.EMPTY_NODE}copy(e,t,n,r,i){return new rj(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}removeMin_(){if(this.left.isEmpty())return rW.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}remove(e,t){let n,r;if(n=this,0>t(e,n.key))n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return rW.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,rj.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,rj.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){return Math.pow(2,this.check_())<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e===this.right.check_())return e+(this.isRed_()?0:1);throw Error("Black depths differ")}}rj.RED=!0,rj.BLACK=!1;class rW{constructor(e,t=rW.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new rW(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,rj.BLACK,null,null))}remove(e){return new rW(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,rj.BLACK,null,null))}get(e){let t;let n=this.root_;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty()){if(r)return r.key;return null}for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new rz(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new rz(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new rz(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new rz(this.root_,null,this.comparator_,!0,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(e,t){return n$(e.name,t.name)}function rq(e,t){return n$(e,t)}rW.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new rj(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const rH=function(e){return"number"==typeof e?"number:"+nX(e):"string:"+e},rB=function(e){if(e.isLeafNode()){let t=e.val();eJ("string"==typeof t||"number"==typeof t||"object"==typeof t&&tv(t,".sv"),"Priority must be a string or number.")}else eJ(e===r||e.isEmpty(),"priority of unexpected type.");eJ(e===r||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};class r${constructor(e,t=r$.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,eJ(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),rB(this.priorityNode_)}static set __childrenNodeConstructor(e){i=e}static get __childrenNodeConstructor(){return i}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new r$(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:r$.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return rE(e)?this:".priority"===r_(e)?this.priorityNode_:r$.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:r$.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let n=r_(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(eJ(".priority"!==n||1===ry(e),".priority must be the last token in a path"),this.updateImmediateChild(n,r$.__childrenNodeConstructor.EMPTY_NODE.updateChild(rb(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+rH(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":","number"===t?e+=nX(this.value_):e+=this.value_,this.lazyHash_=nR(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===r$.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof r$.__childrenNodeConstructor?-1:(eJ(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,n=typeof this.value_,r=r$.VALUE_TYPE_ORDER.indexOf(t),i=r$.VALUE_TYPE_ORDER.indexOf(n);return(eJ(r>=0,"Unknown leaf type: "+t),eJ(i>=0,"Unknown leaf type: "+n),r!==i)?i-r:"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}}r$.VALUE_TYPE_ORDER=["object","boolean","number","string"];const rK=new class extends rM{compare(e,t){let n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?n$(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return rA.MIN}maxPost(){return new rA(nB,new r$("[PRIORITY-POST]",a))}makePost(e,t){return new rA(t,new r$("[PRIORITY-POST]",s(e)))}toString(){return".priority"}},rQ=Math.log(2);class rG{constructor(e){this.count=parseInt(Math.log(e+1)/rQ,10),this.current_=this.count-1;let t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}}const rY=function(e,t,n,r){e.sort(t);let i=function(t,r){let s;let a=r-t;if(0===a)return null;if(1===a)return s=e[t],new rj(n?n(s):s,s.node,rj.BLACK,null,null);{let o=parseInt(a/2,10)+t,l=i(t,o),u=i(o+1,r);return s=e[o],new rj(n?n(s):s,s.node,rj.BLACK,l,u)}};return new rW(r||t,function(t){let r=null,s=null,a=e.length,o=function(t,r){let s=a-t,o=a;a-=t;let u=i(s+1,o),c=e[s];l(new rj(n?n(c):c,c.node,r,null,u))},l=function(e){r?r.left=e:s=e,r=e};for(let e=0;e<t.count;++e){let n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?o(r,rj.BLACK):(o(r,rj.BLACK),o(r,rj.RED))}return s}(new rG(e.length)))},rJ={};class rX{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return eJ(rJ&&rK,"ChildrenNode.ts has not been loaded"),o=o||new rX({".priority":rJ},{".priority":rK})}get(e){let t=t_(this.indexes_,e);if(!t)throw Error("No index defined for "+e);return t instanceof rW?t:null}hasIndex(e){return tv(this.indexSet_,e.toString())}addIndex(e,t){let n;eJ(e!==rU,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=t.getIterator(rA.Wrap),a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),r.push(a),a=s.getNext();n=i?rY(r,e.getCompare()):rJ;let o=e.toString(),l=Object.assign({},this.indexSet_);l[o]=e;let u=Object.assign({},this.indexes_);return u[o]=n,new rX(u,l)}addToIndexes(e,t){return new rX(tb(this.indexes_,(n,r)=>{let i=t_(this.indexSet_,r);if(eJ(i,"Missing index implementation for "+r),n===rJ){if(!i.isDefinedOn(e.node))return rJ;{let n=[],r=t.getIterator(rA.Wrap),s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),rY(n,i.getCompare())}}{let r=t.get(e.name),i=n;return r&&(i=i.remove(new rA(e.name,r))),i.insert(e,e.node)}}),this.indexSet_)}removeFromIndexes(e,t){return new rX(tb(this.indexes_,n=>{if(n===rJ)return n;{let r=t.get(e.name);return r?n.remove(new rA(e.name,r)):n}}),this.indexSet_)}}class rZ{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&rB(this.priorityNode_),this.children_.isEmpty()&&eJ(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return l||(l=new rZ(new rW(rq),null,rX.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||l}updatePriority(e){return this.children_.isEmpty()?this:new rZ(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{let t=this.children_.get(e);return null===t?l:t}}getChild(e){let t=r_(e);return null===t?this:this.getImmediateChild(t).getChild(rb(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(eJ(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{let n,r;let i=new rA(e,t);t.isEmpty()?(n=this.children_.remove(e),r=this.indexMap_.removeFromIndexes(i,this.children_)):(n=this.children_.insert(e,t),r=this.indexMap_.addToIndexes(i,this.children_));let s=n.isEmpty()?l:this.priorityNode_;return new rZ(n,s,r)}}updateChild(e,t){let n=r_(e);if(null===n)return t;{eJ(".priority"!==r_(e)||1===ry(e),".priority must be the last token in a path");let r=this.getImmediateChild(n).updateChild(rb(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},n=0,r=0,i=!0;if(this.forEachChild(rK,(s,a)=>{t[s]=a.val(e),n++,i&&rZ.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1}),e||!i||!(r<2*n))return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t;{let e=[];for(let n in t)e[n]=t[n];return e}}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+rH(this.getPriority().val())+":"),this.forEachChild(rK,(t,n)=>{let r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":nR(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){let r=this.resolveIndex_(n);if(!r)return this.children_.getPredecessorKey(e);{let n=r.getPredecessorKey(new rA(e,t));return n?n.name:null}}getFirstChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.minKey();{let e=t.minKey();return e&&e.name}}getFirstChild(e){let t=this.getFirstChildName(e);return t?new rA(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(!t)return this.children_.maxKey();{let e=t.maxKey();return e&&e.name}}getLastChild(e){let t=this.getLastChildName(e);return t?new rA(t,this.children_.get(t)):null}forEachChild(e,t){let n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{let n=this.children_.getIteratorFrom(e.name,rA.Wrap),r=n.peek();for(;null!=r&&0>t.compare(r,e);)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{let n=this.children_.getReverseIteratorFrom(e.name,rA.Wrap),r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===r0?-1:0}withIndex(e){if(e===rU||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new rZ(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===rU||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode()||!this.getPriority().equals(e.getPriority())||this.children_.count()!==e.children_.count())return!1;{let t=this.getIterator(rK),n=e.getIterator(rK),r=t.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=t.getNext(),i=n.getNext()}return null===r&&null===i}}resolveIndex_(e){return e===rU?null:this.indexMap_.get(e.toString())}}rZ.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const r0=new class extends rZ{constructor(){super(new rW(rq),rZ.EMPTY_NODE,rX.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return rZ.EMPTY_NODE}isEmpty(){return!1}};function r1(e,t=null){if(null===e)return rZ.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),eJ(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new r$(e,r1(t));if(e instanceof Array){let n=rZ.EMPTY_NODE;return nJ(e,(t,r)=>{if(tv(e,t)&&"."!==t.substring(0,1)){let e=r1(r);(e.isLeafNode()||!e.isEmpty())&&(n=n.updateImmediateChild(t,e))}}),n.updatePriority(r1(t))}{let n=[],r=!1;if(nJ(e,(e,t)=>{if("."!==e.substring(0,1)){let i=r1(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new rA(e,i)))}}),0===n.length)return rZ.EMPTY_NODE;let i=rY(n,rV,e=>e.name,rq);if(!r)return new rZ(i,r1(t),rX.Default);{let e=rY(n,rK.getCompare());return new rZ(i,r1(t),new rX({".priority":e},{".priority":rK}))}}}Object.defineProperties(rA,{MIN:{value:new rA(nH,rZ.EMPTY_NODE)},MAX:{value:new rA(nB,r0)}}),rF.__EMPTY_NODE=rZ.EMPTY_NODE,r$.__childrenNodeConstructor=rZ,r=r0,a=r0,s=r1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2 extends rM{constructor(e){super(),this.indexPath_=e,eJ(!rE(e)&&".priority"!==r_(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?n$(e.name,t.name):i}makePost(e,t){let n=r1(e);return new rA(t,rZ.EMPTY_NODE.updateChild(this.indexPath_,n))}maxPost(){return new rA(nB,rZ.EMPTY_NODE.updateChild(this.indexPath_,r0))}toString(){return rk(this.indexPath_,0).join("/")}}const r3=new /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class extends rM{compare(e,t){let n=e.node.compareTo(t.node);return 0===n?n$(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return rA.MIN}maxPost(){return rA.MAX}makePost(e,t){return new rA(t,r1(e))}toString(){return".value"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r4(e){return{type:"value",snapshotNode:e}}function r6(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function r5(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function r8(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r9{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){eJ(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(r5(t,a)):eJ(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(r6(t,n)):s.trackChildChange(r8(t,n,a))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(t,n).withIndex(this.index_)}updateFullNode(e,t,n){return null==n||(e.isLeafNode()||e.forEachChild(rK,(e,r)=>{t.hasChild(e)||n.trackChildChange(r5(e,r))}),t.isLeafNode()||t.forEachChild(rK,(t,r)=>{if(e.hasChild(t)){let i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(r8(t,r,i))}else n.trackChildChange(r6(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?rZ.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r7{constructor(e){this.indexedFilter_=new r9(e.getIndex()),this.index_=e.getIndex(),this.startPost_=r7.getStartPost_(e),this.endPost_=r7.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?0>=this.index_.compare(this.getStartPost(),e):0>this.index_.compare(this.getStartPost(),e),n=this.endIsInclusive_?0>=this.index_.compare(e,this.getEndPost()):0>this.index_.compare(e,this.getEndPost());return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new rA(t,n))||(n=rZ.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=rZ.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(rZ.EMPTY_NODE);let i=this;return t.forEachChild(rK,(e,t)=>{i.matches(new rA(e,t))||(r=r.updateImmediateChild(e,rZ.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(!e.hasStart())return e.getIndex().minPost();{let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}}static getEndPost_(e){if(!e.hasEnd())return e.getIndex().maxPost();{let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{let t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{let t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new r7(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return(this.rangedFilter_.matches(new rA(t,n))||(n=rZ.EMPTY_NODE),e.getImmediateChild(t).equals(n))?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=rZ.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=rZ.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){let t=e.getNext();if(this.withinDirectionalStart(t)){if(this.withinDirectionalEnd(t))r=r.updateImmediateChild(t.name,t.node),n++;else break}}}else{let e;r=(r=t.withIndex(this.index_)).updatePriority(rZ.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){let t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,rZ.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){let e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();eJ(e.numChildren()===this.limit_,"");let a=new rA(t,n),o=this.reverse_?e.getFirstChild(this.index_):e.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(e.hasChild(t)){let u=e.getImmediateChild(t),c=r.getChildAfterChild(this.index_,o,this.reverse_);for(;null!=c&&(c.name===t||e.hasChild(c.name));)c=r.getChildAfterChild(this.index_,c,this.reverse_);let h=null==c?1:s(c,a);if(l&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(r8(t,n,u)),e.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(r5(t,u));let n=e.updateImmediateChild(t,rZ.EMPTY_NODE);return null!=c&&this.rangedFilter_.matches(c)?(null!=i&&i.trackChildChange(r6(c.name,c.node)),n.updateImmediateChild(c.name,c.node)):n}}return n.isEmpty()?e:l&&s(o,a)>=0?(null!=i&&(i.trackChildChange(r5(o.name,o.node)),i.trackChildChange(r6(t,n))),e.updateImmediateChild(t,n).updateImmediateChild(o.name,rZ.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=rK}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return eJ(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(eJ(this.startSet_,"Only valid if start has been set"),this.startNameSet_)?this.indexStartName_:nH}hasEnd(){return this.endSet_}getIndexEndValue(){return eJ(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(eJ(this.endSet_,"Only valid if end has been set"),this.endNameSet_)?this.indexEndName_:nB}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return eJ(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===rK}copy(){let e=new it;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function ir(e){let t;let n={};if(e.isDefault())return n;if(e.index_===rK?t="$priority":e.index_===r3?t="$value":e.index_===rU?t="$key":(eJ(e.index_ instanceof r2,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=tf(t),e.startSet_){let t=e.startAfterSet_?"startAfter":"startAt";n[t]=tf(e.indexStartValue_),e.startNameSet_&&(n[t]+=","+tf(e.indexStartName_))}if(e.endSet_){let t=e.endBeforeSet_?"endBefore":"endAt";n[t]=tf(e.indexEndValue_),e.endNameSet_&&(n[t]+=","+tf(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n}function ii(e){let t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==rK&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends rf{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=nF("p:rest:"),this.listens_={}}reportStats(e){throw Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(eJ(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){let i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);let s=is.getListenId_(e,n),a={};this.listens_[s]=a;let o=ir(e._queryParams);this.restRequest_(i+".json",o,(e,t)=>{let o=t;404===e&&(o=null,e=null),null===e&&this.onDataUpdate_(i,o,!1,n),t_(this.listens_,s)===a&&r(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}unlisten(e,t){let n=is.getListenId_(e,t);delete this.listens_[n]}get(e){let t=ir(e._queryParams),n=e._path.toString(),r=new ti;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+tC(t);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=td(a.responseText)}catch(e){nj("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&nj("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.rootNode_=rZ.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(){return{value:null,children:new Map}}function il(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{il(r,new rg(t.toString()+"/"+e),n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&nJ(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class ic{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new iu(e);let n=1e4+2e4*Math.random();n2(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){let e=this.statsListener_.get(),t={},n=!1;nJ(e,(e,r)=>{r>0&&tv(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),n2(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}function ih(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function id(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ip(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}(C=L||(L={}))[C.OVERWRITE=0]="OVERWRITE",C[C.MERGE=1]="MERGE",C[C.ACK_USER_WRITE=2]="ACK_USER_WRITE",C[C.LISTEN_COMPLETE=3]="LISTEN_COMPLETE";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=L.ACK_USER_WRITE,this.source=ih()}operationForChild(e){if(!rE(this.path))return eJ(r_(this.path)===e,"operationForChild called for unrelated child."),new im(rb(this.path),this.affectedTree,this.revert);if(null!=this.affectedTree.value)return eJ(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new rg(e));return new im(rv(),t,this.revert)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,t){this.source=e,this.path=t,this.type=L.LISTEN_COMPLETE}operationForChild(e){return rE(this.path)?new ig(this.source,rv()):new ig(this.source,rb(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=L.OVERWRITE}operationForChild(e){return rE(this.path)?new iv(this.source,rv(),this.snap.getImmediateChild(e)):new iv(this.source,rb(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=L.MERGE}operationForChild(e){if(!rE(this.path))return eJ(r_(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new i_(this.source,rb(this.path),this.children);{let t=this.children.subtree(new rg(e));return t.isEmpty()?null:t.value?new iv(this.source,rv(),t.value):new i_(this.source,rv(),t)}}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(rE(e))return this.isFullyInitialized()&&!this.filtered_;let t=r_(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function iw(e,t,n,r,i,s){let a=r.filter(e=>e.type===n);a.sort((t,n)=>(function(e,t,n){if(null==t.childName||null==n.childName)throw eX("Should only compare child_ events.");let r=new rA(t.childName,t.snapshotNode),i=new rA(n.childName,n.snapshotNode);return e.index_.compare(r,i)})(e,t,n)),a.forEach(n=>{let r=("value"===n.type||"child_removed"===n.type||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,e.index_)),n);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(e,t){return{eventCache:e,serverCache:t}}function iC(e,t,n,r){return ik(new iy(t,n,r),e.serverCache)}function iS(e,t,n,r){return ik(e.eventCache,new iy(t,n,r))}function iE(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function iI(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}const iT=()=>(u||(u=new rW(nK)),u);class iP{constructor(e,t=iT()){this.value=e,this.children=t}static fromObject(e){let t=new iP(null);return nJ(e,(e,n)=>{t=t.set(new rg(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:rv(),value:this.value};if(rE(e))return null;{let n=r_(e),r=this.children.get(n);if(null===r)return null;{let i=r.findRootMostMatchingPathAndValue(rb(e),t);return null!=i?{path:rS(new rg(n),i.path),value:i.value}:null}}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(rE(e))return this;{let t=r_(e),n=this.children.get(t);return null!==n?n.subtree(rb(e)):new iP(null)}}set(e,t){if(rE(e))return new iP(t,this.children);{let n=r_(e),r=(this.children.get(n)||new iP(null)).set(rb(e),t),i=this.children.insert(n,r);return new iP(this.value,i)}}remove(e){if(rE(e))return this.children.isEmpty()?new iP(null):new iP(null,this.children);{let t=r_(e),n=this.children.get(t);if(!n)return this;{let r;let i=n.remove(rb(e));return(r=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&r.isEmpty())?new iP(null):new iP(this.value,r)}}}get(e){if(rE(e))return this.value;{let t=r_(e),n=this.children.get(t);return n?n.get(rb(e)):null}}setTree(e,t){if(rE(e))return t;{let n;let r=r_(e),i=(this.children.get(r)||new iP(null)).setTree(rb(e),t);return n=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new iP(this.value,n)}}fold(e){return this.fold_(rv(),e)}fold_(e,t){let n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(rS(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,rv(),t)}findOnPath_(e,t,n){let r=!!this.value&&n(t,this.value);if(r)return r;if(rE(e))return null;{let r=r_(e),i=this.children.get(r);return i?i.findOnPath_(rb(e),rS(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,rv(),t)}foreachOnPath_(e,t,n){if(rE(e))return this;{this.value&&n(t,this.value);let r=r_(e),i=this.children.get(r);return i?i.foreachOnPath_(rb(e),rS(t,r),n):new iP(null)}}foreach(e){this.foreach_(rv(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(rS(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e){this.writeTree_=e}static empty(){return new ix(new iP(null))}}function iN(e,t,n){if(rE(t))return new ix(new iP(n));{let r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){let i=r.path,s=r.value,a=rI(i,t);return s=s.updateChild(a,n),new ix(e.writeTree_.set(i,s))}{let r=new iP(n);return new ix(e.writeTree_.setTree(t,r))}}}function iR(e,t,n){let r=e;return nJ(n,(e,n)=>{r=iN(r,rS(t,e),n)}),r}function iO(e,t){return rE(t)?ix.empty():new ix(e.writeTree_.setTree(t,new iP(null)))}function iD(e,t){return null!=iL(e,t)}function iL(e,t){let n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(rI(n.path,t)):null}function iA(e){let t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(rK,(e,n)=>{t.push(new rA(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new rA(e,n.value))}),t}function iM(e,t){if(rE(t))return e;{let n=iL(e,t);return new ix(null!=n?new iP(n):e.writeTree_.subtree(t))}}function iF(e){return e.writeTree_.isEmpty()}function iU(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);{let i=null;return n.children.inorderTraversal((n,s)=>{".priority"===n?(eJ(null!==s.value,"Priority writes must always be leaf nodes"),i=s.value):r=e(rS(t,n),s,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(rS(t,".priority"),i)),r}}(rv(),e.writeTree_,t)}function iz(e){return e.visible}function ij(e,t,n){let r=ix.empty();for(let i=0;i<e.length;++i){let s=e[i];if(t(s)){let e;let t=s.path;if(s.snap)rx(n,t)?r=iN(r,e=rI(n,t),s.snap):rx(t,n)&&(e=rI(t,n),r=iN(r,rv(),s.snap.getChild(e)));else if(s.children){if(rx(n,t))r=iR(r,e=rI(n,t),s.children);else if(rx(t,n)){if(rE(e=rI(t,n)))r=iR(r,rv(),s.children);else{let t=t_(s.children,r_(e));if(t){let n=t.getChild(rb(e));r=iN(r,rv(),n)}}}}else throw eX("WriteRecord should have .snap or .children")}}return r}function iW(e,t,n,r,i){if(r||i){let s=iM(e.visibleWrites,t);return!i&&iF(s)?n:i||null!=n||iD(s,rv())?iU(ij(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(rx(e.path,t)||rx(t,e.path))},t),n||rZ.EMPTY_NODE):null}{let r=iL(e.visibleWrites,t);if(null!=r)return r;{let r=iM(e.visibleWrites,t);return iF(r)?n:null!=n||iD(r,rv())?iU(r,n||rZ.EMPTY_NODE):null}}}function iV(e,t,n,r){return iW(e.writeTree,e.treePath,t,n,r)}function iq(e,t){return function(e,t,n){let r=rZ.EMPTY_NODE,i=iL(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(rK,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(!n)return iA(iM(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r;{let i=iM(e.visibleWrites,t);return n.forEachChild(rK,(e,t)=>{let n=iU(iM(i,new rg(e)),t);r=r.updateImmediateChild(e,n)}),iA(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}}(e.writeTree,e.treePath,t)}function iH(e,t,n,r){return function(e,t,n,r,i){eJ(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=rS(t,n);if(iD(e.visibleWrites,s))return null;{let t=iM(e.visibleWrites,s);return iF(t)?i.getChild(n):iU(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function iB(e,t){var n,r;return n=e.writeTree,r=rS(e.treePath,t),iL(n.visibleWrites,r)}function i$(e,t,n){return function(e,t,n,r){let i=rS(t,n),s=iL(e.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?iU(iM(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function iK(e,t){return iQ(rS(e.treePath,t),e.writeTree)}function iQ(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iG{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,n=e.childName;eJ("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),eJ(".priority"!==n,"Only non-priority child changes can be tracked.");let r=this.changeMap.get(n);if(r){let i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,r8(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,r5(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,r6(n,e.snapshotNode));else if("child_changed"===t&&"child_changed"===i)this.changeMap.set(n,r8(n,e.snapshotNode,r.oldSnap));else throw eX("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const iY=new /**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class iJ{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let t=null!=this.optCompleteServerCache_?new iy(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return i$(this.writes_,e,t)}}getChildAfterChild(e,t,n){var r;let i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:iI(this.viewCache_),s=function(e,t,n,r,i,s,a){let o;let l=iM(e.visibleWrites,t),u=iL(l,rv());if(null!=u)o=u;else{if(null==n)return[];o=iU(l,n)}if((o=o.withIndex(a)).isEmpty()||o.isLeafNode())return[];{let e=[],t=a.getCompare(),n=s?o.getReverseIteratorFrom(r,a):o.getIteratorFrom(r,a),i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}((r=this.writes_).writeTree,r.treePath,i,t,0,n,e);return 0===s.length?null:s[0]}}function iX(e,t,n,r,i,s){let a=t.eventCache;if(null!=iB(r,n))return t;{let o,l;if(rE(n)){if(eJ(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){let n=iI(t),i=iq(r,n instanceof rZ?n:rZ.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{let n=iV(r,iI(t));o=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}}else{let u=r_(n);if(".priority"===u){eJ(1===ry(n),"Can't have a priority with additional path components");let i=a.getNode(),s=iH(r,n,i,l=t.serverCache.getNode());o=null!=s?e.filter.updatePriority(i,s):a.getNode()}else{let c;let h=rb(n);if(a.isCompleteForChild(u)){l=t.serverCache.getNode();let e=iH(r,n,a.getNode(),l);c=null!=e?a.getNode().getImmediateChild(u).updateChild(h,e):a.getNode().getImmediateChild(u)}else c=i$(r,u,t.serverCache);o=null!=c?e.filter.updateChild(a.getNode(),u,c,h,i,s):a.getNode()}}return iC(t,o,a.isFullyInitialized()||rE(n),e.filter.filtersNodes())}}function iZ(e,t,n,r,i,s,a,o){let l;let u=t.serverCache,c=a?e.filter:e.filter.getIndexedFilter();if(rE(n))l=c.updateFullNode(u.getNode(),r,null);else if(c.filtersNodes()&&!u.isFiltered()){let e=u.getNode().updateChild(n,r);l=c.updateFullNode(u.getNode(),e,null)}else{let e=r_(n);if(!u.isCompleteForPath(n)&&ry(n)>1)return t;let i=rb(n),s=u.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?c.updatePriority(u.getNode(),s):c.updateChild(u.getNode(),e,s,i,iY,null)}let h=iS(t,l,u.isFullyInitialized()||rE(n),c.filtersNodes()),d=new iJ(i,h,s);return iX(e,h,n,i,d,o)}function i0(e,t,n,r,i,s,a){let o,l;let u=t.eventCache,c=new iJ(i,t,s);if(rE(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,a),o=iC(t,l,!0,e.filter.filtersNodes());else{let i=r_(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),o=iC(t,l,u.isFullyInitialized(),u.isFiltered());else{let s;let l=rb(n),h=u.getNode().getImmediateChild(i);if(rE(l))s=r;else{let e=c.getCompleteChild(i);s=null!=e?".priority"===rw(l)&&e.getChild(rC(l)).isEmpty()?e:e.updateChild(l,r):rZ.EMPTY_NODE}o=h.equals(s)?t:iC(t,e.filter.updateChild(u.getNode(),i,s,l,c,a),u.isFullyInitialized(),e.filter.filtersNodes())}}return o}function i1(e,t){return e.eventCache.isCompleteForChild(t)}function i2(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function i3(e,t,n,r,i,s,a,o){let l;if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let u=t;l=rE(n)?r:new iP(null).setTree(n,r);let c=t.serverCache.getNode();return l.children.inorderTraversal((n,r)=>{if(c.hasChild(n)){let l=i2(e,t.serverCache.getNode().getImmediateChild(n),r);u=iZ(e,u,new rg(n),l,i,s,a,o)}}),l.children.inorderTraversal((n,r)=>{let l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!c.hasChild(n)&&!l){let l=i2(e,t.serverCache.getNode().getImmediateChild(n),r);u=iZ(e,u,new rg(n),l,i,s,a,o)}}),u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let n=this.query_._queryParams,r=new r9(n.getIndex()),i=n.loadsAllData()?new r9(n.getIndex()):n.hasLimit()?new ie(n):new r7(n);this.processor_={filter:i};let s=t.serverCache,a=t.eventCache,o=r.updateFullNode(rZ.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(rZ.EMPTY_NODE,a.getNode(),null),u=new iy(o,s.isFullyInitialized(),r.filtersNodes()),c=new iy(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=ik(c,u),this.eventGenerator_=new ib(this.query_)}get query(){return this.query_}}function i6(e){return 0===e.eventRegistrations_.length}function i5(e,t,n){let r=[];if(n){eJ(null==t,"A cancel should cancel all event registrations.");let i=e.query._path;e.eventRegistrations_.forEach(e=>{let t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){let i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function i8(e,t,n,r){var i,s;t.type===L.MERGE&&null!==t.source.queryId&&(eJ(iI(e.viewCache_),"We should always have a full cache before handling merges"),eJ(iE(e.viewCache_),"Missing event cache, even though we have a server cache"));let a=e.viewCache_,o=function(e,t,n,r,i){let s,a;let o=new iG;if(n.type===L.OVERWRITE)n.source.fromUser?s=i0(e,t,n.path,n.snap,r,i,o):(eJ(n.source.fromServer,"Unknown source."),a=n.source.tagged||t.serverCache.isFiltered()&&!rE(n.path),s=iZ(e,t,n.path,n.snap,r,i,a,o));else if(n.type===L.MERGE){var l,u;let c;n.source.fromUser?(l=n.path,u=n.children,c=t,u.foreach((n,s)=>{let a=rS(l,n);i1(t,r_(a))&&(c=i0(e,c,a,s,r,i,o))}),u.foreach((n,s)=>{let a=rS(l,n);i1(t,r_(a))||(c=i0(e,c,a,s,r,i,o))}),s=c):(eJ(n.source.fromServer,"Unknown source."),a=n.source.tagged||t.serverCache.isFiltered(),s=i3(e,t,n.path,n.children,r,i,a,o))}else if(n.type===L.ACK_USER_WRITE)s=n.revert?function(e,t,n,r,i,s){let a;if(null!=iB(r,n))return t;{let o;let l=new iJ(r,t,i),u=t.eventCache.getNode();if(rE(n)||".priority"===r_(n)){let n;if(t.serverCache.isFullyInitialized())n=iV(r,iI(t));else{let e=t.serverCache.getNode();eJ(e instanceof rZ,"serverChildren would be complete if leaf node"),n=iq(r,e)}o=e.filter.updateFullNode(u,n,s)}else{let i=r_(n),c=i$(r,i,t.serverCache);null==c&&t.serverCache.isCompleteForChild(i)&&(c=u.getImmediateChild(i)),(o=null!=c?e.filter.updateChild(u,i,c,rb(n),l,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(u,i,rZ.EMPTY_NODE,rb(n),l,s):u).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=iV(r,iI(t))).isLeafNode()&&(o=e.filter.updateFullNode(o,a,s))}return a=t.serverCache.isFullyInitialized()||null!=iB(r,rv()),iC(t,o,a,e.filter.filtersNodes())}}(e,t,n.path,r,i,o):function(e,t,n,r,i,s,a){if(null!=iB(i,n))return t;let o=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(rE(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return iZ(e,t,n,l.getNode().getChild(n),i,s,o,a);if(!rE(n))return t;{let r=new iP(null);return l.getNode().forEachChild(rU,(e,t)=>{r=r.set(new rg(e),t)}),i3(e,t,n,r,i,s,o,a)}}{let u=new iP(null);return r.foreach((e,t)=>{let r=rS(n,e);l.isCompleteForPath(r)&&(u=u.set(e,l.getNode().getChild(r)))}),i3(e,t,n,u,i,s,o,a)}}(e,t,n.path,n.affectedTree,r,i,o);else if(n.type===L.LISTEN_COMPLETE)s=function(e,t,n,r,i){let s=t.serverCache;return iX(e,iS(t,s.getNode(),s.isFullyInitialized()||rE(n),s.isFiltered()),n,r,iY,i)}(e,t,n.path,r,o);else throw eX("Unknown operation type: "+n.type);let c=o.getChanges();return function(e,t,n){let r=t.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=iE(e);!(n.length>0)&&e.eventCache.isFullyInitialized()&&(!i||r.getNode().equals(s))&&r.getNode().getPriority().equals(s.getPriority())||n.push(r4(iE(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,a,t,n,r);return i=e.processor_,eJ((s=o.viewCache).eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),eJ(s.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),eJ(o.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,i9(e,o.changes,o.viewCache.eventCache.getNode(),null)}function i9(e,t,n,r){let i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){let i=[],s=[];return t.forEach(t=>{if("child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)){var n;s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}}),iw(e,i,"child_removed",t,r,n),iw(e,i,"child_added",t,r,n),iw(e,i,"child_moved",s,r,n),iw(e,i,"child_changed",t,r,n),iw(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}class i7{constructor(){this.views=new Map}}function se(e,t,n,r){let i=t.source.queryId;if(null!==i){let s=e.views.get(i);return eJ(null!=s,"SyncTree gave us an op for an invalid query."),i8(s,t,n,r)}{let i=[];for(let s of e.views.values())i=i.concat(i8(s,t,n,r));return i}}function st(e){let t=[];for(let n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function sn(e,t){let n=null;for(let r of e.views.values())n=n||function(e,t){let n=iI(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!rE(t)&&!n.getImmediateChild(r_(t)).isEmpty())?n.getChild(t):null}(r,t);return n}function sr(e,t){if(t._queryParams.loadsAllData())return ss(e);{let n=t._queryIdentifier;return e.views.get(n)}}function si(e){return null!=ss(e)}function ss(e){for(let t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let sa=1;class so{constructor(e){this.listenProvider_=e,this.syncPointTree_=new iP(null),this.pendingWriteTree_={visibleWrites:ix.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function sl(e,t,n,r,i){var s,a;return(s=e.pendingWriteTree_,a=i,eJ(r>s.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),s.allWrites.push({path:t,snap:n,writeId:r,visible:a}),a&&(s.visibleWrites=iN(s.visibleWrites,t,n)),s.lastWriteId=r,i)?sp(e,new iv(ih(),t,n)):[]}function su(e,t,n=!1){let r=function(e,t){for(let n=0;n<e.allWrites.length;n++){let r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(!function(e,t){let n=e.allWrites.findIndex(e=>e.writeId===t);eJ(n>=0,"removeWrite called with nonexistent writeId.");let r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,a=e.allWrites.length-1;for(;i&&a>=0;){let t=e.allWrites[a];t.visible&&(a>=n&&function(e,t){if(e.snap)return rx(e.path,t);for(let n in e.children)if(e.children.hasOwnProperty(n)&&rx(rS(e.path,n),t))return!0;return!1}(t,r.path)?i=!1:rx(r.path,t.path)&&(s=!0)),a--}return!!i&&(s?(e.visibleWrites=ij(e.allWrites,iz,rv()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1):r.snap?e.visibleWrites=iO(e.visibleWrites,r.path):nJ(r.children,t=>{e.visibleWrites=iO(e.visibleWrites,rS(r.path,t))}),!0)}(e.pendingWriteTree_,t))return[];{let t=new iP(null);return null!=r.snap?t=t.set(rv(),!0):nJ(r.children,e=>{t=t.set(new rg(e),!0)}),sp(e,new im(r.path,t,n))}}function sc(e,t,n){return sp(e,new iv(id(),t,n))}function sh(e,t,n,r,i=!1){let s=t._path,a=e.syncPointTree_.get(s),o=[];if(a&&("default"===t._queryIdentifier||null!=sr(a,t))){let l=function(e,t,n,r){let i=t._queryIdentifier,s=[],a=[],o=si(e);if("default"===i)for(let[t,i]of e.views.entries())a=a.concat(i5(i,n,r)),i6(i)&&(e.views.delete(t),i.query._queryParams.loadsAllData()||s.push(i.query));else{let t=e.views.get(i);t&&(a=a.concat(i5(t,n,r)),i6(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return o&&!si(e)&&s.push(new(eJ(c,"Reference.ts has not been loaded"),c)(t._repo,t._path)),{removed:s,events:a}}(a,t,n,r);0===a.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));let u=l.removed;if(o=l.events,!i){let n=-1!==u.findIndex(e=>e._queryParams.loadsAllData()),i=e.syncPointTree_.findOnPath(s,(e,t)=>si(t));if(n&&!i){let t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){let n=t.fold((e,t,n)=>{if(t&&si(t))return[ss(t)];{let e=[];return t&&(e=st(t)),nJ(n,(t,n)=>{e=e.concat(n)}),e}});for(let t=0;t<n.length;++t){let r=n[t],i=r.query,s=sm(e,r);e.listenProvider_.startListening(sw(i),sg(e,i),s.hashFn,s.onComplete)}}}i||!(u.length>0)||r||(n?e.listenProvider_.stopListening(sw(t),null):u.forEach(t=>{let n=e.queryToTagMap.get(sv(t));e.listenProvider_.stopListening(sw(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){let r=t[n];if(!r._queryParams.loadsAllData()){let t=sv(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,u)}return o}function sd(e,t,n,r=!1){let i;let s=t._path,a=null,o=!1;e.syncPointTree_.foreachOnPath(s,(e,t)=>{let n=rI(e,s);a=a||sn(t,n),o=o||si(t)});let l=e.syncPointTree_.get(s);l?(o=o||si(l),a=a||sn(l,rv())):(l=new i7,e.syncPointTree_=e.syncPointTree_.set(s,l)),null!=a?i=!0:(i=!1,a=rZ.EMPTY_NODE,e.syncPointTree_.subtree(s).foreachChild((e,t)=>{let n=sn(t,rv());n&&(a=a.updateImmediateChild(e,n))}));let u=null!=sr(l,t);if(!u&&!t._queryParams.loadsAllData()){let n=sv(t);eJ(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");let r=sa++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let c=function(e,t,n,r,i,s){let a=function(e,t,n,r,i){let s=t._queryIdentifier,a=e.views.get(s);if(!a){let e=iV(n,i?r:null),s=!1;return e?s=!0:(e=r instanceof rZ?iq(n,r):rZ.EMPTY_NODE,s=!1),new i4(t,ik(new iy(e,s,!1),new iy(r,i,!1)))}return a}(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),!function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){let n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(rK,(e,t)=>{r.push(r6(e,t))}),n.isFullyInitialized()&&r.push(r4(n.getNode())),i9(e,r,n.getNode(),t)}(a,n)}(l,t,n,iQ(s,e.pendingWriteTree_),a,i);if(!u&&!o&&!r){let n=sr(l,t);c=c.concat(function(e,t,n){let r=t._path,i=sg(e,t),s=sm(e,n),a=e.listenProvider_.startListening(sw(t),i,s.hashFn,s.onComplete),o=e.syncPointTree_.subtree(r);if(i)eJ(!si(o.value),"If we're adding a query, it shouldn't be shadowed");else{let t=o.fold((e,t,n)=>{if(!rE(e)&&t&&si(t))return[ss(t).query];{let e=[];return t&&(e=e.concat(st(t).map(e=>e.query))),nJ(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){let r=t[n];e.listenProvider_.stopListening(sw(r),sg(e,r))}}return a}(e,t,n))}return c}function sf(e,t,n){let r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{let r=sn(n,rI(e,t));if(r)return r});return iW(r,t,i,n,!0)}function sp(e,t){var n;return function e(t,n,r,i){if(rE(t.path))return function e(t,n,r,i){let s=n.get(rv());null==r&&null!=s&&(r=sn(s,rv()));let a=[];return n.children.inorderTraversal((n,s)=>{let o=r?r.getImmediateChild(n):null,l=iK(i,n),u=t.operationForChild(n);u&&(a=a.concat(e(u,s,o,l)))}),s&&(a=a.concat(se(s,t,i,r))),a}(t,n,r,i);{let s=n.get(rv());null==r&&null!=s&&(r=sn(s,rv()));let a=[],o=r_(t.path),l=t.operationForChild(o),u=n.children.get(o);if(u&&l){let t=r?r.getImmediateChild(o):null,n=iK(i,o);a=a.concat(e(l,u,t,n))}return s&&(a=a.concat(se(s,t,i,r))),a}}(t,e.syncPointTree_,null,(n=e.pendingWriteTree_,iQ(rv(),n)))}function sm(e,t){let n=t.query,r=sg(e,n);return{hashFn:()=>(t.viewCache_.serverCache.getNode()||rZ.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t){var i;return r?function(e,t,n){let r=s_(e,n);if(!r)return[];{let n=sy(r),i=n.path,s=n.queryId,a=rI(i,t);return sb(e,i,new ig(ip(s),a))}}(e,n._path,r):(i=n._path,sp(e,new ig(id(),i)))}{let r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");let r=Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return sh(e,n,null,r)}}}}function sg(e,t){let n=sv(t);return e.queryToTagMap.get(n)}function sv(e){return e._path.toString()+"$"+e._queryIdentifier}function s_(e,t){return e.tagToQueryMap.get(t)}function sy(e){let t=e.indexOf("$");return eJ(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new rg(e.substr(0,t))}}function sb(e,t,n){let r=e.syncPointTree_.get(t);return eJ(r,"Missing sync point for query tag that we're tracking"),se(r,n,iQ(t,e.pendingWriteTree_),null)}function sw(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(eJ(h,"Reference.ts has not been loaded"),h)(e._repo,e._path):e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e){this.node_=e}getImmediateChild(e){return new sk(this.node_.getImmediateChild(e))}node(){return this.node_}}class sC{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=rS(this.path_,e);return new sC(this.syncTree_,t)}node(){return sf(this.syncTree_,this.path_)}}const sS=function(e,t,n){return e&&"object"==typeof e?(eJ(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"])?sE(e[".sv"],t,n):"object"==typeof e[".sv"]?sI(e[".sv"],t):void eJ(!1,"Unexpected server value: "+JSON.stringify(e,null,2)):e},sE=function(e,t,n){if("timestamp"===e)return n.timestamp;eJ(!1,"Unexpected server value: "+e)},sI=function(e,t,n){e.hasOwnProperty("increment")||eJ(!1,"Unexpected server value: "+JSON.stringify(e,null,2));let r=e.increment;"number"!=typeof r&&eJ(!1,"Unexpected increment value: "+r);let i=t.node();if(eJ(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return"number"!=typeof s?r:s+r},sT=function(e,t,n,r){return sx(t,new sC(n,e),r)},sP=function(e,t,n){return sx(e,new sk(t),n)};function sx(e,t,n){let r;let i=sS(e.getPriority().val(),t.getImmediateChild(".priority"),n);if(!e.isLeafNode())return r=e,i!==e.getPriority().val()&&(r=r.updatePriority(new r$(i))),e.forEachChild(rK,(e,i)=>{let s=sx(i,t.getImmediateChild(e),n);s!==i&&(r=r.updateImmediateChild(e,s))}),r;{let r=sS(e.getValue(),t,n);return r!==e.getValue()||i!==e.getPriority().val()?new r$(r,r1(i)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function sR(e,t){let n=t instanceof rg?t:new rg(t),r=e,i=r_(n);for(;null!==i;){let e=t_(r.node.children,i)||{children:{},childCount:0};r=new sN(i,r,e),i=r_(n=rb(n))}return r}function sO(e){return e.node.value}function sD(e,t){e.node.value=t,function e(t){null!==t.parent&&function(t,n,r){let i=void 0===sO(r)&&!sL(r),s=tv(t.node.children,n);i&&s?(delete t.node.children[n],t.node.childCount--,e(t)):i||s||(t.node.children[n]=r.node,t.node.childCount++,e(t))}(t.parent,t.name,t)}(e)}function sL(e){return e.node.childCount>0}function sA(e,t){nJ(e.node.children,(n,r)=>{t(new sN(n,e,r))})}function sM(e){return new rg(null===e.parent?e.name:sM(e.parent)+"/"+e.name)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sF=/[\[\].#$\/\u0000-\u001F\u007F]/,sU=/[\[\].#$\u0000-\u001F\u007F]/,sz=function(e){return"string"==typeof e&&0!==e.length&&!sF.test(e)},sj=function(e){return"string"==typeof e&&0!==e.length&&!sU.test(e)},sW=function(e,t,n,r){r&&void 0===t||sV(tx(e,"value"),t,n)},sV=function(e,t,n){let r=n instanceof rg?new rN(n,e):n;if(void 0===t)throw Error(e+"contains undefined "+rO(r));if("function"==typeof t)throw Error(e+"contains a function "+rO(r)+" with contents = "+t.toString());if(nV(t))throw Error(e+"contains "+t.toString()+" "+rO(r));if("string"==typeof t&&t.length>10485760/3&&tR(t)>10485760)throw Error(e+"contains a string greater than 10485760 utf8 bytes "+rO(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(nJ(t,(t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!sz(t)))throw Error(e+" contains an invalid key ("+t+") "+rO(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.parts_.length>0&&(r.byteLength_+=1),r.parts_.push(t),r.byteLength_+=tR(t),rR(r),sV(e,s,r),function(e){let t=e.parts_.pop();e.byteLength_-=tR(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw Error(e+' contains ".value" child '+rO(r)+" in addition to actual children.")}},sq=function(e,t){let n,r;for(n=0;n<t.length;n++){let i=rk(r=t[n]);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!sz(i[t]))throw Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(rT);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&rx(i,r))throw Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},sH=function(e,t,n,r){if(r&&void 0===t)return;let i=tx(e,"values");if(!(t&&"object"==typeof t)||Array.isArray(t))throw Error(i+" must be an object containing the children to replace.");let s=[];nJ(t,(e,t)=>{let r=new rg(e);if(sV(i,t,rS(n,r)),".priority"===rw(r)&&!(null===t||"string"==typeof t||"number"==typeof t&&!nV(t)||t&&"object"==typeof t&&tv(t,".sv")))throw Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(r)}),sq(i,s)},sB=function(e,t,n,r){if((!r||void 0!==n)&&!sj(n))throw Error(tx(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},s$=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),sB(e,t,n,r)},sK=function(e,t){if(".info"===r_(t))throw Error(e+" failed = Can't modify data under /.info/")},sQ=function(e,t){var n;let r=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!sz(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==r.length&&((n=r)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),!sj(n)))throw Error(tx(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sY(e,t){let n=null;for(let r=0;r<t.length;r++){let i=t[r],s=i.getPath();null===n||rP(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function sJ(e,t,n){sY(e,n),sZ(e,e=>rP(e,t))}function sX(e,t,n){sY(e,n),sZ(e,e=>rx(e,t)||rx(t,e))}function sZ(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){let i=e.eventLists_[r];i&&(t(i.path)?(function(e){for(let t=0;t<e.events.length;t++){let n=e.events[t];if(null!==n){e.events[t]=null;let r=n.getEventRunner();nD&&nM("event: "+n.toString()),n1(r)}}}(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}class s0{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new sG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=io(),this.transactionQueueTree_=new sN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function s1(e){let t=e.infoData_.getNode(new rg(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function s2(e){var t;return(t=t={timestamp:s1(e)}).timestamp=t.timestamp||new Date().getTime(),t}function s3(e,t,n,r,i){e.dataUpdateCount++;let s=new rg(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let a=[];if(i){if(r){let t=tb(n,e=>r1(e));a=function(e,t,n,r){let i=s_(e,r);if(!i)return[];{let r=sy(i),s=r.path,a=r.queryId,o=rI(s,t),l=iP.fromObject(n);return sb(e,s,new i_(ip(a),o,l))}}(e.serverSyncTree_,s,t,i)}else{let t=r1(n);a=function(e,t,n,r){let i=s_(e,r);if(null==i)return[];{let r=sy(i),s=r.path,a=r.queryId,o=rI(s,t);return sb(e,s,new iv(ip(a),o,n))}}(e.serverSyncTree_,s,t,i)}}else if(r){let t=tb(n,e=>r1(e));a=function(e,t,n){let r=iP.fromObject(n);return sp(e,new i_(id(),t,r))}(e.serverSyncTree_,s,t)}else{let t=r1(n);a=sc(e.serverSyncTree_,s,t)}let o=s;a.length>0&&(o=at(e,s)),sX(e.eventQueue_,o,a)}function s4(e,t){s6(e,"connected",t),!1===t&&function(e){s9(e,"onDisconnectEvents");let t=s2(e),n=io();il(e.onDisconnect_,rv(),(r,i)=>{let s=sT(r,i,e.serverSyncTree_,t);!function e(t,n,r){if(rE(n))t.value=r,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(n,r);else{let i=r_(n);t.children.has(i)||t.children.set(i,io()),e(t.children.get(i),n=rb(n),r)}}(n,r,s)});let r=[];il(n,rv(),(t,n)=>{r=r.concat(sc(e.serverSyncTree_,t,n));let i=as(e,t);at(e,i)}),e.onDisconnect_=io(),sX(e.eventQueue_,rv(),r)}(e)}function s6(e,t,n){let r=new rg("/.info/"+t),i=r1(n);e.infoData_.updateSnapshot(r,i);let s=sc(e.infoSyncTree_,r,i);sX(e.eventQueue_,r,s)}function s5(e){return e.nextWriteId_++}function s8(e,t,n){let r;r=".info"===r_(t._path)?sh(e.infoSyncTree_,t,n):sh(e.serverSyncTree_,t,n),sJ(e.eventQueue_,t._path,r)}function s9(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),nM(n,...t)}function s7(e,t,n,r){t&&n1(()=>{if("ok"===n)t(null);else{let e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);let s=Error(i);s.code=e,t(s)}})}function ae(e,t,n){return sf(e.serverSyncTree_,t,n)||rZ.EMPTY_NODE}function at(e,t){let n=an(e,t),r=sM(n),i=ar(e,n);return function(e,t,n){if(0===t.length)return;let r=[],i=[],s=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let a=0;a<t.length;a++){let o=t[a],l=rI(n,o.path),u=!1,c;if(eJ(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===o.status)u=!0,c=o.abortReason,i=i.concat(su(e.serverSyncTree_,o.currentWriteId,!0));else if(0===o.status){if(o.retryCount>=25)u=!0,c="maxretry",i=i.concat(su(e.serverSyncTree_,o.currentWriteId,!0));else{let n=ae(e,o.path,s);o.currentInputSnapshot=n;let r=t[a].update(n.val());if(void 0!==r){sV("transaction failed: Data returned ",r,o.path);let t=r1(r);"object"==typeof r&&null!=r&&tv(r,".priority")||(t=t.updatePriority(n.getPriority()));let a=o.currentWriteId,l=sP(t,n,s2(e));o.currentOutputSnapshotRaw=t,o.currentOutputSnapshotResolved=l,o.currentWriteId=s5(e),s.splice(s.indexOf(a),1),i=(i=i.concat(sl(e.serverSyncTree_,o.path,l,o.currentWriteId,o.applyLocally))).concat(su(e.serverSyncTree_,a,!0))}else u=!0,c="nodata",i=i.concat(su(e.serverSyncTree_,o.currentWriteId,!0))}}sX(e.eventQueue_,n,i),i=[],u&&(t[a].status=2,setTimeout(t[a].unwatcher,Math.floor(0)),t[a].onComplete&&("nodata"===c?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(Error(c),!1,null))))}ai(e,e.transactionQueueTree_);for(let e=0;e<r.length;e++)n1(r[e]);(function e(t,n=t.transactionQueueTree_){if(n||ai(t,n),sO(n)){let r=ar(t,n);eJ(r.length>0,"Sending zero length transaction queue"),r.every(e=>0===e.status)&&function(t,n,r){let i=ae(t,n,r.map(e=>e.currentWriteId)),s=i,a=i.hash();for(let e=0;e<r.length;e++){let t=r[e];eJ(0===t.status,"tryToSendTransactionQueue_: items in queue should all be run."),t.status=1,t.retryCount++;let i=rI(n,t.path);s=s.updateChild(i,t.currentOutputSnapshotRaw)}let o=s.val(!0);t.server_.put(n.toString(),o,i=>{s9(t,"transaction put response",{path:n.toString(),status:i});let s=[];if("ok"===i){let i=[];for(let e=0;e<r.length;e++)r[e].status=2,s=s.concat(su(t.serverSyncTree_,r[e].currentWriteId)),r[e].onComplete&&i.push(()=>r[e].onComplete(null,!0,r[e].currentOutputSnapshotResolved)),r[e].unwatcher();ai(t,sR(t.transactionQueueTree_,n)),e(t,t.transactionQueueTree_),sX(t.eventQueue_,n,s);for(let e=0;e<i.length;e++)n1(i[e])}else{if("datastale"===i)for(let e=0;e<r.length;e++)3===r[e].status?r[e].status=4:r[e].status=0;else{nj("transaction at "+n.toString()+" failed: "+i);for(let e=0;e<r.length;e++)r[e].status=4,r[e].abortReason=i}at(t,n)}},a)}(t,sM(n),r)}else sL(n)&&sA(n,n=>{e(t,n)})})(e,e.transactionQueueTree_)}(e,i,r),r}function an(e,t){let n;let r=e.transactionQueueTree_;for(n=r_(t);null!==n&&void 0===sO(r);)r=sR(r,n),n=r_(t=rb(t));return r}function ar(e,t){let n=[];return function e(t,n,r){let i=sO(n);if(i)for(let e=0;e<i.length;e++)r.push(i[e]);sA(n,n=>{e(t,n,r)})}(e,t,n),n.sort((e,t)=>e.order-t.order),n}function ai(e,t){let n=sO(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,sD(t,n.length>0?n:void 0)}sA(t,t=>{ai(e,t)})}function as(e,t){let n=sM(an(e,t)),r=sR(e.transactionQueueTree_,t);return!function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{aa(e,t)}),aa(e,r),!function e(t,n,r,i){r&&!i&&n(t),sA(t,t=>{e(t,n,!0,i)}),r&&i&&n(t)}(r,t=>{aa(e,t)}),n}function aa(e,t){let n=sO(t);if(n){let r=[],i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(eJ(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(eJ(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(su(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,Error("set"),!1,null))));-1===s?sD(t,void 0):n.length=s+1,sX(e.eventQueue_,sM(t),i);for(let e=0;e<r.length;e++)n1(r[e])}}const ao=function(e,t){let n=al(e),r=n.namespace;"firebase.com"===n.domain&&nz(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||nz("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||nW();let i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new n7(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new rg(n.pathString)}},al=function(e){let t="",n="",r="",i="",s="",a=!0,o="https",l=443;if("string"==typeof e){let u=e.indexOf("//");u>=0&&(o=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");-1===c&&(c=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){let t="",n=e.split("/");for(let e=0;e<n.length;e++)if(n[e].length>0){let r=n[e];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(e){}t+="/"+r}return t}(e.substring(c,h)));let d=function(e){let t={};for(let n of("?"===e.charAt(0)&&(e=e.substring(1)),e.split("&"))){if(0===n.length)continue;let r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):nj(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));(u=t.indexOf(":"))>=0?(a="https"===o||"wss"===o,l=parseInt(t.substring(u+1),10)):u=t.length;let f=t.slice(0,u);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{let e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:a,scheme:o,pathString:i,namespace:s}},au="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",ac=function(){let e=0,t=[];return function(n){let r;let i=n===e;e=n;let s=Array(8);for(r=7;r>=0;r--)s[r]=au.charAt(n%64),n=Math.floor(n/64);eJ(0===n,"Cannot push at time == 0");let a=s.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)a+=au.charAt(t[r]);return eJ(20===a.length,"nextPushId: Length should be 20."),a}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){let e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tf(this.snapshot.exportVal())}}class ad{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return eJ(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return rE(this._path)?null:rw(this._path)}get ref(){return new am(this._repo,this._path)}get _queryIdentifier(){let e=nG(ii(this._queryParams));return"{}"===e?"default":e}get _queryObject(){return ii(this._queryParams)}isEqual(e){if(!((e=tO(e))instanceof ap))return!1;let t=this._repo===e._repo,n=rP(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class am extends ap{constructor(e,t){super(e,t,new it,!1)}get parent(){let e=rC(this._path);return null===e?null:new am(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class ag{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new rg(e),n=a_(this.ref,e);return new ag(this._node.getChild(t),n,rK)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new ag(n,a_(this.ref,t),rK)))}hasChild(e){let t=new rg(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function av(e,t){return(e=tO(e))._checkNotDeleted("ref"),void 0!==t?a_(e._root,t):e._root}function a_(e,t){return null===r_((e=tO(e))._path)?s$("child","path",t,!1):sB("child","path",t,!1),new am(e._repo,rS(e._path,t))}function ay(e,t){sH("update",t,e._path,!1);let n=new ti;return!function(e,t,n,r){s9(e,"update",{path:t.toString(),value:n});let i=!0,s=s2(e),a={};if(nJ(n,(n,r)=>{i=!1,a[n]=sT(rS(t,n),r1(r),e.serverSyncTree_,s)}),i)nM("update() called with empty data.  Don't do anything."),s7(e,r,"ok",void 0);else{let i=s5(e),s=function(e,t,n,r){var i;eJ(r>(i=e.pendingWriteTree_).lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:n,writeId:r,visible:!0}),i.visibleWrites=iR(i.visibleWrites,t,n),i.lastWriteId=r;let s=iP.fromObject(n);return sp(e,new i_(ih(),t,s))}(e.serverSyncTree_,t,a,i);sY(e.eventQueue_,s),e.server_.merge(t.toString(),n,(n,s)=>{let a="ok"===n;a||nj("update at "+t+" failed: "+n);let o=su(e.serverSyncTree_,i,!a),l=o.length>0?at(e,t):t;sX(e.eventQueue_,l,o),s7(e,r,n,s)}),nJ(n,n=>{let r=as(e,rS(t,n));at(e,r)}),sX(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}class ab{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){let n=t._queryParams.getIndex();return new ah("value",this,new ag(e.snapshotNode,new am(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ad(this,e,t):null}matches(e){return e instanceof ab&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class aw{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new ad(this,e,t):null}createEvent(e,t){eJ(null!=e.childName,"Child events should have a childName.");let n=a_(new am(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new ah(e.type,this,new ag(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof aw&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function ak(e,t,n,r){return function(e,t,n,r,i){var s;let a,o;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){let t=n,r=(n,r)=>{s8(e._repo,e,u),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}let l=new af(n,a||void 0),u="value"===t?new ab(l):new aw(t,l);return s=e._repo,o=".info"===r_(e._path)?sd(s.infoSyncTree_,e,u):sd(s.serverSyncTree_,e,u),sJ(s.eventQueue_,e._path,o),()=>s8(e._repo,e,u)}(e,"value",t,n,r)}eJ(!c,"__referenceConstructor has already been defined"),c=am,eJ(!h,"__referenceConstructor has already been defined"),h=am;const aC={};class aS{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=ri(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new is(e.repoInfo_,(t,n,r,i)=>{s3(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>s4(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw Error("Only objects are supported for option databaseAuthVariableOverride");try{tf(n)}catch(e){throw Error("Invalid authOverride provided: "+e)}}e.persistentConnection_=new rL(e.repoInfo_,t,(t,n,r,i)=>{s3(e,t,n,r,i)},t=>{s4(e,t)},t=>{nJ(t,(t,n)=>{s6(e,t,n)})},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){let n=e.toString();return rr[n]||(rr[n]=t()),rr[n]}(e.repoInfo_,()=>new ic(e.stats_,e.server_)),e.infoData_=new ia,e.infoSyncTree_=new so({startListening:(t,n,r,i)=>{let s=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(s=sc(e.infoSyncTree_,t._path,a),setTimeout(()=>{i("ok")},0)),s},stopListening:()=>{}}),s6(e,"connected",!1),e.serverSyncTree_=new so({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{let s=i(n,r);sX(e.eventQueue_,t._path,s)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new am(this._repo,rv())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){let n=aC[t];n&&n[e.key]===e||nz(`Database ${t}(${e.repoInfo_}) has already been deleted.`),e.persistentConnection_&&e.persistentConnection_.interrupt("repo_interrupt"),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&nz("Cannot call "+e+" on a deleted database.")}}function aE(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>t.indexOf(r)&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)0>t.indexOf(r[i])&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function aI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}rL.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},rL.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},nC=no,nn(new tD("database",(e,{instanceIdentifier:t})=>(function(e,t,n,r,i){var s,a;let o,l,u,c,h=r||e.options.databaseURL;void 0===h&&(e.options.projectId||nz("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),nM("Using default host for project ",e.options.projectId),h=`${e.options.projectId}-default-rtdb.firebaseio.com`);let d=ao(h,void 0),f=d.repoInfo;void 0!==eU&&eU.env&&(u=eU.env.FIREBASE_DATABASE_EMULATOR_HOST),u?(c=!0,f=(d=ao(h=`http://${u}?ns=${f.namespace}`,void 0)).repoInfo):c=!d.repoInfo.secure;let p=new n4(e.name,e.options,t);return sQ("Invalid Firebase Database URL",d),rE(d.path)||nz("Database URL must point to the root of a Firebase Database (not including a child path)."),new aS((s=f,a=new n3(e.name,n),(o=aC[e.name])||(o={},aC[e.name]=o),(l=o[s.toURLString()])&&nz("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),l=new s0(s,!1,p,a),o[s.toURLString()]=l,l),e)})(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),nc(nw,nk,void 0),nc(nw,nk,"esm2017"),nc("firebase","10.12.1","app"),"function"==typeof SuppressedError&&SuppressedError;const aT=new tc("auth","Firebase",aI()),aP=new tV("@firebase/auth");function ax(e,...t){aP.logLevel<=D.ERROR&&aP.error(`Auth (${no}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(e,...t){throw aL(e,...t)}function aR(e,...t){return aL(e,...t)}function aO(e,t,n){return new tc("auth","Firebase",Object.assign(Object.assign({},aI()),{[t]:n})).create(t,{appName:e.name})}function aD(e){return aO(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function aL(e,...t){if("string"!=typeof e){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return aT.create(e,...t)}function aA(e,t,...n){if(!e)throw aL(t,...n)}function aM(e){let t="INTERNAL ASSERTION FAILED: "+e;throw ax(t),Error(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aF(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function aU(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class az{constructor(e,t){var n;this.shortDelay=e,this.longDelay=t,n="Short delay should be less than long delay!",t>e||aM(n),this.isMobile=ta()||to()}get(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===aU()||"https:"===aU()||function(){let e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(e,t){var n,r;n=e.emulator,r="Emulator should always be set here",n||aM(r);let{url:i}=e.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void aM("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void aM("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void aM("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},aq=new az(3e4,6e4);function aH(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function aB(e,t,n,r,i={}){return a$(e,i,async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});let a=tC(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode),aW.fetch()(aQ(e,e.config.apiHost,n,a),Object.assign({method:t,headers:o,referrerPolicy:"no-referrer"},i))})}async function a$(e,t,n){e._canInitEmulator=!1;let r=Object.assign(Object.assign({},aV),t);try{let t=new aG(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let s=await i.json();if("needConfirmation"in s)throw aY(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{let[t,n]=(i.ok?s.errorMessage:s.error.message).split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===t)throw aY(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===t)throw aY(e,"email-already-in-use",s);if("USER_DISABLED"===t)throw aY(e,"user-disabled",s);let a=r[t]||t.toLowerCase().replace(/[_\s]+/g,"-");if(n)throw aO(e,a,n);aN(e,a)}}catch(t){if(t instanceof tu)throw t;aN(e,"network-request-failed",{message:String(t)})}}async function aK(e,t,n,r,i={}){let s=await aB(e,t,n,r,i);return"mfaPendingCredential"in s&&aN(e,"multi-factor-auth-required",{_serverResponse:s}),s}function aQ(e,t,n,r){let i=`${t}${n}?${r}`;return e.config.emulator?aj(e.config,i):`${e.config.apiScheme}://${i}`}class aG{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(aR(this.auth,"network-request-failed")),aq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function aY(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=aR(e,t,r);return i.customData._tokenResponse=n,i}function aJ(e){return void 0!==e&&void 0!==e.enterprise}class aX{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return function(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function aZ(e,t){return aB(e,"GET","/v2/recaptchaConfig",aH(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a0(e,t){return aB(e,"POST","/v1/accounts:delete",t)}async function a1(e,t){return aB(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(e){}}async function a3(e,t=!1){let n=tO(e),r=await n.getIdToken(t),i=a6(r);aA(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:a2(a4(i.auth_time)),issuedAtTime:a2(a4(i.iat)),expirationTime:a2(a4(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}}function a4(e){return 1e3*Number(e)}function a6(e){let[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return ax("JWT malformed, contained fewer than 3 sections"),null;try{let e=e6(n);if(!e)return ax("Failed to decode base64 JWT payload"),null;return JSON.parse(e)}catch(e){return ax("Caught error parsing JWT payload as JSON",null==e?void 0:e.toString()),null}}function a5(e){let t=a6(e);return aA(t,"internal-error"),aA(void 0!==t.exp,"internal-error"),aA(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a8(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof tu&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(!e)return this.errorBackoff=3e4,Math.max(0,(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5);{let e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(null==e?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a7{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=a2(this.lastLoginAt),this.creationTime=a2(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oe(e){var t;let n=e.auth,r=await e.getIdToken(),i=await a8(e,a1(n,{idToken:r}));aA(null==i?void 0:i.users.length,n,"internal-error");let s=i.users[0];e._notifyReloadListener(s);let a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?on(s.providerUserInfo):[],o=[...e.providerData.filter(e=>!a.some(t=>t.providerId===e.providerId)),...a],l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(null==o?void 0:o.length);Object.assign(e,{uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new a7(s.createdAt,s.lastLoginAt),isAnonymous:!!l&&u})}async function ot(e){let t=tO(e);await oe(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function on(e){return e.map(e=>{var{providerId:t}=e,n=aE(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function or(e,t){let n=await a$(e,{},async()=>{let n=tC({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=aQ(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",aW.fetch()(s,{method:"POST",headers:a,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function oi(e,t){return aB(e,"POST","/v2/accounts:revokeToken",aH(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){aA(e.idToken,"internal-error"),aA(void 0!==e.idToken,"internal-error"),aA(void 0!==e.refreshToken,"internal-error");let t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):a5(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){aA(0!==e.length,"internal-error");let t=a5(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(aA(this.refreshToken,e,"user-token-expired"),this.refreshToken)?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await or(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){let{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new os;return n&&(aA("string"==typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(aA("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(aA("number"==typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new os,this.toJSON())}_performRefresh(){return aM("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oa(e,t){aA("string"==typeof e||void 0===e,"internal-error",{appName:t})}class oo{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=aE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new a9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new a7(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){let t=await a8(this,this.stsTokenManager.getToken(this.auth,e));return aA(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return a3(this,e)}reload(){return ot(this)}_assign(e){this!==e&&(aA(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new oo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){aA(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await oe(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ni(this.auth.app))return Promise.reject(aD(this.auth));let e=await this.getIdToken();return await a8(this,a0(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,u;let c=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,m=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:_,emailVerified:y,isAnonymous:b,providerData:w,stsTokenManager:k}=t;aA(_&&k,e,"internal-error");let C=os.fromJSON(this.name,k);aA("string"==typeof _,e,"internal-error"),oa(c,e.name),oa(h,e.name),aA("boolean"==typeof y,e,"internal-error"),aA("boolean"==typeof b,e,"internal-error"),oa(d,e.name),oa(f,e.name),oa(p,e.name),oa(m,e.name),oa(g,e.name),oa(v,e.name);let S=new oo({uid:_,auth:e,email:h,emailVerified:y,displayName:c,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map(e=>Object.assign({},e))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t,n=!1){let r=new os;r.updateFromServerResponse(t);let i=new oo({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await oe(i),i}static async _fromGetAccountInfoResponse(e,t,n){let r=t.users[0];aA(void 0!==r.localId,"internal-error");let i=void 0!==r.providerUserInfo?on(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length),a=new os;a.updateFromIdToken(n);let o=new oo({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s});return Object.assign(o,{uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new a7(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null==i?void 0:i.length)}),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=new Map;function ou(e){var t,n;t="Expected a class definition",e instanceof Function||aM(t);let r=ol.get(e);return r?(n="Instance stored in cache mismatched with class",r instanceof e||aM(n)):(r=new e,ol.set(e,r)),r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(e,t,n){return`firebase:${e}:${t}:${n}`}oc.type="NONE";class od{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=oh(this.userKey,r.apiKey,i),this.fullPersistenceKey=oh("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?oo._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new od(ou(oc),e,n);let r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),i=r[0]||ou(oc),s=oh(n,e.config.apiKey,e.name),a=null;for(let n of t)try{let t=await n._get(s);if(t){let r=oo._fromJSON(e,t);n!==i&&(a=r),i=n;break}}catch(e){}let o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length&&(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(e){}}))),new od(i,e,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(e){let t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";{if(ov(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(op(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(oy(t))return"Blackberry";if(ob(t))return"Webos";if(om(t))return"Safari";if((t.includes("chrome/")||og(t))&&!t.includes("edge/"))return"Chrome";if(o_(t))return"Android";let n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if((null==n?void 0:n.length)===2)return n[1]}return"Other"}function op(e=ts()){return/firefox\//i.test(e)}function om(e=ts()){let t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function og(e=ts()){return/crios\//i.test(e)}function ov(e=ts()){return/iemobile/i.test(e)}function o_(e=ts()){return/android/i.test(e)}function oy(e=ts()){return/blackberry/i.test(e)}function ob(e=ts()){return/webos/i.test(e)}function ow(e=ts()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function ok(e=ts()){return ow(e)||o_(e)||ob(e)||oy(e)||/windows phone/i.test(e)||ov(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(e,t=[]){let n;switch(e){case"Browser":n=of(ts());break;case"Worker":n=`${of(ts())}-${e}`;break;default:n=e}let r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${no}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{let r=e(t);n(r)}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){for(let e of(t.reverse(),t))try{e()}catch(e){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null==e?void 0:e.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oE(e,t={}){return aB(e,"GET","/v2/passwordPolicy",aH(e,t))}class oI{constructor(e){var t,n,r,i;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;let o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oP(this),this.idTokenSubscription=new oP(this),this.beforeStateQueue=new oS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=aT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ou(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await od.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(e){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(this.currentUser||e){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await a1(this,{idToken:e}),n=await oo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ni(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let n=await this.assertedPersistence.getCurrentUser(),r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);(!n||n===s)&&(null==a?void 0:a.user)&&(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(e){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return(aA(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId)?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(e){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await oe(e)}catch(e){if((null==e?void 0:e.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ni(this.app))return Promise.reject(aD(this));let t=e?tO(e):null;return t&&aA(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&aA(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ni(this.app)?Promise.reject(aD(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ni(this.app)?Promise.reject(aD(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ou(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new oI(await oE(this));null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await oi(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&ou(e)||this._popupRedirectResolver;aA(t,this,"argument-error"),this.redirectPersistenceManager=await od.create(this,[ou(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return(this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e)?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i="function"==typeof t?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(aA(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"==typeof t){let i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{let n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return aA(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let n=await (null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);let r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;let t=await (null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null==t?void 0:t.error)&&function(e,...t){aP.logLevel<=D.WARN&&aP.warn(`Auth (${no}): ${e}`,...t)}(`Error while retrieving App Check token: ${t.error}`),null==t?void 0:t.token}}class oP{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){let n=new tT(e,void 0);return n.subscribe.bind(n)}(e=>this.observer=e)}get next(){return aA(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ox={async loadJS(){throw Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function oN(e){return`__${e}${Math.floor(1e6*Math.random())}`}class oR{constructor(e){this.type="recaptcha-enterprise",this.auth=tO(e)}async verify(e="verify",t=!1){async function n(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{aZ(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0===r.recaptchaKey)n(Error("recaptcha Enterprise site key undefined"));else{let n=new aX(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;aJ(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&aJ(window.grecaptcha))r(n,e,i);else{var s;if("undefined"==typeof window){i(Error("RecaptchaVerifier is only supported in browser"));return}let t=ox.recaptchaEnterpriseScript;0!==t.length&&(t+=n),(s=t,ox.loadJS(s)).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}}async function oO(e,t,n,r=!1){let i;let s=new oR(e);try{i=await s.verify(n)}catch(e){i=await s.verify(n,!0)}let a=Object.assign({},t);return r?Object.assign(a,{captchaResp:i}):Object.assign(a,{captchaResponse:i}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function oD(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i||!i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER"))return r(e,t).catch(async i=>{if("auth/missing-recaptcha-token"!==i.code)return Promise.reject(i);{console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let i=await oO(e,t,n,"getOobCode"===n);return r(e,i)}});{let i=await oO(e,t,n,"getOobCode"===n);return r(e,i)}}function oL(e){let t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function oA(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return aM("not implemented")}_getIdTokenResponse(e){return aM("not implemented")}_linkToIdToken(e,t){return aM("not implemented")}_getReauthenticationResolver(e){return aM("not implemented")}}async function oF(e,t){return aB(e,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oU(e,t){return aK(e,"POST","/v1/accounts:signInWithPassword",aH(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oz(e,t){return aK(e,"POST","/v1/accounts:signInWithEmailLink",aH(e,t))}async function oj(e,t){return aK(e,"POST","/v1/accounts:signInWithEmailLink",aH(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW extends oM{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new oW(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new oW(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return oD(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",oU);case"emailLink":return oz(e,{email:this._email,oobCode:this._password});default:aN(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return oD(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oF);case"emailLink":return oj(e,{idToken:t,email:this._email,oobCode:this._password});default:aN(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oV(e,t){return aK(e,"POST","/v1/accounts:signInWithIdp",aH(e,t))}class oq extends oM{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new oq(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):aN("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=aE(t,["providerId","signInMethod"]);if(!n||!r)return null;let s=new oq(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return oV(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,oV(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,oV(e,t)}buildRequest(){let e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=tC(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oH(e,t){return aB(e,"POST","/v1/accounts:sendVerificationCode",aH(e,t))}async function oB(e,t){return aK(e,"POST","/v1/accounts:signInWithPhoneNumber",aH(e,t))}async function o$(e,t){let n=await aK(e,"POST","/v1/accounts:signInWithPhoneNumber",aH(e,t));if(n.temporaryProof)throw aY(e,"account-exists-with-different-credential",n);return n}const oK={USER_NOT_FOUND:"user-not-found"};async function oQ(e,t){return aK(e,"POST","/v1/accounts:signInWithPhoneNumber",aH(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),oK)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG extends oM{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new oG({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new oG({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return oB(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return o$(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return oQ(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));let{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new oG({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class oY{constructor(e){var t,n,r,i,s,a;let o=tS(tE(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,u=null!==(n=o.oobCode)&&void 0!==n?n:null,c=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);aA(l&&u&&c,"argument-error"),this.apiKey=l,this.operation=c,this.code=u,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){let t=function(e){let t=tS(tE(e)).link,n=t?tS(tE(t)).deep_link_id:null,r=tS(tE(e)).deep_link_id;return(r?tS(tE(r)).link:null)||r||n||t||e}(e);try{return new oY(t)}catch(e){return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oJ{constructor(){this.providerId=oJ.PROVIDER_ID}static credential(e,t){return oW._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=oY.parseLink(t);return aA(n,"argument-error"),oW._fromEmailAndCode(e,n.code,n.tenantId)}}oJ.PROVIDER_ID="password",oJ.EMAIL_PASSWORD_SIGN_IN_METHOD="password",oJ.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oZ extends oX{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0 extends oZ{constructor(){super("facebook.com")}static credential(e){return oq._fromParams({providerId:o0.PROVIDER_ID,signInMethod:o0.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return o0.credentialFromTaggedObject(e)}static credentialFromError(e){return o0.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return o0.credential(e.oauthAccessToken)}catch(e){return null}}}o0.FACEBOOK_SIGN_IN_METHOD="facebook.com",o0.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1 extends oZ{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return oq._fromParams({providerId:o1.PROVIDER_ID,signInMethod:o1.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return o1.credentialFromTaggedObject(e)}static credentialFromError(e){return o1.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return o1.credential(t,n)}catch(e){return null}}}o1.GOOGLE_SIGN_IN_METHOD="google.com",o1.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2 extends oZ{constructor(){super("github.com")}static credential(e){return oq._fromParams({providerId:o2.PROVIDER_ID,signInMethod:o2.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return o2.credentialFromTaggedObject(e)}static credentialFromError(e){return o2.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return o2.credential(e.oauthAccessToken)}catch(e){return null}}}o2.GITHUB_SIGN_IN_METHOD="github.com",o2.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o3 extends oZ{constructor(){super("twitter.com")}static credential(e,t){return oq._fromParams({providerId:o3.PROVIDER_ID,signInMethod:o3.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return o3.credentialFromTaggedObject(e)}static credentialFromError(e){return o3.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return o3.credential(t,n)}catch(e){return null}}}o3.TWITTER_SIGN_IN_METHOD="twitter.com",o3.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,r=!1){return new o4({user:await oo._fromIdTokenResponse(e,n,r),providerId:o6(n),_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){return await e._updateTokensIfNecessary(n,!0),new o4({user:e,providerId:o6(n),_tokenResponse:n,operationType:t})}}function o6(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5 extends tu{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,o5.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new o5(e,t,n,r)}}function o8(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw o5._fromErrorAndOperation(e,n,t,r);throw n})}async function o9(e,t,n=!1){let r=await a8(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return o4._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o7(e,t,n=!1){let{auth:r}=e;if(ni(r.app))return Promise.reject(aD(r));let i="reauthenticate";try{let s=await a8(e,o8(r,i,t,e),n);aA(s.idToken,r,"internal-error");let a=a6(s.idToken);aA(a,r,"internal-error");let{sub:o}=a;return aA(e.uid===o,r,"user-mismatch"),o4._forOperation(e,i,s)}catch(e){throw(null==e?void 0:e.code)==="auth/user-not-found"&&aN(r,"user-mismatch"),e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function le(e,t,n=!1){if(ni(e.app))return Promise.reject(aD(e));let r="signIn",i=await o8(e,r,t),s=await o4._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function lt(e,t){return le(tO(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ln(e){let t=tO(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const lr="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{if(!this.storage)return Promise.resolve(!1);return this.storage.setItem(lr,"1"),this.storage.removeItem(lr),Promise.resolve(!0)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class ls extends li{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(){let e=ts();return om(e)||ow(e)}()&&function(){try{return!!(window&&window!==window.top)}catch(e){return!1}}(),this.fallbackToPolling=ok(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}let r=()=>{let e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(function(){let e=ts();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0})()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ls.type="LOCAL";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la extends li{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}la.type="SESSION";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;let n=new lo(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let{eventId:t,eventType:n,data:r}=e.data,i=this.handlersMap[n];if(!(null==i?void 0:i.size))return;e.ports[0].postMessage({status:"ack",eventId:t,eventType:n});let s=Array.from(i).map(async t=>t(e.origin,r)),a=await Promise.all(s.map(async e=>{try{let t=await e;return{fulfilled:!0,value:t}}catch(e){return{fulfilled:!1,reason:e}}}));e.ports[0].postMessage({status:"done",eventId:t,eventType:n,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ll(e="",t=10){let n="";for(let e=0;e<t;e++)n+=Math.floor(10*Math.random());return e+n}lo.receivers=[];/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r,i;let s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw Error("connection_unavailable");return new Promise((a,o)=>{let l=ll("",20);s.port1.start();let u=setTimeout(()=>{o(Error("unsupported_event"))},n);i={messageChannel:s,onMessage(e){if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{o(Error("timeout"))},3e3);break;case"done":clearTimeout(r),a(e.data.response);break;default:clearTimeout(u),clearTimeout(r),o(Error("invalid_response"))}}},this.handlers.add(i),s.port1.addEventListener("message",i.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{i&&this.removeMessageHandler(i)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(){return window}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(){return void 0!==lc().WorkerGlobalScope&&"function"==typeof lc().importScripts}async function ld(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lf="firebaseLocalStorageDb",lp="firebaseLocalStorage",lm="fbase_key";class lg{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function lv(e,t){return e.transaction([lp],t?"readwrite":"readonly").objectStore(lp)}function l_(){let e=indexedDB.open(lf,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{let t=e.result;try{t.createObjectStore(lp,{keyPath:lm})}catch(e){n(e)}}),e.addEventListener("success",async()=>{let n=e.result;n.objectStoreNames.contains(lp)?t(n):(n.close(),await new lg(indexedDB.deleteDatabase(lf)).toPromise(),t(await l_()))})})}async function ly(e,t,n){return new lg(lv(e,!0).put({[lm]:t,value:n})).toPromise()}async function lb(e,t){let n=lv(e,!1).get(t),r=await new lg(n).toPromise();return void 0===r?null:r.value}function lw(e,t){return new lg(lv(e,!0).delete(t)).toPromise()}class lk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await l_()),this.db}async _withRetries(e){let t=0;for(;;)try{let t=await this._openDb();return await e(t)}catch(e){if(t++>3)throw e;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lh()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=lo._getInstance(lh()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await ld(),!this.activeServiceWorker)return;this.sender=new lu(this.activeServiceWorker);let n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){var t;if(this.sender&&this.activeServiceWorker&&((null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await l_();return await ly(e,lr,"1"),await lw(e,lr),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>ly(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>lb(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>lw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new lg(lv(e,!1).getAll()).toPromise());if(!e||0!==this.pendingWrites)return[];let t=[],n=new Set;if(0!==e.length)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}async function lC(e,t,n){var r,i,s;let a=await n.verify();try{let o;if(aA("string"==typeof a,e,"argument-error"),aA("recaptcha"===n.type,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){let t=o.session;if("phoneNumber"in o)return aA("enroll"===t.type,e,"internal-error"),(await (i={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}},aB(e,"POST","/v2/accounts/mfaEnrollment:start",aH(e,i)))).phoneSessionInfo.sessionInfo;{aA("signin"===t.type,e,"internal-error");let n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return aA(n,e,"missing-multi-factor-info"),(await (s={mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:a}},aB(e,"POST","/v2/accounts/mfaSignIn:start",aH(e,s)))).phoneResponseInfo.sessionInfo}}{let{sessionInfo:t}=await oH(e,{phoneNumber:o.phoneNumber,recaptchaToken:a});return t}}finally{n._reset()}}lk.type="LOCAL",oN("rcb"),new az(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e){this.providerId=lS.PROVIDER_ID,this.auth=tO(e)}verifyPhoneNumber(e,t){return lC(this.auth,e,tO(t))}static credential(e,t){return oG._fromVerification(e,t)}static credentialFromResult(e){return lS.credentialFromTaggedObject(e)}static credentialFromError(e){return lS.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?oG._fromTokenResponse(t,n):null}}lS.PROVIDER_ID="phone",lS.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends oM{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oV(e,this._buildIdpRequest())}_linkToIdToken(e,t){return oV(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return oV(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lI(e){return le(e.auth,new lE(e),e.bypassAuthState)}function lT(e){let{auth:t,user:n}=e;return aA(n,t,"internal-error"),o7(n,new lE(e),e.bypassAuthState)}async function lP(e){let{auth:t,user:n}=e;return aA(n,t,"internal-error"),o9(n,new lE(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}let o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lI;case"linkViaPopup":case"linkViaRedirect":return lP;case"reauthViaPopup":case"reauthViaRedirect":return lT;default:aN(this.auth,"internal-error")}}resolve(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||aM(n),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){var t,n;t=this.pendingPromise,n="Pending promise was never set",t||aM(n),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new az(2e3,1e4);class lR extends lx{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,lR.currentPopupAction&&lR.currentPopupAction.cancel(),lR.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return aA(e,this.auth,"internal-error"),e}async onExecution(){var e,t;e=1===this.filter.length,t="Popup operations only handle one event",e||aM(t);let n=ll();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(aR(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(aR(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lR.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,n;if(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(aR(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,lN.get())};e()}}lR.currentPopupAction=null;const lO=new Map;class lD extends lx{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=lO.get(this.auth._key());if(!e){try{let t=await lL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}lO.set(this.auth._key(),e)}return this.bypassAuthState||lO.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"===e.type){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lL(e,t){let n=oh("pendingRedirect",t.config.apiKey,t.name),r=ou(e._redirectPersistence);if(!await r._isAvailable())return!1;let i=await r._get(n)==="true";return await r._remove(n),i}function lA(e,t){lO.set(e._key(),t)}async function lM(e,t,n=!1){if(ni(e.app))return Promise.reject(aD(e));let r=tO(e),i=t?ou(t):(aA(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver),s=new lD(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class lF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lz(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!lz(e)){let r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(aR(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(lU(e))}saveEventToCache(e){this.cachedEventUids.add(lU(e)),this.lastProcessedEventTime=Date.now()}}function lU(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function lz({type:e,error:t}){return"unknown"===e&&(null==t?void 0:t.code)==="auth/no-auth-event"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(e,t={}){return aB(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lW=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lV=/^https?/;async function lq(e){if(e.config.emulator)return;let{authorizedDomains:t}=await lj(e);for(let e of t)try{if(function(e){let t=aF(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){let i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!lV.test(n))return!1;if(lW.test(e))return r===e;let i=e.replace(/\./g,"\\.");return RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}(e))return}catch(e){}aN(e,"unauthorized-domain")}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lH=new az(3e4,6e4);function lB(){let e=lc().___jsl;if(null==e?void 0:e.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}let l$=null;/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lK=new az(5e3,15e3),lQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},lG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);async function lY(e){let t=await (l$=l$||new Promise((t,n)=>{var r,i,s,a;function o(){lB(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lB(),n(aR(e,"network-request-failed"))},timeout:lH.get()})}if(null===(i=null===(r=lc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else if(null===(s=lc().gapi)||void 0===s?void 0:s.load)o();else{let t=oN("iframefcb");return lc()[t]=()=>{gapi.load?o():n(aR(e,"network-request-failed"))},(a=`${ox.gapiScript}?onload=${t}`,ox.loadJS(a)).catch(e=>n(e))}}).catch(e=>{throw l$=null,e})),n=lc().gapi;return aA(n,e,"internal-error"),t.open({where:document.body,url:function(e){let t=e.config;aA(t.authDomain,e,"auth-domain-config-required");let n=t.emulator?aj(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:no},i=lG.get(e.config.apiHost);i&&(r.eid=i);let s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${tC(r).slice(1)}`}(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lQ,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=aR(e,"network-request-failed"),s=lc().setTimeout(()=>{r(i)},lK.get());function a(){lc().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class lX{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}const lZ=encodeURIComponent("fac");async function l0(e,t,n,r,i,s){aA(e.config.authDomain,e,"auth-domain-config-required"),aA(e.config.apiKey,e,"invalid-api-key");let a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:no,eventId:i};if(t instanceof oX)for(let[n,r]of(t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",ty(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters())),Object.entries(s||{})))a[n]=r;if(t instanceof oZ){let e=t.getScopes().filter(e=>""!==e);e.length>0&&(a.scopes=e.join(","))}for(let t of(e.tenantId&&(a.tid=e.tenantId),Object.keys(a)))void 0===a[t]&&delete a[t];let o=await e._getAppCheckToken(),l=o?`#${lZ}=${encodeURIComponent(o)}`:"";return`${function({config:e}){return e.emulator?aj(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${tC(a).slice(1)}${l}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1="webStorageSupport",l2=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=la,this._completeRedirectFn=lM,this._overrideRedirectResult=lA}async _openPopup(e,t,n,r){var i,s,a;s=null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,a="_initialize() not called before _openPopup()",s||aM(a);let o=await l0(e,t,n,aF(),r);return function(e,t,n,r=500,i=600){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString(),o="",l=Object.assign(Object.assign({},lJ),{width:r.toString(),height:i.toString(),top:s,left:a}),u=ts().toLowerCase();n&&(o=og(u)?"_blank":n),op(u)&&(t=t||"http://localhost",l.scrollbars="yes");let c=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=ts()){var t;return ow(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==o)return function(e,t){let n=document.createElement("a");n.href=e,n.target=t;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new lX(null);let h=window.open(t||"",o,c);aA(h,e,"popup-blocked");try{h.focus()}catch(e){}return new lX(h)}(e,o,ll())}async _openRedirect(e,t,n,r){var i;return await this._originValidation(e),i=await l0(e,t,n,aF(),r),lc().location.href=i,new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){var n;let{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(n="If manager is not set, promise should be",r||aM(n),r)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await lY(e),n=new lF(e);return t.register("authEvent",t=>(aA(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(l1,{type:l1},n=>{var r;let i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[l1];void 0!==i&&t(!!i),aN(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lq(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return ok()||om()||ow()}};class l3{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return aM("unexpected MultiFactorSessionType")}}}class l4 extends l3{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new l4(e)}_finalizeEnroll(e,t,n){return aB(e,"POST","/v2/accounts/mfaEnrollment:finalize",aH(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}_finalizeSignIn(e,t){return aB(e,"POST","/v2/accounts/mfaSignIn:finalize",aH(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()}))}}class l6 extends l3{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new l6(t,void 0,e)}static _fromEnrollmentId(e,t){return new l6(t,e)}async _finalizeEnroll(e,t,n){return aA(void 0!==this.secret,e,"argument-error"),aB(e,"POST","/v2/accounts/mfaEnrollment:finalize",aH(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}))}async _finalizeSignIn(e,t){aA(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");let n={verificationCode:this.otp};return aB(e,"POST","/v2/accounts/mfaSignIn:finalize",aH(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n}))}}class l5{constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new l5(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(l8(e)||l8(t))&&(r=!0),r&&(l8(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),l8(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function l8(e){return void 0===e||(null==e?void 0:e.length)===0}var l9="@firebase/auth",l7="1.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){return(this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser)?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e((null==t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){aA(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ut=tr("authIdTokenMaxAge")||300;let un=null;const ur=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ut)return;let i=null==n?void 0:n.token;un!==i&&(un=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};ox={loadJS:e=>new Promise((t,n)=>{var r,i;let s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{let t=aR("internal-error");t.customData=e,n(t)},s.type="text/javascript",s.charset="UTF-8",(null!==(i=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==i?i:document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},S="Browser",nn(new tD("auth",(e,{options:t})=>{let n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=n.options;aA(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});let o=new oT(n,r,i,{apiKey:s,authDomain:a,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oC(S)});return function(e,t){let n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ou);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(o,t),o},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),nn(new tD("auth-internal",e=>new ue(tO(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),nc(l9,l7,/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(S)),nc(l9,l7,"esm2017");const ui=nl({apiKey:"AIzaSyARXU3MK-USTUKTLo7aBqVy-9WzNcD3l-Y",authDomain:"scrum-board-7e3d2.firebaseapp.com",databaseURL:"https://scrum-board-7e3d2-default-rtdb.europe-west1.firebasedatabase.app",projectId:"scrum-board-7e3d2",storageBucket:"scrum-board-7e3d2.appspot.com",messagingSenderId:"476196483267",appId:"1:476196483267:web:b87763c49315d074a03276"}),us=function(e=nu(),t){let n=nr(e,"database").getImmediate({identifier:void 0});if(!n._instanceStarted){let e=tt("database");e&&function(e,t,n,r={}){var i;let s;(e=tO(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&nz("Cannot call useEmulator() after instance has already been initialized.");let a=e._repoInternal;a.repoInfo_.nodeAdmin?(r.mockUserToken&&nz('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new n6(n6.OWNER)):r.mockUserToken&&(s=new n6("string"==typeof r.mockUserToken?r.mockUserToken:/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){if(e.uid)throw Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[e4(JSON.stringify({alg:"none",type:"JWT"})),e4(JSON.stringify(s)),""].join(".")}(r.mockUserToken,e.app.options.projectId))),i=s,a.repoInfo_=new n7(`${t}:${n}`,!1,a.repoInfo_.namespace,a.repoInfo_.webSocketOnly,a.repoInfo_.nodeAdmin,a.repoInfo_.persistenceKey,a.repoInfo_.includeNamespaceInQueryParams,!0),i&&(a.authTokenProvider_=i)}(n,...e)}return n}(ui),ua=av(us,"todo"),uo=av(us,"inprogress"),ul=av(us,"done"),uu=function(e=nu()){let t=nr(e,"auth");if(t.isInitialized())return t.getImmediate();let n=/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function(e,t){let n=nr(e,"auth");if(n.isInitialized()){let e=n.getImmediate();if(tw(n.getOptions(),null!=t?t:{}))return e;aN(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:l2,persistence:[lk,ls,la]}),r=tr("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){var i,s;let t=ur(e.toString());i=()=>t(n.currentUser),tO(n).beforeAuthStateChanged(t,i),s=e=>t(e),tO(n).onIdTokenChanged(s,void 0,void 0)}}let a=te("auth");return a&&function(e,t,n){let r=tO(e);aA(r._canInitEmulator,r,"emulator-config-failed"),aA(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");let i=oL(t),{host:s,port:a}=function(e){let t=oL(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:oA(r.substr(e.length+1))}}{let[e,t]=r.split(":");return{host:e,port:oA(t)}}}(t),o=null===a?"":`:${a}`;r.config.emulator={url:`${i}//${s}${o}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:!1})}),function(){function e(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(n,`http://${a}`),n}(ui);function uc(e,t,n){try{let{name:r,task:i,workArea:s}=e,a={};a[t]={name:r,workArea:s,task:i},ay(n,a)}catch(e){alert("Ngot gick fel!"),console.log(e)}}function uh(e,t){try{var n;n=av(us,t+e),sK("remove",n._path),function(e,t){sK("set",(e=tO(e))._path),sW("set",null,e._path,!1);let n=new ti;!function(e,t,n,r,i){s9(e,"set",{path:t.toString(),value:n,priority:null});let s=s2(e),a=r1(n,null),o=sP(a,sf(e.serverSyncTree_,t),s),l=s5(e),u=sl(e.serverSyncTree_,t,o,l,!0);sY(e.eventQueue_,u),e.server_.put(t.toString(),a.val(!0),(n,r)=>{let s="ok"===n;s||nj("set at "+t+" failed: "+n);let a=su(e.serverSyncTree_,l,!s);sX(e.eventQueue_,t,a),s7(e,i,n,r)});let c=as(e,t);at(e,c),sX(e.eventQueue_,c,[])}(e._repo,e._path,t,0,n.wrapCallback(()=>{})),n.promise}(n,null)}catch(e){alert("Ngot gick fel testa igen!"),console.log(e)}}function ud(e){return e.charAt(0).toUpperCase()+e.slice(1)}function uf({workArea:e,task:t,keyProp:n}){let r;let i=e.toLowerCase();return(0,j.jsx)("div",{className:`pane ${i}`,children:(0,j.jsxs)("form",{onSubmit:function(){uc({task:t,workArea:e,name:r},n,uo),uh(n,"todo/")},children:[(0,j.jsxs)("p",{children:["Task: ",ud(t)]}),(0,j.jsxs)("p",{children:["Work Area: ",ud(e)]}),(0,j.jsx)("input",{type:"text",onChange:function(e){r=e.target.value.trim()},placeholder:"Enter name!",required:!0}),(0,j.jsx)("button",{type:"submit",children:"Assign"})]})},n)}function up(){let[e,t]=(0,V.useState)({});return(0,V.useEffect)(()=>{try{ak(ua,e=>{let n=e.val();t(n)})}catch(e){console.log(e),alert("Something went wrong!")}},[]),(0,j.jsxs)("div",{className:"column",children:[(0,j.jsx)("h2",{children:"Todo"}),Object.keys(e).map(t=>{let n=e[t];return(0,j.jsx)(uf,{task:n.task,workArea:n.workArea,keyProp:t})})]})}function um({keyProp:e,name:t,task:n,workArea:r}){let i=r.toLowerCase();return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:`pane ${i}`,children:[(0,j.jsxs)("p",{children:["Task: ",ud(n)]}),(0,j.jsxs)("p",{children:["Work Area: ",ud(r)]}),(0,j.jsxs)("p",{children:["Assigned to: ",ud(t)]}),(0,j.jsx)("button",{onClick:function(){uc({name:t,workArea:r,task:n},e,ul),uh(e,"inprogress/")},children:"Move to Done"})]},e)})}function ug(){let[e,t]=(0,V.useState)({});return(0,V.useEffect)(()=>{ak(uo,e=>{t(e.val())})},[]),(0,j.jsxs)("div",{className:"column",children:[(0,j.jsx)("h2",{children:"Inprogress"}),Object.keys(e).map(t=>{let n=e[t];return(0,j.jsx)(um,{keyProp:t,task:n.task,workArea:n.workArea,name:n.name})})]})}function uv({keyProp:e,name:t,workArea:n,task:r}){let i=n.toLowerCase();return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("div",{className:`pane ${i}`,children:[(0,j.jsxs)("p",{children:["Task: ",ud(r)]}),(0,j.jsxs)("p",{children:["Work Area: ",ud(n)]}),(0,j.jsxs)("p",{children:["Assigned to: ",ud(t)]}),(0,j.jsx)("button",{onClick:function(){uh(e,"done/")},children:"Remove task"})]},e)})}function u_(){let[e,t]=(0,V.useState)({});return(0,V.useEffect)(()=>{ak(ul,e=>{t(e.val())})},[]),(0,j.jsxs)("div",{className:"column",children:[(0,j.jsx)("h2",{children:"Done"}),Object.keys(e).map(t=>{let n=e[t];return(0,j.jsx)(uv,{keyProp:t,name:n.name,task:n.task,workArea:n.workArea})})]})}function uy(){return(0,j.jsxs)("div",{id:"contentContainer",children:[(0,j.jsx)(up,{}),(0,j.jsx)(ug,{}),(0,j.jsx)(u_,{})]})}function ub(){let e="",t="";return(0,j.jsxs)("div",{id:"head",children:[(0,j.jsx)("h1",{children:"Scrum Board"}),(0,j.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),n.target.reset(),!e){alert("Please chose a work area!");return}let r=function(e,t){let n;sK("push",(e=tO(e))._path),sW("push",void 0,e._path,!0);let r=ac(s1(e._repo)),i=a_(e,r);return n=Promise.resolve(a_(e,r)),i.then=n.then.bind(n),i.catch=n.then.bind(n,void 0),i}(ua).key,i={};i[r]={task:t,workArea:e},ay(ua,i)},children:[(0,j.jsx)("input",{onChange:function(e){t=e.target.value},type:"text",placeholder:"Beskriv problemet kort!",id:"input",required:!0}),(0,j.jsxs)("select",{onChange:function(t){e=t.target.value},id:"workArea",name:"workArea",children:[(0,j.jsx)("option",{children:"Please chose a work area"}),(0,j.jsx)("option",{value:"backend",children:"Dev Backend"}),(0,j.jsx)("option",{value:"ux",children:"UX"}),(0,j.jsx)("option",{value:"frontend",children:"Dev Frontend"})]}),(0,j.jsx)("button",{type:"submit",children:"Add"})]})]})}function uw(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(ub,{}),(0,j.jsx)(uy,{})]})}async function uk(e){let{email:t,pw:n}=e;try{return await (ni(uu.app)?Promise.reject(aD(uu)):lt(tO(uu),oJ.credential(t,n)).catch(async e=>{throw"auth/password-does-not-meet-requirements"===e.code&&ln(uu),e}))}catch(e){return Promise.reject(Error("Wrong user credentials or bad connection!"))}}function uC({setIsLoggedIn:e}){let t,n;let r=ev();return(0,j.jsxs)("div",{className:"login-form",children:[(0,j.jsx)("h2",{children:"Login Page!"}),(0,j.jsxs)("form",{onSubmit:function(i){i.preventDefault(),i.target.reset(),uk({email:t,pw:n}).then(()=>{e(!0),r("/")}).catch(e=>{alert(e.message)})},children:[(0,j.jsx)("label",{children:"Email adress"}),(0,j.jsx)("input",{onChange:function(e){t=e.target.value.trim()},type:"text",id:"email",required:!0}),(0,j.jsx)("label",{children:"Password"}),(0,j.jsx)("input",{onChange:function(e){n=e.target.value.trim()},type:"password",id:"password",required:!0}),(0,j.jsx)("button",{type:"submit",children:"Login"})]})]})}var V=(U("acw62"),U("acw62"),U("acw62"),U("acw62"));E(document.querySelector("#root")).render((0,j.jsx)(function(){let[e,t]=(0,V.useState)(!1);return(0,j.jsxs)(eL,{children:[(0,j.jsx)("nav",{children:(0,j.jsx)(eF,{to:"/"})}),(0,j.jsxs)(ex,{children:[(0,j.jsx)(eT,{path:"/",element:e?(0,j.jsx)(uw,{}):(0,j.jsx)(eI,{to:"/login",replace:!0})}),(0,j.jsx)(eT,{path:"/login",element:(0,j.jsx)(uC,{setIsLoggedIn:t})})]})]})},{}));
//# sourceMappingURL=index.fb11c49c.js.map
